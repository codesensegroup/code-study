{"_path":"/sdi-aig/chapter8","_dir":"sdi-aig","_draft":false,"_partial":false,"_locale":"","title":"08 設計短網址生成器","description":"","pageTitle":"Chapter 8 設計短網址生成器","contributors":["pomeloJ"],"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"第一步驟了解問題並確立設計的範圍"},"children":[{"type":"text","value":"第一步驟：了解問題並確立設計的範圍"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"系統設計面試問題通常會刻意保持開放，不把細節說清楚。如果想做出一個精心設計的系統，詢問並釐清問題的過程至關重要。"}]},{"type":"element","tag":"h3","props":{"id":"問題釐清對話"},"children":[{"type":"text","value":"問題釐清對話"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"應試者"}]},{"type":"text","value":"：關於短網址生成器的運作方式，你能舉個例子嗎？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"面試官"}]},{"type":"text","value":"：假設原始的網址為 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://www.systeminterview.com/q=chatsystem&c=loggedin&v=v3&l=long"}]},{"type":"text","value":"，你的服務就是要創建出一個長度比較短的等效網址，例如："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://tinyurl.com/y7keocwj"}]},{"type":"text","value":"。只要點擊這個短網址，就會把你重定向到原始的網址。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"應試者"}]},{"type":"text","value":"：使用的流量會有多少呢？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"面試官"}]},{"type":"text","value":"：每天要生成1億個網址。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"應試者"}]},{"type":"text","value":"：短網址的長度能有多長？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"面試官"}]},{"type":"text","value":"：越短越好。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"應試者"}]},{"type":"text","value":"：短網址內可使用哪些字元？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"面試官"}]},{"type":"text","value":"：短網址可以是數字(0-9)與大小寫字母(a-z、A-Z)的組合。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"應試者"}]},{"type":"text","value":"：可以刪除或更新短網址嗎？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"面試官"}]},{"type":"text","value":"：為了簡單起見，我們姑且假設不能刪除或更新短網址。"}]},{"type":"element","tag":"h3","props":{"id":"基本需求與核心功能"},"children":[{"type":"text","value":"基本需求與核心功能"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"縮短網址"}]},{"type":"text","value":"：提供一個長網址，回傳一個短網址"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"網址重定向"}]},{"type":"text","value":"：使用一個短網址，能重新導向至原始的長網址"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"系統考量"}]},{"type":"text","value":"：應具備高可用性、可擴展性與容錯性"}]}]},{"type":"element","tag":"h3","props":{"id":"粗略的估算"},"children":[{"type":"text","value":"粗略的估算"}]},{"type":"element","tag":"h4","props":{"id":"寫入操作"},"children":[{"type":"text","value":"寫入操作"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"每天生成：1億個網址"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"每秒寫入：1億 ÷ 24 ÷ 3600 ≈ "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"1,160 次"}]}]}]},{"type":"element","tag":"h4","props":{"id":"讀取操作"},"children":[{"type":"text","value":"讀取操作"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"假設讀寫比為 10:1"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"每秒讀取：1,160 × 10 = "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"11,600 次"}]}]}]},{"type":"element","tag":"h4","props":{"id":"儲存需求10年"},"children":[{"type":"text","value":"儲存需求（10年）"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"總記錄數：1億 × 365 × 10 = "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"3,650億筆"}]},{"type":"text","value":"記錄"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"儲存空間：3,650億 × 100 Bytes = "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"36.5 TB"}]},{"type":"text","value":"（假設平均網址長度為100字元）"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"第二步驟提出高階設計並取得認可"},"children":[{"type":"text","value":"第二步驟：提出高階設計並取得認可"}]},{"type":"element","tag":"h3","props":{"id":"api-端點"},"children":[{"type":"text","value":"API 端點"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"採用 REST 風格設計 API："}]},{"type":"element","tag":"h4","props":{"id":"_1-縮短網址-post"},"children":[{"type":"text","value":"1. 縮短網址 (POST)"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"路徑"}]},{"type":"text","value":"："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"POST api/v1/data/shorten"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"請求參數"}]},{"type":"text","value":"："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{ \"longUrl\": \"longURLString\" }"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"回傳"}]},{"type":"text","value":"：短網址 (shortURL)"}]}]},{"type":"element","tag":"h4","props":{"id":"_2-網址重定向-get"},"children":[{"type":"text","value":"2. 網址重定向 (GET)"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"路徑"}]},{"type":"text","value":"："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"GET api/v1/shortUrl"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"回傳"}]},{"type":"text","value":"：透過 HTTP 重定向回傳 longURL"}]}]},{"type":"element","tag":"h3","props":{"id":"網址重定向流程"},"children":[{"type":"text","value":"網址重定向流程"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當伺服器收到短網址請求時，會透過 HTTP 301 重定向回應，將瀏覽器導向至原始的長網址。"}]},{"type":"element","tag":"pre","props":{"className":"language-http shiki shiki-themes github-dark github-light monokai","code":"Request URL: https://tinyurl.com/qtj503u\nRequest Method: GET\nStatus Code: 301\nLocation: https://www.amazon.com/dp/dp/B817V4NTFA?pLink=63eaef76...\n","language":"http","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Request URL: https://tinyurl.com/qtj503u\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Request Method: GET\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Status Code: 301\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Location: https://www.amazon.com/dp/dp/B817V4NTFA?pLink=63eaef76...\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Figure 8-1","src":"/code-study/images/sdi-aig/08/figure8-1.png"},"children":[]}]},{"type":"element","tag":"h4","props":{"id":"重定向類型比較"},"children":[{"type":"text","value":"重定向類型比較"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"301 重定向（永久）"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"瀏覽器會快取此重定向"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"未來請求直接發送到長網址伺服器"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"可降低短網址伺服器的負載"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"302 重定向（臨時）"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"瀏覽器不會快取"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"每次請求都會先經過短網址伺服器"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"有利於進行點擊率等數據分析"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"網址縮短流程"},"children":[{"type":"text","value":"網址縮短流程"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"透過雜湊函式 f(x) 將長網址轉換為雜湊值（hashValue），這個雜湊值就是短網址的一部分。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"要求"}]},{"type":"text","value":"："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"每個長網址都能轉換成一個雜湊值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"每個雜湊值都能對應回原始的長網址"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Figure 8-2","src":"/code-study/images/sdi-aig/08/figure8-2.png"},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"第三步驟深入設計"},"children":[{"type":"text","value":"第三步驟：深入設計"}]},{"type":"element","tag":"h3","props":{"id":"資料模型"},"children":[{"type":"text","value":"資料模型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"將 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<shortURL, longURL>"}]},{"type":"text","value":" 的對應關係保存在關聯式資料庫中。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"簡化的資料表結構"}]},{"type":"text","value":"："}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"欄位"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"類型"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"說明"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Primary Key"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"主鍵"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"shortURL"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"短網址"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"longURL"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"長網址"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"雜湊函式"},"children":[{"type":"text","value":"雜湊函式"}]},{"type":"element","tag":"h4","props":{"id":"雜湊值長度計算"},"children":[{"type":"text","value":"雜湊值長度計算"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"字元集"}]},{"type":"text","value":"："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[0-9, a-z, A-Z]"}]},{"type":"text","value":"，共 62 種可能字元"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"需求"}]},{"type":"text","value":"：支援 3,650 億筆記錄"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"計算"}]},{"type":"text","value":"：找到最小的 n 值，使得 62^n > 3,650億"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"結果"}]},{"type":"text","value":"：當 n=7 時，62^7 ≈ 3.5 兆，足以滿足需求"}]}]},{"type":"element","tag":"h4","props":{"id":"兩種實現方法"},"children":[{"type":"text","value":"兩種實現方法"}]},{"type":"element","tag":"h5","props":{"id":"方法一雜湊-衝突解決"},"children":[{"type":"text","value":"方法一：雜湊 + 衝突解決"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 MD5 或 SHA-1 等雜湊函式處理長網址"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"截取前 7 個字元"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若發生衝突，在長網址後附加預定義字串，重新計算"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"可使用 Bloom 篩選器優化效能"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Figure 8-3","src":"/code-study/images/sdi-aig/08/figure8-3.png"},"children":[]}]},{"type":"element","tag":"h5","props":{"id":"方法二base-62-轉換"},"children":[{"type":"text","value":"方法二：Base 62 轉換"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"為每筆新的長網址生成唯一 ID（資料庫主鍵）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"將 ID 從 10 進位轉換為 62 進位"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"例如：ID "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"11157"}]},{"type":"text","value":" → "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"2TX"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Figure 8-4","src":"/code-study/images/sdi-aig/08/figure8-4.png"},"children":[]}]},{"type":"element","tag":"h4","props":{"id":"方法比較"},"children":[{"type":"text","value":"方法比較"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"特性"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"雜湊+衝突解決"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Base 62 轉換"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"短網址長度"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"固定"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"不固定，隨ID值遞增"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"ID生成器"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"不需要"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"需要唯一ID生成器"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"衝突處理"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"可能出現，需解決"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"不可能出現"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"安全性"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"不可預知下一個短網址"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"可預知，有安全性疑慮"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"深入研究短網址流程採用-base-62"},"children":[{"type":"text","value":"深入研究短網址流程（採用 Base 62）"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"輸入"}]},{"type":"text","value":"：使用者提供長網址 (longURL)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"檢查"}]},{"type":"text","value":"：系統檢查 longURL 是否已存在於資料庫"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"若存在"}]},{"type":"text","value":"：直接從資料庫取出對應的 shortURL 並回傳"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"若不存在"}]},{"type":"text","value":"：由唯一 ID 生成器產生新的唯一 ID"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"轉換"}]},{"type":"text","value":"：使用 Base 62 轉換方法將 ID 轉換為 shortURL"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"儲存"}]},{"type":"text","value":"：將新的 ID、shortURL 與 longURL 存入資料庫"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Figure 8-5","src":"/code-study/images/sdi-aig/08/figure8-5.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"📌 "},{"type":"element","tag":"a","props":{"href":"https://pv.jimpop.org/20250910/base62.html","rel":["nofollow"]},"children":[{"type":"text","value":"BASE62轉換動畫範例"}]}]},{"type":"element","tag":"h3","props":{"id":"深入探討網址重定向流程"},"children":[{"type":"text","value":"深入探討網址重定向流程"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用者點擊短網址連結"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"負載平衡器將請求轉發至 Web 伺服器"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"伺服器檢查快取中是否存在該 shortURL\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若存在：直接回傳 longURL"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若不存在：從資料庫查詢"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若資料庫中也不存在，表示這是無效的 shortURL"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"將查詢到的 longURL 送回給使用者，觸發重定向"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Figure 8-6","src":"/code-study/images/sdi-aig/08/figure8-6.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"📌 "},{"type":"element","tag":"a","props":{"href":"https://pv.jimpop.org/20250910/short.html","rel":["nofollow"]},"children":[{"type":"text","value":"短網址製作動畫範例"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"第四步驟彙整總結"},"children":[{"type":"text","value":"第四步驟：彙整總結"}]},{"type":"element","tag":"h3","props":{"id":"可額外討論的要點"},"children":[{"type":"text","value":"可額外討論的要點"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"網路限速器"}]},{"type":"text","value":"：為防止惡意用戶大量請求，可根據 IP 位址等規則進行速率限制"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Web 伺服器擴展"}]},{"type":"text","value":"：由於 Web 層是無狀態的，可以輕易地增加或移除伺服器來進行擴展"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"資料庫擴展"}]},{"type":"text","value":"：可使用資料庫複寫（replication）與分片（sharding）等技術來擴展"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"分析"}]},{"type":"text","value":"：整合分析功能，以追蹤連結的點擊次數與時間等資訊"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"可用性、一致性與可靠性"}]},{"type":"text","value":"：這些是任何大型系統成功的核心概念"}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"第一步驟了解問題並確立設計的範圍","depth":2,"text":"第一步驟：了解問題並確立設計的範圍","children":[{"id":"問題釐清對話","depth":3,"text":"問題釐清對話"},{"id":"基本需求與核心功能","depth":3,"text":"基本需求與核心功能"},{"id":"粗略的估算","depth":3,"text":"粗略的估算"}]},{"id":"第二步驟提出高階設計並取得認可","depth":2,"text":"第二步驟：提出高階設計並取得認可","children":[{"id":"api-端點","depth":3,"text":"API 端點"},{"id":"網址重定向流程","depth":3,"text":"網址重定向流程"},{"id":"網址縮短流程","depth":3,"text":"網址縮短流程"}]},{"id":"第三步驟深入設計","depth":2,"text":"第三步驟：深入設計","children":[{"id":"資料模型","depth":3,"text":"資料模型"},{"id":"雜湊函式","depth":3,"text":"雜湊函式"},{"id":"深入研究短網址流程採用-base-62","depth":3,"text":"深入研究短網址流程（採用 Base 62）"},{"id":"深入探討網址重定向流程","depth":3,"text":"深入探討網址重定向流程"}]},{"id":"第四步驟彙整總結","depth":2,"text":"第四步驟：彙整總結","children":[{"id":"可額外討論的要點","depth":3,"text":"可額外討論的要點"}]}]}},"_type":"markdown","_id":"content:7.sdi-aig:8.chapter8.md","_source":"content","_file":"7.sdi-aig/8.chapter8.md","_stem":"7.sdi-aig/8.chapter8","_extension":"md"}