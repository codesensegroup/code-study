<!DOCTYPE html>
<html  lang="en">
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Redis快速入門 · 摳Sense讀書會筆記</title>
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="twitter:card" content="summary_large_image">
<meta name="description" content="The best place to start your documentation.">
<meta property="og:description" content="The best place to start your documentation.">
<meta property="og:image" content="https://user-images.githubusercontent.com/904724/185365452-87b7ca7b-6030-4813-a2db-5e65c785bf88.png">
<meta property="og:title" content="Redis快速入門">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/code-study/workshop/redis/_payload.json">
<link rel="stylesheet" href="/code-study/_nuxt/entry.f65b9831.css">
<link rel="stylesheet" href="/code-study/_nuxt/DocumentDrivenNotFound.7238633c.css">
<link rel="stylesheet" href="/code-study/_nuxt/ButtonLink.c4905621.css">
<link rel="stylesheet" href="/code-study/_nuxt/default.36540c7d.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseCodeInline.21ce328c.css">
<link rel="stylesheet" href="/code-study/_nuxt/Alert.408d0512.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseA.e2976377.css">
<link rel="stylesheet" href="/code-study/_nuxt/DocsPrevNext.0d80e373.css">
<link rel="stylesheet" href="/code-study/_nuxt/DocsToc.855ff635.css">
<link rel="stylesheet" href="/code-study/_nuxt/DocsTocLinks.310b9647.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseH2.df45a763.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseP.945916cd.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseH3.88c2d983.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseUl.c9c63ec7.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseLi.ac05b421.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseStrong.263d77e1.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseH4.5b64d6f8.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProsePre.e63e49c6.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseCode.96aa36be.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseTable.c65fbffe.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseThead.332c0b8a.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseTr.65bec588.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseTh.cb34fc46.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseTd.b09a068a.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseH5.79b89231.css">
<link rel="stylesheet" href="/code-study/_nuxt/ProseOl.5ddab164.css">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/entry.afb90f09.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/document-driven.3359d1a7.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/DocumentDrivenEmpty.1943eefd.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ContentRenderer.3330643e.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ContentRendererMarkdown.vue.dd534653.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/DocumentDrivenNotFound.f3f8ba53.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ButtonLink.a7c39073.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/slot.3336ca01.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/node.676c5e99.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/default.65745369.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseCodeInline.08d3a04b.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/Alert.3bbbbc53.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseA.ff775006.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/EditOnLink.vue.0c869824.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/DocsPrevNext.df466b21.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/DocsToc.2f98985d.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/DocsTocLinks.18eda5e0.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ContentRendererMarkdown.8405c3b8.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/EditOnLink.51858826.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseH2.b4947b84.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseP.7ea79ff3.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseH3.fdf04fa0.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseUl.70d8991a.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseLi.4b849132.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseStrong.ea2a62d8.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseH4.b056365f.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProsePre.5771d087.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseCode.138b70d7.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseTable.cf87836e.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseThead.b627ab58.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseTr.a360ae33.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseTh.b64645eb.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseTbody.44333e18.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseTd.300ea0c5.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseH5.2b187d00.js">
<link rel="modulepreload" as="script" crossorigin href="/code-study/_nuxt/ProseOl.5944a80e.js">
<link rel="prefetch" as="style" href="/code-study/_nuxt/page.41b64923.css">
<link rel="prefetch" as="script" crossorigin href="/code-study/_nuxt/page.7235b31a.js">
<link rel="prefetch" as="style" href="/code-study/_nuxt/useStudio.37ff8fdd.css">
<link rel="prefetch" as="script" crossorigin href="/code-study/_nuxt/useStudio.ae188428.js">
<link rel="prefetch" as="script" crossorigin href="/code-study/_nuxt/debug.b78dc631.js">
<link rel="prefetch" as="script" crossorigin href="/code-study/_nuxt/client-db.af9eea06.js">
<link rel="prefetch" as="style" href="/code-study/_nuxt/error-404.e7689c2d.css">
<link rel="prefetch" as="script" crossorigin href="/code-study/_nuxt/error-404.8436e0bb.js">
<link rel="prefetch" as="style" href="/code-study/_nuxt/error-500.92b46a75.css">
<link rel="prefetch" as="script" crossorigin href="/code-study/_nuxt/error-500.7fce057e.js">
<script type="module" src="/code-study/_nuxt/entry.afb90f09.js" crossorigin></script><style id="pinceau-runtime-hydratable">@media{.phy[--]{--puid:2vd5iR-v;}.pv-ytHkIM{padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-ytHkIM{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-ytHkIM{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-ytHkIM{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} </style><style id="pinceau-theme">@media { :root {--pinceau-mq: initial; --docus-search-results-highlight-color: white;--docus-search-results-window-maxHeight: 100%;--docus-search-results-window-maxWidth: 640px;--docus-search-results-window-marginTop: 0;--docus-search-input-borderStyle: solid;--docus-search-input-borderWidth: 1px;--docus-search-backdropFilter: blur(24px);--docus-loadingBar-gradientColorStop3: #0047e1;--docus-loadingBar-gradientColorStop2: #34cdfe;--docus-loadingBar-gradientColorStop1: #00dc82;--docus-loadingBar-height: 3px;--docus-readableLine: 78ch;--docus-footer-height: 145px;--docus-header-height: 64px;--prose-code-inline-padding: 0.2rem 0.375rem 0.2rem 0.375rem;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-border-style: solid;--prose-code-block-border-width: 1px;--prose-tbody-tr-borderBottom-style: dashed;--prose-tbody-tr-borderBottom-width: 1px;--prose-th-textAlign: inherit;--prose-thead-borderBottom-style: solid;--prose-thead-borderBottom-width: 1px;--prose-thead-border-style: solid;--prose-thead-border-width: 0px;--prose-table-textAlign: start;--prose-hr-width: 1px;--prose-hr-style: solid;--prose-li-listStylePosition: outside;--prose-ol-li-markerColor: currentColor;--prose-ol-paddingInlineStart: 21px;--prose-ol-listStyleType: decimal;--prose-ul-li-markerColor: currentColor;--prose-ul-paddingInlineStart: 21px;--prose-ul-listStyleType: disc;--prose-blockquote-border-style: solid;--prose-blockquote-border-width: 4px;--prose-blockquote-quotes: '201C' '201D' '2018' '2019';--prose-blockquote-paddingInlineStart: 24px;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-hasCode-borderBottom: none;--prose-a-border-distance: 2px;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-border-style-hover: solid;--prose-a-border-style-static: dashed;--prose-a-border-width: 1px;--prose-a-color-static: inherit;--prose-a-textDecoration: none;--prose-h6-margin: 3rem 0 2rem;--prose-h5-margin: 3rem 0 2rem;--prose-h4-margin: 3rem 0 2rem;--prose-h3-margin: 3rem 0 2rem;--prose-h2-margin: 3rem 0 2rem;--prose-h1-margin: 0 0 2rem;--typography-lead-loose: 2;--typography-lead-relaxed: 1.625;--typography-lead-normal: 1.5;--typography-lead-snug: 1.375;--typography-lead-tight: 1.25;--typography-lead-none: 1;--typography-lead-10: 2.5rem;--typography-lead-9: 2.25rem;--typography-lead-8: 2rem;--typography-lead-7: 1.75rem;--typography-lead-6: 1.5rem;--typography-lead-5: 1.25rem;--typography-lead-4: 1rem;--typography-lead-3: .75rem;--typography-lead-2: .5rem;--typography-lead-1: .025rem;--typography-fontWeight-black: 900;--typography-fontWeight-extrabold: 800;--typography-fontWeight-bold: 700;--typography-fontWeight-semibold: 600;--typography-fontWeight-medium: 500;--typography-fontWeight-normal: 400;--typography-fontWeight-light: 300;--typography-fontWeight-extralight: 200;--typography-fontWeight-thin: 100;--typography-fontSize-9xl: 128px;--typography-fontSize-8xl: 96px;--typography-fontSize-7xl: 72px;--typography-fontSize-6xl: 60px;--typography-fontSize-5xl: 48px;--typography-fontSize-4xl: 36px;--typography-fontSize-3xl: 30px;--typography-fontSize-2xl: 24px;--typography-fontSize-xl: 20px;--typography-fontSize-lg: 18px;--typography-fontSize-base: 16px;--typography-fontSize-sm: 14px;--typography-fontSize-xs: 12px;--typography-letterSpacing-wide: 0.025em;--typography-letterSpacing-tight: -0.025em;--typography-verticalMargin-base: 24px;--typography-verticalMargin-sm: 16px;--elements-border-secondary-hover: [object Object];--elements-backdrop-background: #fffc;--elements-backdrop-filter: saturate(200%) blur(20px);--elements-container-maxWidth: 80rem;--lead-loose: 2;--lead-relaxed: 1.625;--lead-normal: 1.5;--lead-snug: 1.375;--lead-tight: 1.25;--lead-none: 1;--lead-10: 2.5rem;--lead-9: 2.25rem;--lead-8: 2rem;--lead-7: 1.75rem;--lead-6: 1.5rem;--lead-5: 1.25rem;--lead-4: 1rem;--lead-3: .75rem;--lead-2: .5rem;--lead-1: .025rem;--letterSpacing-widest: 0.1em;--letterSpacing-wider: 0.05em;--letterSpacing-wide: 0.025em;--letterSpacing-normal: 0em;--letterSpacing-tight: -0.025em;--letterSpacing-tighter: -0.05em;--fontSize-9xl: 8rem;--fontSize-8xl: 6rem;--fontSize-7xl: 4.5rem;--fontSize-6xl: 3.75rem;--fontSize-5xl: 3rem;--fontSize-4xl: 2.25rem;--fontSize-3xl: 1.875rem;--fontSize-2xl: 1.5rem;--fontSize-xl: 1.25rem;--fontSize-lg: 1.125rem;--fontSize-base: 1rem;--fontSize-sm: 0.875rem;--fontSize-xs: 0.75rem;--fontWeight-black: 900;--fontWeight-extrabold: 800;--fontWeight-bold: 700;--fontWeight-semibold: 600;--fontWeight-medium: 500;--fontWeight-normal: 400;--fontWeight-light: 300;--fontWeight-extralight: 200;--fontWeight-thin: 100;--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--opacity-total: 1;--opacity-high: 0.8;--opacity-medium: 0.5;--opacity-soft: 0.3;--opacity-light: 0.15;--opacity-bright: 0.1;--opacity-noOpacity: 0;--borderWidth-lg: 3px;--borderWidth-md: 2px;--borderWidth-sm: 1px;--borderWidth-noBorder: 0;--space-rem-875: 0.875rem;--space-rem-625: 0.625rem;--space-rem-375: 0.375rem;--space-rem-125: 0.125rem;--space-px: 1px;--space-128: 32rem;--space-96: 24rem;--space-80: 20rem;--space-72: 18rem;--space-64: 16rem;--space-60: 15rem;--space-56: 14rem;--space-52: 13rem;--space-48: 12rem;--space-44: 11rem;--space-40: 10rem;--space-36: 9rem;--space-32: 8rem;--space-28: 7rem;--space-24: 6rem;--space-20: 5rem;--space-16: 4rem;--space-14: 3.5rem;--space-12: 3rem;--space-11: 2.75rem;--space-10: 2.5rem;--space-9: 2.25rem;--space-8: 2rem;--space-7: 1.75rem;--space-6: 1.5rem;--space-5: 1.25rem;--space-4: 1rem;--space-3: 0.75rem;--space-2: 0.5rem;--space-1: 0.25rem;--space-0: 0px;--size-full: 100%;--size-7xl: 80rem;--size-6xl: 72rem;--size-5xl: 64rem;--size-4xl: 56rem;--size-3xl: 48rem;--size-2xl: 42rem;--size-xl: 36rem;--size-lg: 32rem;--size-md: 28rem;--size-sm: 24rem;--size-xs: 20rem;--size-200: 200px;--size-104: 104px;--size-80: 80px;--size-64: 64px;--size-56: 56px;--size-48: 48px;--size-40: 40px;--size-32: 32px;--size-24: 24px;--size-20: 20px;--size-16: 16px;--size-12: 12px;--size-8: 8px;--size-6: 6px;--size-4: 4px;--size-2: 2px;--size-0: 0px;--radii-full: 9999px;--radii-3xl: 1.75rem;--radii-2xl: 1.5rem;--radii-xl: 1rem;--radii-lg: 0.75rem;--radii-md: 0.5rem;--radii-sm: 0.375rem;--radii-xs: 0.25rem;--radii-2xs: 0.125rem;--radii-none: 0px;--shadow-none: 0px 0px 0px 0px transparent;--height-screen: 100vh;--width-screen: 100vw;--color-primary-900: #001A1F;--color-primary-800: #00232B;--color-primary-700: #024757;--color-primary-600: #09A0C1;--color-primary-500: #1AD6FF;--color-primary-400: #55E1FF;--color-primary-300: #82E3FF;--color-primary-200: #C5F2FF;--color-primary-100: #DCF7FF;--color-primary-50: #F1FCFF;--color-ruby-900: #380011;--color-ruby-800: #700021;--color-ruby-700: #a90032;--color-ruby-600: #e10043;--color-ruby-500: #ff1a5e;--color-ruby-400: #ff4079;--color-ruby-300: #ff6694;--color-ruby-200: #ff8dae;--color-ruby-100: #ffb3c9;--color-ruby-50: #ffd9e4;--color-pink-900: #380025;--color-pink-800: #70004b;--color-pink-700: #a90070;--color-pink-600: #e10095;--color-pink-500: #ff1ab2;--color-pink-400: #ff40bf;--color-pink-300: #ff66cc;--color-pink-200: #ff8dd8;--color-pink-100: #ffb3e5;--color-pink-50: #ffd9f2;--color-purple-900: #190038;--color-purple-800: #330070;--color-purple-700: #4c00a9;--color-purple-600: #6500e1;--color-purple-500: #811aff;--color-purple-400: #9640ff;--color-purple-300: #ab66ff;--color-purple-200: #c08dff;--color-purple-100: #d5b3ff;--color-purple-50: #ead9ff;--color-royalblue-900: #0b0531;--color-royalblue-800: #160a62;--color-royalblue-700: #211093;--color-royalblue-600: #2c15c4;--color-royalblue-500: #4127e8;--color-royalblue-400: #614bec;--color-royalblue-300: #806ff0;--color-royalblue-200: #a093f3;--color-royalblue-100: #c0b7f7;--color-royalblue-50: #dfdbfb;--color-indigoblue-900: #001238;--color-indigoblue-800: #002370;--color-indigoblue-700: #0035a9;--color-indigoblue-600: #0047e1;--color-indigoblue-500: #1a62ff;--color-indigoblue-400: #407cff;--color-indigoblue-300: #6696ff;--color-indigoblue-200: #8db0ff;--color-indigoblue-100: #b3cbff;--color-indigoblue-50: #d9e5ff;--color-blue-900: #00131D;--color-blue-800: #002235;--color-blue-700: #014267;--color-blue-600: #0069A6;--color-blue-500: #1AADFF;--color-blue-400: #64C7FF;--color-blue-300: #A1DDFF;--color-blue-200: #C6EAFF;--color-blue-100: #DFF3FF;--color-blue-50: #F2FAFF;--color-lightblue-900: #002e38;--color-lightblue-800: #005c70;--color-lightblue-700: #008aa9;--color-lightblue-600: #00b9e1;--color-lightblue-500: #1ad6ff;--color-lightblue-400: #40ddff;--color-lightblue-300: #66e4ff;--color-lightblue-200: #8deaff;--color-lightblue-100: #b3f1ff;--color-lightblue-50: #d9f8ff;--color-teal-900: #062a28;--color-teal-800: #0b544f;--color-teal-700: #117d77;--color-teal-600: #16a79e;--color-teal-500: #1cd1c6;--color-teal-400: #36e4da;--color-teal-300: #5fe9e1;--color-teal-200: #87efe9;--color-teal-100: #aff4f0;--color-teal-50: #d7faf8;--color-pear-900: #2a2b09;--color-pear-800: #545512;--color-pear-700: #7e801b;--color-pear-600: #a8aa24;--color-pear-500: #d0d32f;--color-pear-400: #d8da52;--color-pear-300: #e0e274;--color-pear-200: #e8e997;--color-pear-100: #eff0ba;--color-pear-50: #f7f8dc;--color-red-900: #1C0301;--color-red-800: #340A01;--color-red-700: #701704;--color-red-600: #BB2402;--color-red-500: #FF3B10;--color-red-400: #FF7353;--color-red-300: #FFA692;--color-red-200: #FFDED7;--color-red-100: #FFF3F0;--color-red-50: #FFF9F8;--color-orange-900: #381800;--color-orange-800: #702f00;--color-orange-700: #a94700;--color-orange-600: #e15e00;--color-orange-500: #ff7a1a;--color-orange-400: #ff9040;--color-orange-300: #ffa666;--color-orange-200: #ffbd8d;--color-orange-100: #ffd3b3;--color-orange-50: #ffe9d9;--color-yellow-900: #1B1500;--color-yellow-800: #292100;--color-yellow-700: #614E02;--color-yellow-600: #CBA408;--color-yellow-500: #FBCA05;--color-yellow-400: #FFDC4E;--color-yellow-300: #FFE372;--color-yellow-200: #FFF0B1;--color-yellow-100: #FFF6D3;--color-yellow-50: #FFFCEE;--color-green-900: #00190F;--color-green-800: #002817;--color-green-700: #006037;--color-green-600: #00B467;--color-green-500: #0DD885;--color-green-400: #3CEEA5;--color-green-300: #86FBCB;--color-green-200: #C3FFE6;--color-green-100: #DEFFF1;--color-green-50: #ECFFF7;--color-gray-900: #121110;--color-gray-800: #201E1B;--color-gray-700: #36332E;--color-gray-600: #67635D;--color-gray-500: #97948F;--color-gray-400: #ADA9A4;--color-gray-300: #DBD9D3;--color-gray-200: #ECEBE8;--color-gray-100: #F6F5F4;--color-gray-50: #FBFBFB;--color-black: #0B0A0A;--color-white: #ffffff;--media-portrait: only screen and (orientation: portrait);--media-landscape: only screen and (orientation: landscape);--media-rm: (prefers-reduced-motion: reduce);--media-2xl: (min-width: 1536px);--media-xl: (min-width: 1280px);--media-lg: (min-width: 1024px);--media-md: (min-width: 768px);--media-sm: (min-width: 640px);--media-xs: (min-width: 475px);--docus-search-results-highlight-backgroundColor: var(--color-primary-500);--docus-search-results-selected-backgroundColor: var(--color-gray-300);--docus-search-results-window-borderRadius: none;--docus-search-results-window-marginX: 0;--docus-search-input-backgroundColor: var(--color-gray-200);--docus-search-input-padding: var(--space-2) var(--space-4);--docus-search-input-gap: var(--space-2);--docus-search-input-fontSize: var(--fontSize-sm);--docus-search-input-borderColor: var(--color-gray-200);--docus-search-input-borderRadius: var(--radii-2xs);--docus-footer-padding: var(--space-4) 0;--docus-header-title-color-hover: var(--color-primary-500);--docus-header-title-color-static: var(--color-gray-900);--docus-header-title-fontWeight: var(--fontWeight-bold);--docus-header-title-fontSize: var(--fontSize-2xl);--docus-header-logo-height: var(--space-6);--docus-body-fontFamily: var(--font-sans);--docus-body-color: var(--color-gray-800);--docus-body-backgroundColor: var(--color-white);--prose-code-inline-fontWeight: var(--typography-fontWeight-normal);--prose-code-inline-fontSize: var(--typography-fontSize-sm);--prose-code-inline-borderRadius: var(--radii-xs);--prose-code-block-pre-padding: var(--typography-verticalMargin-sm);--prose-code-block-margin: var(--typography-verticalMargin-base) 0;--prose-code-block-fontSize: var(--typography-fontSize-sm);--prose-tbody-code-inline-fontSize: var(--typography-fontSize-sm);--prose-tbody-td-padding: var(--typography-verticalMargin-sm);--prose-th-fontWeight: var(--typography-fontWeight-semibold);--prose-th-padding: 0 var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm);--prose-table-lineHeight: var(--typography-lead-6);--prose-table-fontSize: var(--typography-fontSize-sm);--prose-table-margin: var(--typography-verticalMargin-base) 0;--prose-hr-margin: var(--typography-verticalMargin-base) 0;--prose-li-margin: var(--typography-verticalMargin-sm) 0;--prose-ol-margin: var(--typography-verticalMargin-base) 0;--prose-ul-margin: var(--typography-verticalMargin-base) 0;--prose-blockquote-margin: var(--typography-verticalMargin-base) 0;--prose-a-code-border-style: var(--prose-a-border-style-static);--prose-a-code-border-width: var(--prose-a-border-width);--prose-a-fontWeight: var(--typography-fontWeight-medium);--prose-img-margin: var(--typography-verticalMargin-base) 0;--prose-strong-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-iconSize: var(--typography-fontSize-base);--prose-h6-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-lineHeight: var(--typography-lead-normal);--prose-h6-fontSize: var(--typography-fontSize-lg);--prose-h5-iconSize: var(--typography-fontSize-lg);--prose-h5-fontWeight: var(--typography-fontWeight-semibold);--prose-h5-lineHeight: var(--typography-lead-snug);--prose-h5-fontSize: var(--typography-fontSize-xl);--prose-h4-iconSize: var(--typography-fontSize-lg);--prose-h4-letterSpacing: var(--typography-letterSpacing-tight);--prose-h4-fontWeight: var(--typography-fontWeight-semibold);--prose-h4-lineHeight: var(--typography-lead-snug);--prose-h4-fontSize: var(--typography-fontSize-2xl);--prose-h3-iconSize: var(--typography-fontSize-xl);--prose-h3-letterSpacing: var(--typography-letterSpacing-tight);--prose-h3-fontWeight: var(--typography-fontWeight-semibold);--prose-h3-lineHeight: var(--typography-lead-snug);--prose-h3-fontSize: var(--typography-fontSize-3xl);--prose-h2-iconSize: var(--typography-fontSize-2xl);--prose-h2-letterSpacing: var(--typography-letterSpacing-tight);--prose-h2-fontWeight: var(--typography-fontWeight-semibold);--prose-h2-lineHeight: var(--typography-lead-tight);--prose-h2-fontSize: var(--typography-fontSize-4xl);--prose-h1-iconSize: var(--typography-fontSize-3xl);--prose-h1-letterSpacing: var(--typography-letterSpacing-tight);--prose-h1-fontWeight: var(--typography-fontWeight-bold);--prose-h1-lineHeight: var(--typography-lead-tight);--prose-h1-fontSize: var(--typography-fontSize-5xl);--prose-p-br-margin: var(--typography-verticalMargin-base) 0 0 0;--prose-p-margin: var(--typography-verticalMargin-base) 0;--prose-p-lineHeight: var(--typography-lead-normal);--prose-p-fontSize: var(--typography-fontSize-base);--typography-color-secondary-900: var(--color-gray-900);--typography-color-secondary-800: var(--color-gray-800);--typography-color-secondary-700: var(--color-gray-700);--typography-color-secondary-600: var(--color-gray-600);--typography-color-secondary-500: var(--color-gray-500);--typography-color-secondary-400: var(--color-gray-400);--typography-color-secondary-300: var(--color-gray-300);--typography-color-secondary-200: var(--color-gray-200);--typography-color-secondary-100: var(--color-gray-100);--typography-color-secondary-50: var(--color-gray-50);--typography-color-primary-900: var(--color-primary-900);--typography-color-primary-800: var(--color-primary-800);--typography-color-primary-700: var(--color-primary-700);--typography-color-primary-600: var(--color-primary-600);--typography-color-primary-500: var(--color-primary-500);--typography-color-primary-400: var(--color-primary-400);--typography-color-primary-300: var(--color-primary-300);--typography-color-primary-200: var(--color-primary-200);--typography-color-primary-100: var(--color-primary-100);--typography-color-primary-50: var(--color-primary-50);--typography-font-code: var(--font-mono);--typography-font-body: var(--font-sans);--typography-font-display: var(--font-sans);--typography-body-backgroundColor: var(--color-white);--typography-body-color: var(--color-black);--elements-state-danger-borderColor-secondary: var(--color-red-200);--elements-state-danger-borderColor-primary: var(--color-red-100);--elements-state-danger-backgroundColor-secondary: var(--color-red-100);--elements-state-danger-backgroundColor-primary: var(--color-red-50);--elements-state-danger-color-secondary: var(--color-red-600);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-200);--elements-state-warning-borderColor-primary: var(--color-yellow-100);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-100);--elements-state-warning-backgroundColor-primary: var(--color-yellow-50);--elements-state-warning-color-secondary: var(--color-yellow-700);--elements-state-warning-color-primary: var(--color-yellow-600);--elements-state-success-borderColor-secondary: var(--color-green-200);--elements-state-success-borderColor-primary: var(--color-green-100);--elements-state-success-backgroundColor-secondary: var(--color-green-100);--elements-state-success-backgroundColor-primary: var(--color-green-50);--elements-state-success-color-secondary: var(--color-green-600);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-200);--elements-state-info-borderColor-primary: var(--color-blue-100);--elements-state-info-backgroundColor-secondary: var(--color-blue-100);--elements-state-info-backgroundColor-primary: var(--color-blue-50);--elements-state-info-color-secondary: var(--color-blue-600);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-primary-borderColor-secondary: var(--color-primary-200);--elements-state-primary-borderColor-primary: var(--color-primary-100);--elements-state-primary-backgroundColor-secondary: var(--color-primary-100);--elements-state-primary-backgroundColor-primary: var(--color-primary-50);--elements-state-primary-color-secondary: var(--color-primary-700);--elements-state-primary-color-primary: var(--color-primary-600);--elements-surface-secondary-backgroundColor: var(--color-gray-200);--elements-surface-primary-backgroundColor: var(--color-gray-100);--elements-surface-background-base: var(--color-gray-100);--elements-border-secondary-static: var(--color-gray-200);--elements-border-primary-hover: var(--color-gray-200);--elements-border-primary-static: var(--color-gray-100);--elements-container-padding-md: var(--space-6);--elements-container-padding-sm: var(--space-6);--elements-container-padding-xs: var(--space-4);--elements-container-padding-mobile: var(--space-4);--elements-text-secondary-color-hover: var(--color-gray-700);--elements-text-secondary-color-static: var(--color-gray-500);--elements-text-primary-color-static: var(--color-gray-900);--text-6xl-lineHeight: var(--lead-none);--text-6xl-fontSize: var(--fontSize-6xl);--text-5xl-lineHeight: var(--lead-none);--text-5xl-fontSize: var(--fontSize-5xl);--text-4xl-lineHeight: var(--lead-10);--text-4xl-fontSize: var(--fontSize-4xl);--text-3xl-lineHeight: var(--lead-9);--text-3xl-fontSize: var(--fontSize-3xl);--text-2xl-lineHeight: var(--lead-8);--text-2xl-fontSize: var(--fontSize-2xl);--text-xl-lineHeight: var(--lead-7);--text-xl-fontSize: var(--fontSize-xl);--text-lg-lineHeight: var(--lead-7);--text-lg-fontSize: var(--fontSize-lg);--text-base-lineHeight: var(--lead-6);--text-base-fontSize: var(--fontSize-base);--text-sm-lineHeight: var(--lead-5);--text-sm-fontSize: var(--fontSize-sm);--text-xs-lineHeight: var(--lead-4);--text-xs-fontSize: var(--fontSize-xs);--color-shadow: var(--color-gray-400);--color-secondary-900: var(--color-gray-900);--color-secondary-800: var(--color-gray-800);--color-secondary-700: var(--color-gray-700);--color-secondary-600: var(--color-gray-600);--color-secondary-500: var(--color-gray-500);--color-secondary-400: var(--color-gray-400);--color-secondary-300: var(--color-gray-300);--color-secondary-200: var(--color-gray-200);--color-secondary-100: var(--color-gray-100);--color-secondary-50: var(--color-gray-50);--prose-code-inline-backgroundColor: var(--typography-color-secondary-100);--prose-code-inline-color: var(--typography-color-secondary-700);--prose-code-block-backgroundColor: var(--typography-color-secondary-100);--prose-code-block-color: var(--typography-color-secondary-700);--prose-code-block-border-color: var(--typography-color-secondary-200);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-200);--prose-th-color: var(--typography-color-secondary-600);--prose-thead-borderBottom-color: var(--typography-color-secondary-200);--prose-thead-border-color: var(--typography-color-secondary-300);--prose-hr-color: var(--typography-color-secondary-200);--prose-blockquote-border-color: var(--typography-color-secondary-200);--prose-blockquote-color: var(--typography-color-secondary-500);--prose-a-code-background-hover: var(--typography-color-primary-50);--prose-a-code-border-color-hover: var(--typography-color-primary-500);--prose-a-code-border-color-static: var(--typography-color-secondary-400);--prose-a-color-hover: var(--typography-color-primary-500);--shadow-2xl: 0px 25px 50px -12px var(--color-shadow);--shadow-xl: 0px 20px 25px -5px var(--color-shadow), 0px 8px 10px -6px var(--color-shadow);--shadow-lg: 0px 10px 15px -3px var(--color-shadow), 0px 4px 6px -4px var(--color-shadow);--shadow-md: 0px 4px 6px -1px var(--color-shadow), 0px 2px 4px -2px var(--color-shadow);--shadow-sm: 0px 1px 3px 0px var(--color-shadow), 0px 1px 2px -1px var(--color-shadow);--shadow-xs: 0px 1px 2px 0px var(--color-shadow); } }@media { :root.dark {--pinceau-mq: dark; --prose-code-block-backdropFilter: contrast(1);--prose-ol-li-markerColor: currentColor;--prose-ul-li-markerColor: currentColor;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-color-static: inherit;--elements-backdrop-background: #0c0d0ccc;--docus-search-results-selected-backgroundColor: var(--color-gray-700);--docus-search-input-backgroundColor: var(--color-gray-800);--docus-search-input-borderColor: transparent;--docus-header-title-color-static: var(--color-gray-100);--docus-body-color: var(--color-gray-200);--docus-body-backgroundColor: var(--color-black);--typography-body-backgroundColor: var(--color-black);--typography-body-color: var(--color-white);--elements-state-danger-borderColor-secondary: var(--color-red-700);--elements-state-danger-borderColor-primary: var(--color-red-800);--elements-state-danger-backgroundColor-secondary: var(--color-red-800);--elements-state-danger-backgroundColor-primary: var(--color-red-900);--elements-state-danger-color-secondary: var(--color-red-200);--elements-state-danger-color-primary: var(--color-red-300);--elements-state-warning-borderColor-secondary: var(--color-yellow-700);--elements-state-warning-borderColor-primary: var(--color-yellow-800);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-800);--elements-state-warning-backgroundColor-primary: var(--color-yellow-900);--elements-state-warning-color-secondary: var(--color-yellow-200);--elements-state-warning-color-primary: var(--color-yellow-400);--elements-state-success-borderColor-secondary: var(--color-green-700);--elements-state-success-borderColor-primary: var(--color-green-800);--elements-state-success-backgroundColor-secondary: var(--color-green-800);--elements-state-success-backgroundColor-primary: var(--color-green-900);--elements-state-success-color-secondary: var(--color-green-200);--elements-state-success-color-primary: var(--color-green-400);--elements-state-info-borderColor-secondary: var(--color-blue-700);--elements-state-info-borderColor-primary: var(--color-blue-800);--elements-state-info-backgroundColor-secondary: var(--color-blue-800);--elements-state-info-backgroundColor-primary: var(--color-blue-900);--elements-state-info-color-secondary: var(--color-blue-200);--elements-state-info-color-primary: var(--color-blue-400);--elements-state-primary-borderColor-secondary: var(--color-primary-700);--elements-state-primary-borderColor-primary: var(--color-primary-800);--elements-state-primary-backgroundColor-secondary: var(--color-primary-800);--elements-state-primary-backgroundColor-primary: var(--color-primary-900);--elements-state-primary-color-secondary: var(--color-primary-200);--elements-state-primary-color-primary: var(--color-primary-400);--elements-surface-secondary-backgroundColor: var(--color-gray-800);--elements-surface-primary-backgroundColor: var(--color-gray-900);--elements-surface-background-base: var(--color-gray-900);--elements-border-secondary-static: var(--color-gray-800);--elements-border-primary-hover: var(--color-gray-800);--elements-border-primary-static: var(--color-gray-900);--elements-text-secondary-color-hover: var(--color-gray-200);--elements-text-secondary-color-static: var(--color-gray-400);--elements-text-primary-color-static: var(--color-gray-50);--color-shadow: var(--color-gray-800);--prose-code-inline-backgroundColor: var(--typography-color-secondary-800);--prose-code-inline-color: var(--typography-color-secondary-200);--prose-code-block-backgroundColor: var(--typography-color-secondary-900);--prose-code-block-color: var(--typography-color-secondary-200);--prose-code-block-border-color: var(--typography-color-secondary-800);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-800);--prose-th-color: var(--typography-color-secondary-400);--prose-thead-borderBottom-color: var(--typography-color-secondary-800);--prose-thead-border-color: var(--typography-color-secondary-600);--prose-hr-color: var(--typography-color-secondary-800);--prose-blockquote-border-color: var(--typography-color-secondary-700);--prose-blockquote-color: var(--typography-color-secondary-400);--prose-a-code-background-hover: var(--typography-color-primary-900);--prose-a-code-border-color-hover: var(--typography-color-primary-600);--prose-a-code-border-color-static: var(--typography-color-secondary-600);--prose-a-color-hover: var(--typography-color-primary-400); } }@media (min-width: 640px) { :root {--pinceau-mq: sm; --docus-search-results-window-maxHeight: 320px;--docus-search-results-window-marginTop: 20vh;--docus-footer-height: 100px;--docus-search-results-window-borderRadius: var(--radii-xs);--docus-search-results-window-marginX: var(--space-4);--docus-header-logo-height: var(--space-7); } }</style><script>"use strict";(()=>{const a=window,e=document.documentElement,m=["dark","light"],c=window&&window.localStorage&&window.localStorage.getItem&&window.localStorage.getItem("nuxt-color-mode")||"system";let n=c==="system"?d():c;const l=e.getAttribute("data-color-mode-forced");l&&(n=l),i(n),a["__NUXT_COLOR_MODE__"]={preference:c,value:n,getColorScheme:d,addColorScheme:i,removeColorScheme:f};function i(o){const t=""+o+"",s="theme";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function f(o){const t=""+o+"",s="theme";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function r(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function d(){if(a.matchMedia&&r("").media!=="not all"){for(const o of m)if(r(":"+o).matches)return o}return"light"}})();
</script></head>
<body ><!----><!--teleport anchor--><!----><!--teleport anchor--><div id="__nuxt"><div class="app-layout" data-v-5c2f7786><div class="nuxt-progress" style="width:0%;opacity:0;background-size:Infinity% auto;" data-v-5c2f7786></div><header class="has-dialog" data-v-5c2f7786 data-v-069d8056><div class="container pv-ytHkIM pc-2vd5iR" data-v-069d8056 data-v-a8d7e2a7><!--[--><div class="section left" data-v-069d8056><!--[--><button aria-label="Menu" data-v-6c45508f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" role="img" class="icon" data-v-6c45508f style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><!--teleport start--><!--teleport end--><!--]--><a href="/code-study/" class="navbar-logo" aria-label="摳Sense讀書會筆記" data-v-069d8056 data-v-f83b7764><span class="title" data-v-f83b7764>摳Sense讀書會筆記</span></a></div><div class="section center" data-v-069d8056><a href="/code-study/" class="navbar-logo" aria-label="摳Sense讀書會筆記" data-v-069d8056 data-v-f83b7764><span class="title" data-v-f83b7764>摳Sense讀書會筆記</span></a><!----></div><div class="section right" data-v-069d8056><!--[--><button type="button" aria-label="Search" data-v-98e4ee4b><span class="content" data-v-98e4ee4b><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-98e4ee4b style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21l-6-6m2-5a7 7 0 1 1-14 0a7 7 0 0 1 14 0"/></svg><span data-v-98e4ee4b>Search</span><span data-v-98e4ee4b><kbd data-v-98e4ee4b>⌘</kbd><kbd data-v-98e4ee4b>K</kbd></span></span></button><!--teleport start--><!--teleport end--><!--]--><div class="social-icons" data-v-069d8056><a href="/code-study/member" class="" rel="noopener noreferrer" title="member" data-v-069d8056 data-v-959a58fc><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-959a58fc style="" width="1em" height="1em" viewBox="0 0 1200 1200" data-v-e610b8e3><path fill="currentColor" d="M596.847 188.488c-103.344 0-187.12 97.81-187.12 218.465c0 83.678 40.296 156.352 99.468 193.047l-68.617 31.801l-182.599 84.688c-17.64 8.821-26.444 23.778-26.444 44.947v201.102c1.451 25.143 16.537 48.577 40.996 48.974h649.62c27.924-2.428 42.05-24.92 42.325-48.974V761.436c0-21.169-8.804-36.126-26.443-44.947l-175.988-84.688l-73.138-34.65c56.744-37.521 95.061-108.624 95.061-190.197c-.001-120.656-83.778-218.466-187.121-218.466m-301.824 76.824c-44.473 1.689-79.719 20.933-106.497 51.596c-29.62 36.918-44.06 80.75-44.339 124.354c1.819 64.478 30.669 125.518 82.029 157.446L21.163 693.997C7.05 699.289 0 711.636 0 731.041v161.398c1.102 21.405 12.216 39.395 33.055 39.703h136.284V761.436c2.255-45.639 23.687-82.529 62.196-100.531l136.247-64.817c10.584-6.175 20.731-14.568 30.433-25.152c-56.176-86.676-63.977-190.491-27.773-281.801c-23.547-14.411-50.01-23.672-75.419-23.823m608.586 0c-29.083.609-55.96 11.319-78.039 26.444c35.217 92.137 25.503 196.016-26.482 276.52c11.467 13.23 23.404 23.377 35.753 30.434l130.965 62.195c39.897 21.881 60.47 59.098 60.866 100.532v170.707h140.235c23.063-1.991 32.893-20.387 33.093-39.704V731.042c0-17.641-7.05-29.987-21.163-37.045l-202.431-96.618c52.498-38.708 78.859-96.72 79.369-156.117c-1.396-47.012-15.757-90.664-44.339-124.354c-29.866-32.399-66.91-51.253-107.827-51.596"/></svg></a><a href="https://github.com/codesensegroup/code-study" rel="noopener noreferrer" target="_blank" title="github" data-v-069d8056 data-v-a02d16b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-a02d16b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></a></div><button aria-label="Color Mode" data-v-069d8056 data-v-87324333><span data-v-87324333>...</span></button></div><!--]--></div></header><main data-v-5c2f7786><!--[--><div class="document-driven-page"><div class="container pv-ytHkIM pc-8v0KdH docs-page-content fluid has-toc has-aside" data-v-a6339876 data-v-a8d7e2a7><!--[--><aside class="aside-nav" data-v-a6339876><nav class="app-aside" data-v-a6339876 data-v-3d9a5d42><ul class="docs-aside-tree" data-v-3d9a5d42 data-v-d42239fd><!--[--><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>📖</span><span data-v-d42239fd>System Design Interview: An Insider’s Guide</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 15l5 5l5-5M7 9l5-5l5 5"/></svg></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/sdi-aig/chapter1" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>01 從 0 到百萬用戶</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/sdi-aig/chapter4" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>04 設計網路限速器</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/sdi-aig/chapter6" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>06 設計鍵值儲存系統</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/sdi-aig/chapter7" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>07 設計可用於分散式系統的唯一ID生成器</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/sdi-aig/chapter8" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>08 設計短網址生成器</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/sdi-aig/chapter9" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>09 設計網路爬蟲</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>📘</span><span data-v-d42239fd>Clean Architecture - 無瑕的程式碼</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 15l5 5l5-5M7 9l5-5l5 5"/></svg></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter1" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>01 什麼是設計與結構</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter2" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>02 兩種價值觀的故事</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter3" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>03 範式概述</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter4" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>04 結構化程式設計</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter5" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>05 物件導向程式設計</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter6" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>06 函數式程式設計</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter12" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>12 元件</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter13" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>13 元件內聚性</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter14" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>14 元件耦合性</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter15" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>15 什麼是架構</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter16" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>16 獨立性</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter18" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>18 邊界剖析</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter19" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>19 POLICY AND LEVEL 策略與層次</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter20" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>20 BUSINESS RULES 業務邏輯</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter21" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>21 會尖叫的架構</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter22" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>22 整潔的架構</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter23" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>23 Presenter與Humble Object</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter24" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>24 不完全邊界</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter25" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>25 層與邊界</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter30" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>30 資料庫細節</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter31" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>31 WEB是細節</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter32" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>32 框架也只是細節</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter33" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>33 影片銷售系統案例研究</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter34" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Clean Architecture 第34章：The Missing Chapter</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/clean-arch/chapter99" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>99 來自於網路世界的書評</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>📕</span><span data-v-d42239fd>資料密集型應用系統設計</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 15l5 5l5-5M7 9l5-5l5 5"/></svg></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/ddia/chapter1" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>01 可靠性、可伸縮性和可維護性</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/ddia/chapter3" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>03 數據儲存與檢索</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/ddia/chapter4" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>04 編碼與演化</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/ddia/chapter5" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>05 複製</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/ddia/chapter9" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>09 一致性與共識</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>🏷️</span><span data-v-d42239fd>持續交付2.0：實務導向的DevOps</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 15l5 5l5-5M7 9l5-5l5 5"/></svg></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter5" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>05 持續交付的軟體系統架構</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter7" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>07 部署流水線原則與工具設計</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter8" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>08 利於集成的分支策略</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter9" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>09 持續整合</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter10" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>10 自動化測試策略與方法</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter11" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>11 軟件配置管理</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter12" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>12 低風險發佈</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter13" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>13 監測與決策</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/cicd-2.0/chapter16" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>16 研發推動的DevOps</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>📗</span><span data-v-d42239fd>Web API的設計與開發</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 15l5 5l5-5M7 9l5-5l5 5"/></svg></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/web-api/chapter2" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>第2章 EndPoint設計與請求形式</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/web-api/chapter5" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>第5章 開發方便更改設計的API</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/web-api/chapter6" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>第6章 開發牢固的WebAPI</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>⚒️</span><span data-v-d42239fd>技術分享</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 15l5 5l5-5M7 9l5-5l5 5"/></svg></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/workshop/gitlab-cicd" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>使用Gitlab做CI/CD</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/workshop/grpc" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>gRPC快速入門</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/workshop/liquibase" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Liquibase快速入門</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/workshop/redis-ring" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Redis Ring</span></span></a><!----></li><li class="has-parent-icon bordered active" data-v-d42239fd><a aria-current="page" href="/code-study/workshop/redis" class="router-link-active router-link-exact-active link padded active" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Redis快速入門</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/workshop/tdd_part1" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>TDD技術分享 - Part1 灌輸</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-d42239fd><button class="title-collapsible-button" data-v-d42239fd><span class="content" data-v-d42239fd><span class="icon" style="font-size:1em;line-height:1em;width:1em;height:1em;" data-v-d42239fd data-v-e610b8e3>🛡️</span><span data-v-d42239fd>API</span></span><span data-v-d42239fd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-d42239fd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 15l5 5l5-5M7 9l5-5l5 5"/></svg></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-d42239fd data-v-d42239fd><!--[--><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/api/components" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Components</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/api/composables" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Composables</span></span></a><!----></li><li class="has-parent-icon bordered" data-v-d42239fd><a href="/code-study/api/layouts" class="link padded" data-v-d42239fd><span class="content" data-v-d42239fd><!----><span data-v-d42239fd>Layouts</span></span></a><!----></li><!--]--></ul></li><!--]--></ul></nav></aside><article class="page-body" data-v-a6339876><div class="flex flex-col" data-v-a6339876><!----><div class="my-1"><span class="text-xs md:text-sm"> 字數總計：0 個 </span><span class="mx-1">|</span><span class="text-xs md:text-sm"> 閱讀時長：0 分鐘 </span><span class="mx-1">|</span><span class="text-xs md:text-sm" id="busuanzi_container_page_pv"><span>閱讀次數：</span><span id="busuanzi_value_page_pv"></span> 次 </span></div><div class="mt-1 z-10"><!--[--><!--]--></div></div><!--[--><!--[--><div><h2 id="前言" data-v-70b0c1e2><a aria-current="page" href="/code-study/workshop/redis#前言" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->前言<!--]--><!----></a></h2><p data-v-9dc9c102><!--[-->此章節不屬於<code class="" data-v-2f6bd69d><!--[-->資料密集型應用系統設計<!--]--></code>書中內容，額外挪出的一個教學章節。<!--]--></p><p data-v-9dc9c102><!--[-->這邊主要是補充快取(Cache) Redis 資料庫的使用方式以及操作。<!--]--></p><h2 id="安裝" data-v-70b0c1e2><a aria-current="page" href="/code-study/workshop/redis#安裝" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->安裝<!--]--><!----></a></h2><h3 id="版本號選擇" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#版本號選擇" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->版本號選擇<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->奇數： 2.7、2.9、3.1，為<strong data-v-84b57b07><!--[-->不穩定版本<!--]--></strong><!--]--></li><li data-v-4c2f5fb9><!--[-->偶數： 2.6、2.8、3.0，為<strong data-v-84b57b07><!--[-->穩定版本<!--]--></strong><!--]--></li><!--]--></ul><h3 id="linux-安裝" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#linux-安裝" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Linux 安裝<!--]--><!----></a></h3><h4 id="原始碼安裝" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#原始碼安裝" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->原始碼安裝<!--]--><!----></a></h4><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 下載檔案
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -LO</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> &quot;https://download.redis.io/releases/redis-6.2.7.tar.gz&quot;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 解壓縮
</span></span><span class="line" line="5"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">tar</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -xvf</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis-6.2.7.tar.gz
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 移除安裝檔
</span></span><span class="line" line="8"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">rm</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis-6.2.7.tar.gz
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 前往解壓縮目錄
</span></span><span class="line" line="11"><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#66D9EF">cd</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis-6.2.7
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 編譯專案 (類似編譯了class)
</span></span><span class="line" line="14"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">make
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 將binary檔安裝到某個目錄底下
</span></span><span class="line" line="17"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">make</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> install</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> PREFIX=/root/redis-6.2.7/redis
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查看make的安裝目錄
</span></span><span class="line" line="20"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">$</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> ls</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> /root/redis-6.2.7/redis/bin/
</span></span><span class="line" line="21"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">redis-benchmark</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">  redis-check-aof</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">  redis-check-rdb</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">  redis-cli</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">  redis-sentinel</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">  redis-server
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-9dc9c102><!--[-->💡 如果執行 make 指令報錯誤，則需要執行下列指令，進行安裝<!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Ubuntun<div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 請先確認gcc是否安裝
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">gcc</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -v
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 更新apt套件
</span></span><span class="line" line="5"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> apt-get</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> update
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 安裝apt套件
</span></span><span class="line" line="8"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> apt</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -y</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> install</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> gcc</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> automake</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> autoconf</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> libtool</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> make
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><!--]--></li><li data-v-4c2f5fb9><!--[-->CentOS<div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span emptylineplaceholder="true">
</span></span><span class="line" line="2"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 請先確認gcc是否安裝
</span></span><span class="line" line="3"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">gcc</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -v
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 更新yum套件
</span></span><span class="line" line="6"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> yum</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> update
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 安裝yum套件
</span></span><span class="line" line="9"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> yum</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -y</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> install</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> gcc</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> automake</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> autoconf</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> libtool</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> make
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><!--]--></li><!--]--></ul><p data-v-9dc9c102><!--[-->安裝目錄底下的檔案介紹<!--]--></p><div class="table-wrapper" data-v-78f198db><table data-v-78f198db><!--[--><thead data-v-81e7d1ab><!--[--><tr data-v-759aaa1b><!--[--><th data-v-40ddd69b><!--[-->可執行的檔案<!--]--></th><th data-v-40ddd69b><!--[-->功能用途<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redis-server<!--]--></td><td data-v-5f84e3ba><!--[-->啟動 redis 伺服器<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redis-cli<!--]--></td><td data-v-5f84e3ba><!--[-->redis 客戶端(client)操作<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redis-benchmark<!--]--></td><td data-v-5f84e3ba><!--[-->性能測試工具，可以在本機電腦運行，看看本機效能如何 (服務啟動起來後執行)<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redis-check-aof<!--]--></td><td data-v-5f84e3ba><!--[-->AOF 持久化文件檢測和修復工具<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redis-check-rdb<!--]--></td><td data-v-5f84e3ba><!--[-->RDB 持久化文件檢測和修復工具<!--]--></td><!--]--></tr><tr data-v-759aaa1b><!--[--><td data-v-5f84e3ba><!--[-->redis-sentinel<!--]--></td><td data-v-5f84e3ba><!--[-->啟動哨兵模式 (Redis Cluster 使用)<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><h4 id="其他安裝" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#其他安裝" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->其他安裝<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->apt 安裝<!--]--></li><!--]--></ul><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># lsb: Linux Standard Base縮寫，用來顯示LSB和特定版本的相關訊息
</span></span><span class="line" line="2"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 某些最小環境的情況下需要安裝，例如在Docker Container內部
</span></span><span class="line" line="3"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> apt</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> install</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> lsb-release
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 將repository加入到apt index中，後續進行更新和安裝
</span></span><span class="line" line="6"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">curl</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -fsSL</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> https://packages.redis.io/gpg</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"> |</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"> sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> gpg</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> --dearmor</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -o</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> /usr/share/keyrings/redis-archive-keyring.gpg
</span></span><span class="line" line="7"><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#66D9EF">echo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> &quot;deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">lsb_release</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -cs</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">) main&quot;</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"> |</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"> sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> tee</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> /etc/apt/sources.list.d/redis.list
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 更新apt-get
</span></span><span class="line" line="10"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> apt-get</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> update
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 安裝redis
</span></span><span class="line" line="13"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">sudo</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> apt-get</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> install</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->snap 安裝<!--]--></li><!--]--></ul><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查詢redis名稱
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">snap</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> find</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查看redis的資訊
</span></span><span class="line" line="5"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">snap</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> info</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="windows-實體安裝" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#windows-實體安裝" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Windows 實體安裝<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->Redis 主要支援在 Linux 環境底下，因此在 Windows 環境底下支援性很差。
目前有兩個非官方的使用載點可以參考。<!--]--></p><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><a href="https://github.com/tporadowski/redis/releases" rel="nofollow" data-v-692834dd><!--[-->網友版本 - 5.0.14.1<!--]--></a>，目前還有在維護<!--]--></li><li data-v-4c2f5fb9><!--[--><a href="https://github.com/microsoftarchive/redis/releases" rel="nofollow" data-v-692834dd><!--[-->微軟版本 - 3.0.504<!--]--></a>，目前已經不在維護。<!--]--></li><!--]--></ul><h3 id="docker-安裝" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#docker-安裝" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Docker 安裝<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Redis Server<div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">docker</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> run</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> --name</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -d</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -p</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> 6379</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">:6379</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis:6.2.4-alpine
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><!--]--></li><li data-v-4c2f5fb9><!--[-->Redis CLI<div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 這邊的IP 192.168.23.192，替換為主機的IP
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">docker</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> run</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -it</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> --rm</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> redis-cli</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -h</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> 192.168</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">.23.192</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> -p</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> 6379
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><!--]--></li><!--]--></ul><p data-v-9dc9c102><!--[-->更多 Docker 使用方式參考<a href="https://hub.docker.com/_/redis" rel="nofollow" data-v-692834dd><!--[-->Redis Official<!--]--></a><!--]--></p><h3 id="常用操作工具" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#常用操作工具" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->常用操作工具<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><a href="https://github.com/RedisInsight/RedisInsight/releases" rel="nofollow" data-v-692834dd><!--[-->RedisInsight<!--]--></a><!--]--></li><li data-v-4c2f5fb9><!--[-->redis-cli<!--]--></li><!--]--></ul><p data-v-9dc9c102><!--[-->官方推薦<strong data-v-84b57b07><!--[-->RedisInsight<!--]--></strong>一款 Web base 的工具，個人習慣使用<strong data-v-84b57b07><!--[-->redis-cli<!--]--></strong>和<strong data-v-84b57b07><!--[-->RedisInsight<!--]--></strong>一起使用。<!--]--></p><p data-v-9dc9c102><!--[-->由於大家一起使用 RedisInsight，為了方便查看 client 端是誰，這邊我們設定 Redis Client 的使用者名稱<!--]--></p><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 設定client的名稱，將darren替換成你自己的名子
</span></span><span class="line" line="2"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">CLIENT</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> SETNAME</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> darren
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查看目前有哪些連線的client
</span></span><span class="line" line="5"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">CLIENT</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> LIST
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h2 id="常用的資料結構" data-v-70b0c1e2><a aria-current="page" href="/code-study/workshop/redis#常用的資料結構" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->常用的資料結構<!--]--><!----></a></h2><h3 id="strings" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#strings" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Strings<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->String<!--]--></code>是<code class="" data-v-2f6bd69d><!--[-->Redis<!--]--></code>最基本的類型，可以理解成與<code class="" data-v-2f6bd69d><!--[-->Memcached<!--]--></code>一模一樣的類型，一個<code class="" data-v-2f6bd69d><!--[-->Key<!--]--></code>對應一個<code class="" data-v-2f6bd69d><!--[-->Value<!--]--></code><!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->String<!--]--></code>類型是二進制(Binary)安全的。意味著<code class="" data-v-2f6bd69d><!--[-->Redis<!--]--></code>的<code class="" data-v-2f6bd69d><!--[-->String<!--]--></code>可以包含資料。比如 jpg 圖片或者序列化的物件<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->String<!--]--></code>類型是<code class="" data-v-2f6bd69d><!--[-->Redis<!--]--></code>最基本的資料類型，一個 Redis 中 Value 最多可以是 512M<!--]--></li><li data-v-4c2f5fb9><!--[-->原子性
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->所謂原子性操作，是指不會被其他執行緒的呼叫機制打斷的操作，這種操作一但開始，就一直運行到結束，中間不會有任何的 context switch (切換到另外一個執行緒)
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->在<strong data-v-84b57b07><!--[-->單執行緒<!--]--></strong>中，能夠在單條指令中完成的操作都可以認為是”原子操作”，因為中斷只能發生於指令之間<!--]--></li><li data-v-4c2f5fb9><!--[-->在<strong data-v-84b57b07><!--[-->多執行緒<!--]--></strong>中，不能被其它執行緒打斷的操作，就叫”原子操作”<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><h4 id="常用指令" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#常用指令" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->常用指令<!--]--><!----></a></h4><h5 id="set-get-append-strlen-setnx" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#set-get-append-strlen-setnx" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->set / get / append / strlen / setnx<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 增加key: k1, value: v1
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k1 v1
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 更新key: k1, value: v11
</span></span><span class="line" line="5"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k1 v11
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得value數值
</span></span><span class="line" line="8"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> get k1
</span></span><span class="line" line="9"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;v11&quot;
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從尾部後相加，回傳目前value整體的長度
</span></span><span class="line" line="12"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> append k1 __
</span></span><span class="line" line="13"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 5
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得append後的長度
</span></span><span class="line" line="16"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> get k1
</span></span><span class="line" line="17"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;v11__&quot;
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得k1中的value長度
</span></span><span class="line" line="20"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> strlen k1
</span></span><span class="line" line="21"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 5
</span></span><span class="line" line="22"><span emptylineplaceholder="true">
</span></span><span class="line" line="23"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 只有key不存在時，才會設置key的值
</span></span><span class="line" line="24"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> setnx k1 k0000
</span></span><span class="line" line="25"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 0
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h5 id="incr-decr-incrby-decrby" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#incr-decr-incrby-decrby" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->incr / decr / incrby / decrby<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 增加key: k1, value: v1
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k1 v1
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># incr只支援integer
</span></span><span class="line" line="5"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> incr k1
</span></span><span class="line" line="6"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">error</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) ERR value is not an integer or out of range
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替不存在的k2進行&quot;數字字串&quot;值加1
</span></span><span class="line" line="9"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> incr k2
</span></span><span class="line" line="10"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 1
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替存在的k2進行&quot;數字字串&quot;加1
</span></span><span class="line" line="13"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> incr k2
</span></span><span class="line" line="14"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 2
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替存在的k2進行&quot;數字字串&quot;減1
</span></span><span class="line" line="17"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> decr k2
</span></span><span class="line" line="18"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 1
</span></span><span class="line" line="19"><span emptylineplaceholder="true">
</span></span><span class="line" line="20"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替存在的k2進行&quot;數字字串&quot;減1
</span></span><span class="line" line="21"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> decr k2
</span></span><span class="line" line="22"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 0
</span></span><span class="line" line="23"><span emptylineplaceholder="true">
</span></span><span class="line" line="24"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替存在的k2進行&quot;數字字串&quot;減1
</span></span><span class="line" line="25"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> decr k2
</span></span><span class="line" line="26"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) -1
</span></span><span class="line" line="27"><span emptylineplaceholder="true">
</span></span><span class="line" line="28"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得k2數值，記得他是&quot;數字字串&quot;
</span></span><span class="line" line="29"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> get k2
</span></span><span class="line" line="30"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;-1&quot;
</span></span><span class="line" line="31"><span emptylineplaceholder="true">
</span></span><span class="line" line="32"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 一次加上100的數值
</span></span><span class="line" line="33"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> incrby k2 100
</span></span><span class="line" line="34"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 99
</span></span><span class="line" line="35"><span emptylineplaceholder="true">
</span></span><span class="line" line="36"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 一次減上100的數值
</span></span><span class="line" line="37"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> decrby k2 100
</span></span><span class="line" line="38"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) -1
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h5 id="setex-getset" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#setex-getset" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->setex / getset<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#66D9EF">set</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> k1</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> v1
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 設定過期時間
</span></span><span class="line" line="4"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">expire</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> k1</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> 1000
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 更新數值
</span></span><span class="line" line="7"><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#66D9EF">set</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> k1</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> v2
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查詢數值
</span></span><span class="line" line="10"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> ttl k1
</span></span><span class="line" line="11"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) -1
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 將k1設定為100，且數值為v2 (重新設定則時間重新計算)，下面兩種方式皆可以
</span></span><span class="line" line="14"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> setex k1 100 v2
</span></span><span class="line" line="15"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k1 v2 EX 100
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 傳入新增的v3參數，把舊的v2傳回 (與Java中的HashMap的Put功能相同)
</span></span><span class="line" line="18"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> getset k1 v3
</span></span><span class="line" line="19"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;v2&quot;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="使用場景" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用場景" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用場景<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->快取(Cache)資料<!--]--></li><li data-v-4c2f5fb9><!--[-->計數器。
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->用來統計文章瀏覽次數<!--]--></li><li data-v-4c2f5fb9><!--[-->某些商品的點擊數量等等<!--]--></li><!--]--></ul><!--]--></li><li data-v-4c2f5fb9><!--[-->分散式共享 Session<!--]--></li><li data-v-4c2f5fb9><!--[-->設定過期(Expire)來完成時效性的資料
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->手機驗證碼<!--]--></li><li data-v-4c2f5fb9><!--[-->使用者登入碼<!--]--></li><li data-v-4c2f5fb9><!--[-->分散式鎖<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><h3 id="hash" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#hash" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Hash<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Redis hash 是一個鍵值集合<!--]--></li><li data-v-4c2f5fb9><!--[-->Redis hash 是一個 string 類型的<code class="" data-v-2f6bd69d><!--[-->field<!--]--></code>和<code class="" data-v-2f6bd69d><!--[-->value<!--]--></code>的映射表，hash 特別適合用於<strong data-v-84b57b07><!--[-->儲存物件<!--]--></strong><!--]--></li><li data-v-4c2f5fb9><!--[-->類似 Java 中的<code class="" data-v-2f6bd69d><!--[-->Map&lt;String, Object&gt;<!--]--></code>，<code class="" data-v-2f6bd69d><!--[-->C#<!--]--></code>中的<code class="" data-v-2f6bd69d><!--[-->Dictionary&lt;string, object&gt;<!--]--></code><!--]--></li><!--]--></ul><h4 id="常用指令-1" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#常用指令-1" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->常用指令<!--]--><!----></a></h4><h5 id="hset-hget-hmset" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#hset-hget-hmset" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->hset / hget / hmset<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 設定假資料
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hset h1 familyName Chang
</span></span><span class="line" line="3"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hset h1 givenName EnShuo
</span></span><span class="line" line="4"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hset h1 age 28
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得hash中的數值
</span></span><span class="line" line="7"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hget h1 familyName
</span></span><span class="line" line="8"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;Chang&quot;
</span></span><span class="line" line="9"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hget h1 givenName
</span></span><span class="line" line="10"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;EnShuo&quot;
</span></span><span class="line" line="11"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hget h1 test
</span></span><span class="line" line="12"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">nil</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 使用批次來進行設定
</span></span><span class="line" line="15"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hmset h2 familyName Chang givenName EnShuo age 28
</span></span><span class="line" line="16"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h5 id="hexists-hkeys-hvals-hincrby-hsetnx" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#hexists-hkeys-hvals-hincrby-hsetnx" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->hexists / hkeys / hvals / hincrby / hsetnx<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 設定假資料
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hset h1 familyName Chang givenName EnShuo age 28
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查看h1中是否存在field
</span></span><span class="line" line="5"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hexists h1 age
</span></span><span class="line" line="6"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 1
</span></span><span class="line" line="7"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hexists h1 sex
</span></span><span class="line" line="8"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 0
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得所有的h1的field
</span></span><span class="line" line="11"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hkeys h1
</span></span><span class="line" line="12"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;familyName&quot;
</span></span><span class="line" line="13"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;givenName&quot;
</span></span><span class="line" line="14"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">3</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;age&quot;
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得所有的h1中的value
</span></span><span class="line" line="17"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hvals h1
</span></span><span class="line" line="18"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;Chang&quot;
</span></span><span class="line" line="19"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;EnShuo&quot;
</span></span><span class="line" line="20"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">3</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;28&quot;
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替age加上3
</span></span><span class="line" line="23"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hincrby h1 age 3
</span></span><span class="line" line="24"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 31
</span></span><span class="line" line="25"><span emptylineplaceholder="true">
</span></span><span class="line" line="26"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 當age存在時，操作失敗
</span></span><span class="line" line="27"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hsetnx h1 age 100
</span></span><span class="line" line="28"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 0
</span></span><span class="line" line="29"><span emptylineplaceholder="true">
</span></span><span class="line" line="30"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 當sex不存在時，則新增
</span></span><span class="line" line="31"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> hsetnx h1 sex man
</span></span><span class="line" line="32"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 1
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="使用場景-1" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用場景-1" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用場景<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->儲存使用者資訊，例如使用者名稱、密碼、電子郵件地址、手機號碼等。<!--]--></li><li data-v-4c2f5fb9><!--[-->儲存商品資訊，例如商品名稱、價格、庫存數量、圖片等。<!--]--></li><li data-v-4c2f5fb9><!--[-->儲存文章資訊，例如文章標題、作者、發布時間、內容等。<!--]--></li><li data-v-4c2f5fb9><!--[-->儲存設定資訊，例如資料庫連線字串、快取時間、超時時間等。<!--]--></li><!--]--></ul><h3 id="lists" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#lists" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Lists<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->單一鍵值(Key)多個數值(Value)<!--]--></li><li data-v-4c2f5fb9><!--[-->是一個字串列表，按照插入順序排序。你可以添加一個元素到列表的<strong data-v-84b57b07><!--[-->頭部(左邊)<strong data-v-84b57b07><!--[-->或<!--]--></strong>尾部(右邊)<!--]--></strong><!--]--></li><li data-v-4c2f5fb9><!--[-->它的底層其實是<a href="https://zh.wikipedia.org/zh-tw/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8" rel="nofollow" data-v-692834dd><!--[-->雙鏈接串列<!--]--></a>，對兩端的操作性能很高，通過索引下的操作中間的節點效能比較差<!--]--></li><!--]--></ul><h4 id="常用指令-2" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#常用指令-2" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->常用指令<!--]--><!----></a></h4><h5 id="lpush-rpush-lpop-rpop-rpoplpush" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#lpush-rpush-lpop-rpop-rpoplpush" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->lpush / rpush / lpop / rpop / rpoplpush<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從key值l1左邊推送四筆資料，因此順序為v4 v3 v2 v1
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lpush l1 v1 v2 v3 v4
</span></span><span class="line" line="3"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 4
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從key值l1右邊推送三筆資料，因此順序為v4 v3 v2 v1 v5 v6 v7
</span></span><span class="line" line="6"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> rpush l1 v5 v6 v7
</span></span><span class="line" line="7"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 7
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從左方取得數值
</span></span><span class="line" line="10"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lpop l1
</span></span><span class="line" line="11"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;v4&quot;
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從右方取得數值
</span></span><span class="line" line="14"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> rpop l1
</span></span><span class="line" line="15"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;v7&quot;
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從左方key值l2推送v2、v3，因此順序為v3、v2
</span></span><span class="line" line="18"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lpush l2 v2 v3
</span></span><span class="line" line="19"><span emptylineplaceholder="true">
</span></span><span class="line" line="20"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從左方key值l3推送v1，因此順序為v1
</span></span><span class="line" line="21"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lpush l3 v1
</span></span><span class="line" line="22"><span emptylineplaceholder="true">
</span></span><span class="line" line="23"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從l2(key)右邊取值，從l3(key)左邊推入
</span></span><span class="line" line="24"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># l2: v3
</span></span><span class="line" line="25"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># l3: v2、v1
</span></span><span class="line" line="26"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> rpoplpush l2 l3
</span></span><span class="line" line="27"><span emptylineplaceholder="true">
</span></span><span class="line" line="28"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從l3(key)取值，則取到v1
</span></span><span class="line" line="29"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> rpop l3
</span></span><span class="line" line="30"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;v1&quot;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h5 id="lrange-lindex-llen" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#lrange-lindex-llen" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->lrange / lindex / llen<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 從key值l1左邊推送四筆資料，因此順序為v4 v3 v2 v1
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lpush l1 v1 v2 v3 v4
</span></span><span class="line" line="3"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 4
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得0(索引)的第0個位置
</span></span><span class="line" line="6"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lrange l1 0 0
</span></span><span class="line" line="7"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v4&quot;
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得1(索引)的第一位
</span></span><span class="line" line="10"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lrange l1 1 2
</span></span><span class="line" line="11"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v3&quot;
</span></span><span class="line" line="12"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v2&quot;
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 用反轉(負號)的方式獲取全部，從左到右一次全部取出
</span></span><span class="line" line="15"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lrange l1 0 -1
</span></span><span class="line" line="16"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v4&quot;
</span></span><span class="line" line="17"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v3&quot;
</span></span><span class="line" line="18"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">3</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v2&quot;
</span></span><span class="line" line="19"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">4</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v1&quot;
</span></span><span class="line" line="20"><span emptylineplaceholder="true">
</span></span><span class="line" line="21"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 測試取值
</span></span><span class="line" line="22"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lindex l1 0
</span></span><span class="line" line="23"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;v4&quot;
</span></span><span class="line" line="24"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lindex l1 -1
</span></span><span class="line" line="25"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;v1&quot;
</span></span><span class="line" line="26"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> lindex l1 -10
</span></span><span class="line" line="27"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">nil</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="28"><span emptylineplaceholder="true">
</span></span><span class="line" line="29"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得長度
</span></span><span class="line" line="30"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> llen l1
</span></span><span class="line" line="31"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 4
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="使用場景-2" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用場景-2" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用場景<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->實現佇列(Queue)：可以將新加入的元素插入到清單的末尾，將清單的第一個元素刪除即可實現佇列的先進先出 (FIFO) 的特性。<!--]--></li><li data-v-4c2f5fb9><!--[-->實現堆疊(Stack)：可以將新加入的元素插入到清單的末尾，將清單的最後一個元素刪除即可實現棧的後進先出 (LIFO) 的特性。<!--]--></li><li data-v-4c2f5fb9><!--[-->儲存日誌資訊：例如系統日誌、應用程式日誌等。<!--]--></li><li data-v-4c2f5fb9><!--[-->實現訊息佇列(Message Queue)：可以將訊息插入到清單的末尾，然後通過消費者(Consumer)不斷從清單的末尾獲取訊息來實現訊息的非同步處理。<!--]--></li><!--]--></ul><h3 id="sets" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#sets" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Sets<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Redis Set 對外提供的功能與<strong data-v-84b57b07><!--[-->list<!--]--></strong>類似也是一個列表的功能，它特殊之處在於可以排除重複的數值，當如果要儲存的一個資料列表，不希望出現重複的資料時，set 是一個很好的選擇，且 set 提供 API 能判斷某個資料是否存在於集合中，而 list 沒有這種 API。<!--]--></li><li data-v-4c2f5fb9><!--[-->Redis 的 Set 是 string 類型的無序集合。它底層是一個 Hash table，因此<strong data-v-84b57b07><!--[-->新增<!--]--></strong>、<strong data-v-84b57b07><!--[-->刪除<!--]--></strong>、<strong data-v-84b57b07><!--[-->查詢<!--]--></strong>的時間複雜度皆為<code class="" data-v-2f6bd69d><!--[-->O(1)<!--]--></code><!--]--></li><!--]--></ul><h4 id="常用指令-3" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#常用指令-3" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->常用指令<!--]--><!----></a></h4><h5 id="sadd-smembers-sismember" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#sadd-smembers-sismember" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->sadd / smembers / sismember<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 會自動將重複的數值進行過濾
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sadd s1 v1 v1 v1 v2 v3 v4 v5 v5
</span></span><span class="line" line="3"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 5
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 顯示set的s1(key)的所有數值
</span></span><span class="line" line="6"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> smembers s1
</span></span><span class="line" line="7"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v2&quot;
</span></span><span class="line" line="8"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v1&quot;
</span></span><span class="line" line="9"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">3</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v4&quot;
</span></span><span class="line" line="10"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">4</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v3&quot;
</span></span><span class="line" line="11"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">5</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v5&quot;
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 判s1(key)中的v1是否存在
</span></span><span class="line" line="14"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sismember s1 v1
</span></span><span class="line" line="15"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 1
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 判s1(key)中的v9是否存在
</span></span><span class="line" line="18"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sismember s1 v9
</span></span><span class="line" line="19"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 0
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h5 id="scard-srem-spop-srandmember" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#scard-srem-spop-srandmember" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->scard / srem / spop / srandmember<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 將數值進行加入
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sadd s1 v1 v2 v3 v4 v5
</span></span><span class="line" line="3"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 5
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得s1(key)的數量
</span></span><span class="line" line="6"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> scard s1
</span></span><span class="line" line="7"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 5
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 刪除s1(key)中的v4
</span></span><span class="line" line="10"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> srem s1 v4
</span></span><span class="line" line="11"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 1
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 隨機從s1(key)中取出，並進行刪除
</span></span><span class="line" line="14"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> spop s1 2
</span></span><span class="line" line="15"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v3&quot;
</span></span><span class="line" line="16"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v2&quot;
</span></span><span class="line" line="17"><span emptylineplaceholder="true">
</span></span><span class="line" line="18"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 隨機從s1(key)中取出，並不刪除
</span></span><span class="line" line="19"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> srandmember s1 2
</span></span><span class="line" line="20"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v5&quot;
</span></span><span class="line" line="21"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v1&quot;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h5 id="sinter-sunion-sdiff" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#sinter-sunion-sdiff" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->sinter / sunion / sdiff<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 新增兩個set，做為測試
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sadd s1 v1 v2 v3 v4
</span></span><span class="line" line="3"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sadd s2 v3 v4 v5 v6
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取交集
</span></span><span class="line" line="6"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sinter s1 s2
</span></span><span class="line" line="7"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v3&quot;
</span></span><span class="line" line="8"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v4&quot;
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取聯集
</span></span><span class="line" line="11"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sunion s1 s2
</span></span><span class="line" line="12"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v4&quot;
</span></span><span class="line" line="13"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v6&quot;
</span></span><span class="line" line="14"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">3</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v3&quot;
</span></span><span class="line" line="15"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">4</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v2&quot;
</span></span><span class="line" line="16"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">5</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v1&quot;
</span></span><span class="line" line="17"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">6</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v5&quot;
</span></span><span class="line" line="18"><span emptylineplaceholder="true">
</span></span><span class="line" line="19"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取s1的差集
</span></span><span class="line" line="20"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sdiff s1 s2
</span></span><span class="line" line="21"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v1&quot;
</span></span><span class="line" line="22"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v2&quot;
</span></span><span class="line" line="23"><span emptylineplaceholder="true">
</span></span><span class="line" line="24"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取s2的差集
</span></span><span class="line" line="25"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> sdiff s2 s1
</span></span><span class="line" line="26"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v5&quot;
</span></span><span class="line" line="27"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v6&quot;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="使用情境" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用情境" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用情境<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->實現抽獎功能，例如: 在一個抽獎活動中，可以使用 sets 將所有的參與者的訊息加入到集合中<!--]--></li><li data-v-4c2f5fb9><!--[-->統計網站拜訪過的 IP。將拜訪過的使用者 IP 進行加入到集合中，由於 set 可以防止重複訊息，因此最終可以顯示唯一。<!--]--></li><li data-v-4c2f5fb9><!--[-->追蹤聊天室的成員，並通過集合運算來管理成員的列表。<!--]--></li><!--]--></ul><h3 id="sorted-sets" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#sorted-sets" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Sorted sets<!--]--><!----></a></h3><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Reids 有序集合 zset 與普通的 set 非常相似，也是一個沒有重複元素的字串集合。不同之處在於 zset 的<code class="" data-v-2f6bd69d><!--[-->&lt;value&gt;<!--]--></code>都關聯一個評分(score)，這個評分(score)被用來按照從低分到最高分的方式排序。集合的<code class="" data-v-2f6bd69d><!--[-->&lt;value&gt;<!--]--></code>是唯一的，但評分(score)可以是重複的。<!--]--></li><li data-v-4c2f5fb9><!--[-->因為元素是有序的，所以可以根據評分(score)或者次序(postion)來獲取一個範圍的元素。存取 zset 的中間元素也是非常快的，因此你能夠 zset 做為一個沒有重複<code class="" data-v-2f6bd69d><!--[-->&lt;value&gt;<!--]--></code>的智能列表。<!--]--></li><!--]--></ul><h4 id="常用指令-4" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#常用指令-4" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->常用指令<!--]--><!----></a></h4><h5 id="zadd-zrange-zrangebyscore-zrevrangebyscore" data-v-637c86f5><a aria-current="page" href="/code-study/workshop/redis#zadd-zrange-zrangebyscore-zrevrangebyscore" class="router-link-active router-link-exact-active" data-v-637c86f5><!--[-->zadd / zrange / zrangebyscore / zrevrangebyscore<!--]--><!----></a></h5><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 增加參數
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> zadd z1 100 chang 200 chen 150 huang
</span></span><span class="line" line="3"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 3
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查看原本資料
</span></span><span class="line" line="6"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> zrange z1 0 -1
</span></span><span class="line" line="7"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;chang&quot;
</span></span><span class="line" line="8"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;huang&quot;
</span></span><span class="line" line="9"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">3</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;chen&quot;
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替huang的score增加51為150+51 = 201
</span></span><span class="line" line="12"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> zincrby z1 51 huang
</span></span><span class="line" line="13"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">&quot;201&quot;
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查看修改後的資料
</span></span><span class="line" line="16"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> zrange z1 0 -1 withscores
</span></span><span class="line" line="17"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;chang&quot;
</span></span><span class="line" line="18"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;100&quot;
</span></span><span class="line" line="19"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">3</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;chen&quot;
</span></span><span class="line" line="20"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">4</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;150&quot;
</span></span><span class="line" line="21"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">5</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;huang&quot;
</span></span><span class="line" line="22"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">6</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;201&quot;
</span></span><span class="line" line="23"><span emptylineplaceholder="true">
</span></span><span class="line" line="24"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 統計z1中的100~200分數之間有幾個
</span></span><span class="line" line="25"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> zcount z1 100 200
</span></span><span class="line" line="26"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 2
</span></span><span class="line" line="27"><span emptylineplaceholder="true">
</span></span><span class="line" line="28"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取得該&lt;key&gt;集合中的排名，由0開始計算
</span></span><span class="line" line="29"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> zrank z1 chen
</span></span><span class="line" line="30"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 1
</span></span><span class="line" line="31"><span emptylineplaceholder="true">
</span></span><span class="line" line="32"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 取不到數值時，則回傳(nil)
</span></span><span class="line" line="33"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> zrank z1 error
</span></span><span class="line" line="34"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">nil</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)
</span></span><span class="line" line="35"><span emptylineplaceholder="true">
</span></span><span class="line" line="36"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 刪除該z1中的chen
</span></span><span class="line" line="37"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> zrem z1 chen
</span></span><span class="line" line="38"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">integer</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) 1
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="使用情境-1" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用情境-1" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用情境<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->實現一個文章的閱讀排行榜<!--]--></li><li data-v-4c2f5fb9><!--[-->根據時間排序的新聞列表<!--]--></li><li data-v-4c2f5fb9><!--[-->直播聊天室中的送禮排行榜<!--]--></li><!--]--></ul><h2 id="其他常用功能" data-v-70b0c1e2><a aria-current="page" href="/code-study/workshop/redis#其他常用功能" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->其他常用功能<!--]--><!----></a></h2><h3 id="transactions" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#transactions" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Transactions<!--]--><!----></a></h3><h4 id="介紹" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#介紹" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->介紹<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Reids 事務是一個單獨的隔離操作，事務中的所有命令都會被序列化、按順序地執行。事務在執行的過程中，不會被其他客戶端發送來的命令請求給中斷。<!--]--></li><li data-v-4c2f5fb9><!--[-->Redis 事務的主要作用就是串聯多個命令防止別的命令插隊<!--]--></li><!--]--></ul><h4 id="multi-exec-discard" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#multi-exec-discard" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->Multi / Exec / discard<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->從輸入<code class="" data-v-2f6bd69d><!--[-->Multi<!--]--></code>指令開始，輸入的命令都會依次進入命令柱列中，但不會執行，直到輸入<code class="" data-v-2f6bd69d><!--[-->Exec<!--]--></code>後，Redis 會將之前的命令柱列中的命令依序執行<!--]--></li><li data-v-4c2f5fb9><!--[-->如果不想要這次的命令柱列，我們可以透過<code class="" data-v-2f6bd69d><!--[-->discard<!--]--></code>來進行放棄。<!--]--></li><!--]--></ul><p data-v-9dc9c102><!--[-->使用一個<strong data-v-84b57b07><!--[-->Client A<!--]--></strong>和<strong data-v-84b57b07><!--[-->Client B<!--]--></strong>來進行模擬操作<!--]--></p><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># Client A 開啟事務
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> Multi
</span></span><span class="line" line="3"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># Client A執行操作
</span></span><span class="line" line="6"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">TX</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k1 v1
</span></span><span class="line" line="7"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">QUEUED
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># Client A執行操作
</span></span><span class="line" line="10"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">TX</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> get k1
</span></span><span class="line" line="11"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">QUEUED
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># Client B執行操作
</span></span><span class="line" line="14"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k1 v100
</span></span><span class="line" line="15"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># Client A執行操作，可以發現將一連串的動作執行操作，不受Client B客戶端的操作
</span></span><span class="line" line="18"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">TX</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> Exec
</span></span><span class="line" line="19"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">1</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) OK
</span></span><span class="line" line="20"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">2</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) </span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">&quot;v1&quot;
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-9dc9c102><!--[-->將事務進行丟棄<!--]--></p><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 開啟事務
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> Multi
</span></span><span class="line" line="3"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 設定k7數值，不小心打錯
</span></span><span class="line" line="6"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">TX</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k7
</span></span><span class="line" line="7"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">error</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">) ERR wrong number of arguments </span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">for</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> &#39;set&#39;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> command
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 將本次事務進行丟棄
</span></span><span class="line" line="10"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">localhost:6379(TX</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> discard
</span></span><span class="line" line="11"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="使用-watch-unwatch-指令-樂觀鎖" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用-watch-unwatch-指令-樂觀鎖" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用 watch / unwatch 指令 (樂觀鎖)<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->watch<!--]--></code><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->在執行<code class="" data-v-2f6bd69d><!--[-->multi<!--]--></code>之前，先執行<code class="" data-v-2f6bd69d><!--[-->watch &lt;key1&gt; &lt;key2&gt;<!--]--></code>，可以監視一個或多個<code class="" data-v-2f6bd69d><!--[-->&lt;key&gt;<!--]--></code>，如果事務執行之前，這個(或這些)key 的數值，被其他指令或他人改動過，那麼事務將被打斷。<!--]--></li><!--]--></ul><!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->unwatch<!--]--></code><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->取消<code class="" data-v-2f6bd69d><!--[-->WATCH<!--]--></code>命令對所有 key 的監控<!--]--></li><li data-v-4c2f5fb9><!--[-->如果在執行<code class="" data-v-2f6bd69d><!--[-->WATCH<!--]--></code>命令之後，<code class="" data-v-2f6bd69d><!--[-->EXEC<!--]--></code>或<code class="" data-v-2f6bd69d><!--[-->DISCARD<!--]--></code>命令先被執行的話，就不需要在執行<code class="" data-v-2f6bd69d><!--[-->UNWATCH<!--]--></code>了<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><p data-v-9dc9c102><!--[-->使用 Redis 中<code class="" data-v-2f6bd69d><!--[-->Watch<!--]--></code>的功能，這種方式就是<code class="" data-v-2f6bd69d><!--[-->check-and-set<!--]--></code>機制<!--]--></p><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 初始化k1的數值為1 (Client A)
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k1 1
</span></span><span class="line" line="3"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 啟用監看key k1功能 (Client A)
</span></span><span class="line" line="6"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> WATCH k1
</span></span><span class="line" line="7"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 開啟事務交易 (Client A)
</span></span><span class="line" line="10"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> MULTI
</span></span><span class="line" line="11"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 此時有人修改k1內的數值為4 (Client B)
</span></span><span class="line" line="14"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> set k1 4
</span></span><span class="line" line="15"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">OK
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替k1的value進行+1 (Client A)
</span></span><span class="line" line="18"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">TX</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> incr k1
</span></span><span class="line" line="19"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">QUEUED
</span></span><span class="line" line="20"><span emptylineplaceholder="true">
</span></span><span class="line" line="21"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 替k1的value進行+1 (Client A)
</span></span><span class="line" line="22"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">TX</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> incr k1
</span></span><span class="line" line="23"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">QUEUED
</span></span><span class="line" line="24"><span emptylineplaceholder="true">
</span></span><span class="line" line="25"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 執行事務結果，可以發現執行是失敗的，沒有返回兩個結果 (Client A)
</span></span><span class="line" line="26"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">TX</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> exec
</span></span><span class="line" line="27"><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">(</span><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">nil</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2">)
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="三大特性" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#三大特性" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->三大特性<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->單獨的隔離操作
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->事務中所有命令都會序列化、按順序地執行。事務在執行的過程中，不會被其他客戶端發送來的命令請求打斷<!--]--></li><!--]--></ul><!--]--></li><li data-v-4c2f5fb9><!--[-->沒有隔離級別的概念
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->柱列中的命令沒有提交之前都不會實際的被執行，因為事務提交前任何指令都不會被實際執行<!--]--></li><!--]--></ul><!--]--></li><li data-v-4c2f5fb9><!--[-->不保證原子性
<ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Redis 同一個事務中，如果有一條命令執行失敗了，其後面的命令仍然會被執行且沒有回滾(Rollback)<!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><h3 id="pubsub" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#pubsub" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Pub/sub<!--]--><!----></a></h3><h4 id="使用上的限制" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用上的限制" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用上的限制<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->Pub/Sub 的內容，是不會用 Key 的方式去保存的，所以自然資料無法持久化，所以資料有可能會遺失。<!--]--></li><li data-v-4c2f5fb9><!--[-->當發送者(Pub)有發送消息時且訂閱者(Sub)連線中斷，則訂閱者將無法接收到此筆訊息<!--]--></li><li data-v-4c2f5fb9><!--[-->Redis Server 服務停止或當機，則資料會遺失<!--]--></li><li data-v-4c2f5fb9><!--[-->Redis 設定參數<div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 32mb：緩衝區(buffer)一旦超過 32MB，Redis 直接將訂閱者(Sub)會強制踢    下線
</span></span><span class="line" line="2"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 8mb + 60：緩衝區超過 8MB，並且持續 60 秒，Redis 也會把訂閱(Sub)會    被踢下線。
</span></span><span class="line" line="3"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">client-output-buffer-limit</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> pubsub</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> 32</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">mb</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> 8</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74">mb</span><span style="--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF"> 60
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><!--]--></li><!--]--></ul><h4 id="使用上的限制-1" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用上的限制-1" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用上的限制<!--]--><!----></a></h4><h4 id="使用上的考量" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用上的考量" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用上的考量<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->由於 Pub/Sub 的內容，是不會進行保存的，所以重要的資料不建議使用此方式來傳遞<!--]--></li><li data-v-4c2f5fb9><!--[-->發佈者(Pub)發布消息後，並不會管訂閱者(Sub)是否有接收到消息，也沒有 ACK 機制，所以無法確定訂閱者(Sub)是否有接收到訊息，因此在可靠訊息的場合中不建議使用<!--]--></li><li data-v-4c2f5fb9><!--[-->訂閱者(Sub)會占用一個 Redis Server 的連線，所以要注意是否有佔用過多的連線<!--]--></li><li data-v-4c2f5fb9><!--[-->當發佈者(Pub)發送”大量”訊息，若訂閱者(Sub)來不及消化，資料會阻塞在通道(channel)中，阻塞時間越長，資料丟失的風險就越高，當訊息量過大時，會造成緩衝區(buffer)溢出，就會導致資流失<!--]--></li><!--]--></ul><h4 id="常用指令-5" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#常用指令-5" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->常用指令<!--]--><!----></a></h4><div class="highlight-bash prose-code" meta data-v-a67e2655><!----><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light monokai" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查看全部的channel
</span></span><span class="line" line="2"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> PUBSUB CHANNELS
</span></span><span class="line" line="3"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> PUBSUB CHANNELS </span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">*
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 查看channel使用wild card
</span></span><span class="line" line="6"><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">&gt;</span><span style="--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"> PUBSUB CHANNELS sss</span><span style="--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672">*
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 訂閱listen:something的頻道
</span></span><span class="line" line="9"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">SUBSCRIBE</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> listen:something
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 發送資料給listen:something的頻道
</span></span><span class="line" line="12"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">PUBLISH</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> listen:something</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> hello
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 解除訂閱listen:something的頻道
</span></span><span class="line" line="15"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">UNSUBSCRIBE</span><span style="--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74"> listen:something
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F"># 使用MONITOR來Debug模式查看目前送出狀態
</span></span><span class="line" line="18"><span style="--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E">MONITOR
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-a67e2655 data-v-4a003820><span class="sr-only" data-v-4a003820>Copy to clipboard</span><span class="icon-wrapper" data-v-4a003820><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-4a003820 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-e610b8e3><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="使用情境-2" data-v-57e8d291><a aria-current="page" href="/code-study/workshop/redis#使用情境-2" class="router-link-active router-link-exact-active" data-v-57e8d291><!--[-->使用情境<!--]--><!----></a></h4><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[-->SignalR / WebSocket 在 K8s 底下多個 Pod 的廣播應用，<a href="https://learn.microsoft.com/zh-tw/aspnet/core/signalr/scale?view=aspnetcore-7.0" rel="nofollow" data-v-692834dd><!--[-->Redis backplane<!--]--></a><!--]--></li><li data-v-4c2f5fb9><!--[-->在網頁應用程序中實現的即時聊天室。例如: 當有一個用戶在聊天室中發布了一條消息時，所有訂閱該消息的用戶都會收到通知。<!--]--></li><!--]--></ul><h2 id="常見的三大問題" data-v-70b0c1e2><a aria-current="page" href="/code-study/workshop/redis#常見的三大問題" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->常見的三大問題<!--]--><!----></a></h2><h3 id="cache-penetration-快取穿透" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#cache-penetration-快取穿透" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Cache Penetration (快取穿透)<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->在高併發的情況下，查詢一個不存在的數值時會發生。例如: id 為 <strong data-v-84b57b07><!--[-->-1<!--]--></strong> 或<strong data-v-84b57b07><!--[-->特別大不存在的資料時<!--]--></strong>，會造成 Cache 內的資料是找不到的，既然從 Cache 中找不到數值，因此大量的 Request 皆會落到資料庫上，造成資料庫負擔。<!--]--></p><p data-v-9dc9c102><!--[-->💡 請求未命中的 Cache，直接存取資料庫，這就是快取穿透。<!--]--></p><p data-v-9dc9c102><!--[-->✅ 解決方式<!--]--></p><ol data-v-e6ab85be><!--[--><li data-v-4c2f5fb9><!--[-->在 Interface 層<code class="" data-v-2f6bd69d><!--[-->增加驗證<!--]--></code>，比如使用者權限驗證、參數驗證，不合法的參數就直接 Return，比如: id 做基本的驗證，id ≤ 0 直接<code class="" data-v-2f6bd69d><!--[-->return<!--]--></code>。<!--]--></li><li data-v-4c2f5fb9><!--[--><code class="" data-v-2f6bd69d><!--[-->快取NULL數值<!--]--></code>，但是 Cache NULL 的時間不能太長，否則 NULL 資料長時間得不到更新，也不能太短，否則達不到防止 Cache Penetration(快取穿透)<!--]--></li><li data-v-4c2f5fb9><!--[-->布隆過濾器(Bloom Filter) 類似 Hash table 的演算法，將所有可能的查詢生成一個 bitmap，在進行資料庫查詢之前會使用這個 bitmap 進行過濾，如果不在其中則直接過濾，從而減輕資料庫層面的壓力。<!--]--></li><!--]--></ol><h3 id="cache-breakdown-hotspot-invalid-快取擊穿" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#cache-breakdown-hotspot-invalid-快取擊穿" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Cache Breakdown / Hotspot Invalid (快取擊穿)<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->在 Cache 中的一個 Key(比如一個促銷商品)，在某個時間點過期的時候，恰好這個時間點對這個 Key 有大量的高併發請求，這些請求發現 Cache 過期了，因此都從資料庫加載資料回 Cache，如果這個時間點有高併發請求則可能會瞬間造成資料庫壓垮。<!--]--></p><p data-v-9dc9c102><!--[-->💡 熱點 Key，Cache 過期，直接攻擊資料庫<!--]--></p><p data-v-9dc9c102><!--[-->✅ 解決方式<!--]--></p><ol data-v-e6ab85be><!--[--><li data-v-4c2f5fb9><!--[-->設置熱資料(Hot data)永遠<strong data-v-84b57b07><!--[-->不過期<!--]--></strong><!--]--></li><li data-v-4c2f5fb9><!--[-->使用加互斥鎖，對 Cache 查詢時加鎖，如果 Key 不存在就加鎖，然後查 DB 進入到 Cache 中，然後解鎖，其他執行緒發現有鎖就必須等待，然後解鎖後返回資料或到資料庫查詢<!--]--></li><!--]--></ol><h3 id="cache-avalanche-快取雪崩" data-v-4cf5bb93><a aria-current="page" href="/code-study/workshop/redis#cache-avalanche-快取雪崩" class="router-link-active router-link-exact-active" data-v-4cf5bb93><!--[-->Cache Avalanche (快取雪崩)<!--]--><!----></a></h3><p data-v-9dc9c102><!--[-->大量的 Cache Key 在同一時間失效，導致大量的請求都落在資料庫上，如活動系統裡面同時進行著非常多的活動，但在某個時間點所有的 Cache 皆過期。<!--]--></p><ol data-v-e6ab85be><!--[--><li data-v-4c2f5fb9><!--[-->設置熱資料(Hot data)永遠<strong data-v-84b57b07><!--[-->不過期<!--]--></strong><!--]--></li><li data-v-4c2f5fb9><!--[-->Cache 資料的過期時間設置為隨機，防止同一時間大量資料過期現象發生。<!--]--></li><!--]--></ol><h2 id="參考" data-v-70b0c1e2><a aria-current="page" href="/code-study/workshop/redis#參考" class="router-link-active router-link-exact-active" data-v-70b0c1e2><!--[-->參考<!--]--><!----></a></h2><ul data-v-5bd61aad><!--[--><li data-v-4c2f5fb9><!--[--><a href="https://blog.yowko.com/redis-persistence/" rel="nofollow" data-v-692834dd><!--[-->關於 Redis Persistence - 資料持久化<!--]--></a><!--]--></li><li data-v-4c2f5fb9><!--[--><a href="https://medium.com/jerrynotes/redis-pub-sub-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%9C%83%E9%80%A0%E6%88%90%E4%BB%80%E9%BA%BC%E5%95%8F%E9%A1%8C%E5%91%A2-ab5be1e5328d" rel="nofollow" data-v-692834dd><!--[-->Redis Pub/Sub<!--]--></a><!--]--></li><li data-v-4c2f5fb9><!--[--><a href="https://wuqian.blog.csdn.net/article/details/105812464" rel="nofollow" data-v-692834dd><!--[-->一分鐘學習 Redis 常見的三大問題<!--]--></a><!--]--></li><!--]--></ul><style>html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}</style></div><!--]--><!--]--><!--[--><div class="docs-page-bottom" data-v-a6339876 data-v-70e24a2d><div class="edit-link" data-v-70e24a2d><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-70e24a2d style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="currentColor" d="M21 12a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1m-15 .76V17a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .71-.29l6.92-6.93L21.71 8a1 1 0 0 0 0-1.42l-4.24-4.29a1 1 0 0 0-1.42 0l-2.82 2.83l-6.94 6.93a1 1 0 0 0-.29.71m10.76-8.35l2.83 2.83l-1.42 1.42l-2.83-2.83ZM8 13.17l5.93-5.93l2.83 2.83L10.83 16H8Z"/></svg><!--[--><a href="https://github.com/codesensegroup/code-study/edit/master/content/2.workshop/redis.md" rel="noopener noreferrer" data-v-70e24a2d data-v-692834dd><!--[--><span data-v-70e24a2d> 在GitHub上在編輯此頁面 </span><!--]--></a><!--]--></div></div><div class="docs-prev-next" data-v-a6339876 data-v-30e1aea1><a href="/code-study/workshop/redis-ring" class="prev" data-v-30e1aea1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-30e1aea1 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m11 17l-5-5m0 0l5-5m-5 5h12"/></svg><div class="wrapper" data-v-30e1aea1><span class="directory" data-v-30e1aea1>Workshop</span><span class="title" data-v-30e1aea1>Redis Ring</span></div></a><a href="/code-study/workshop/tdd_part1" class="next" data-v-30e1aea1><div class="wrapper" data-v-30e1aea1><span class="directory" data-v-30e1aea1>Workshop</span><span class="title" data-v-30e1aea1>TDD技術分享 - Part1 灌輸</span></div><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-30e1aea1 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m13 7l5 5m0 0l-5 5m5-5H6"/></svg></a></div><!--]--></article><div class="toc" data-v-a6339876><div class="toc-wrapper" data-v-a6339876><button data-v-a6339876><span class="title" data-v-a6339876>Table of Contents</span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-a6339876 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5l7 7l-7 7"/></svg></button><div class="docs-toc-wrapper" data-v-a6339876><div class="docs-toc" data-v-a6339876 data-v-ebd2b6b2><!--[--><div class="docs-toc-title" data-v-ebd2b6b2><span data-v-ebd2b6b2>Table of Contents</span></div><ul class="docs-toc-links" data-v-ebd2b6b2 data-v-a97df893><!--[--><li class="depth-2" data-v-a97df893><a href="#前言" class="" data-v-a97df893>前言</a><!----></li><li class="depth-2" data-v-a97df893><a href="#安裝" class="" data-v-a97df893>安裝</a><ul class="docs-toc-links" data-v-a97df893 data-v-a97df893><!--[--><li class="depth-3" data-v-a97df893><a href="#版本號選擇" class="" data-v-a97df893>版本號選擇</a><!----></li><li class="depth-3" data-v-a97df893><a href="#linux-安裝" class="" data-v-a97df893>Linux 安裝</a><!----></li><li class="depth-3" data-v-a97df893><a href="#windows-實體安裝" class="" data-v-a97df893>Windows 實體安裝</a><!----></li><li class="depth-3" data-v-a97df893><a href="#docker-安裝" class="" data-v-a97df893>Docker 安裝</a><!----></li><li class="depth-3" data-v-a97df893><a href="#常用操作工具" class="" data-v-a97df893>常用操作工具</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-a97df893><a href="#常用的資料結構" class="" data-v-a97df893>常用的資料結構</a><ul class="docs-toc-links" data-v-a97df893 data-v-a97df893><!--[--><li class="depth-3" data-v-a97df893><a href="#strings" class="" data-v-a97df893>Strings</a><!----></li><li class="depth-3" data-v-a97df893><a href="#hash" class="" data-v-a97df893>Hash</a><!----></li><li class="depth-3" data-v-a97df893><a href="#lists" class="" data-v-a97df893>Lists</a><!----></li><li class="depth-3" data-v-a97df893><a href="#sets" class="" data-v-a97df893>Sets</a><!----></li><li class="depth-3" data-v-a97df893><a href="#sorted-sets" class="" data-v-a97df893>Sorted sets</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-a97df893><a href="#其他常用功能" class="" data-v-a97df893>其他常用功能</a><ul class="docs-toc-links" data-v-a97df893 data-v-a97df893><!--[--><li class="depth-3" data-v-a97df893><a href="#transactions" class="" data-v-a97df893>Transactions</a><!----></li><li class="depth-3" data-v-a97df893><a href="#pubsub" class="" data-v-a97df893>Pub/sub</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-a97df893><a href="#常見的三大問題" class="" data-v-a97df893>常見的三大問題</a><ul class="docs-toc-links" data-v-a97df893 data-v-a97df893><!--[--><li class="depth-3" data-v-a97df893><a href="#cache-penetration-快取穿透" class="" data-v-a97df893>Cache Penetration (快取穿透)</a><!----></li><li class="depth-3" data-v-a97df893><a href="#cache-breakdown-hotspot-invalid-快取擊穿" class="" data-v-a97df893>Cache Breakdown / Hotspot Invalid (快取擊穿)</a><!----></li><li class="depth-3" data-v-a97df893><a href="#cache-avalanche-快取雪崩" class="" data-v-a97df893>Cache Avalanche (快取雪崩)</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-a97df893><a href="#參考" class="" data-v-a97df893>參考</a><!----></li><!--]--></ul><!--]--></div></div></div></div><button class="reading-mode-toggle" aria-label="進入閱讀模式" title="進入閱讀模式 (F)" data-v-a6339876 data-v-ef98344c><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-ef98344c style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-e610b8e3><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18s-3.332.477-4.5 1.253"/></svg></button><!--]--></div></div><!--]--></main><footer class="h-20 relative w-full z-20 text-center flex flex-col items-center justify-center" data-v-5c2f7786 data-v-47825797><div class="font-light" data-v-47825797>© 2022 Code Sense</div><div class="busuanzi flex" data-v-47825797><span class="flex" id="busuanzi_container_site_uv" data-v-47825797><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20" fill="currentColor" class="mt-1 mr-1 w-4 h-4" data-v-47825797><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg><span class="site-uv" title="訪客總數" data-v-47825797><span id="busuanzi_value_site_uv" data-v-47825797></span></span></span><span class="mx-2" data-v-47825797>|</span><span class="flex" id="busuanzi_container_site_pv" data-v-47825797><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20" fill="currentColor" class="mt-1 mr-1 w-4 h-4" data-v-47825797><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path></svg><span class="site-pv" title="總瀏覽次數" data-v-47825797><span id="busuanzi_value_site_pv" data-v-47825797></span></span></span></div></footer></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/code-study/workshop/redis/_payload.json">[{"state":1,"_errors":6939,"serverRendered":5,"path":11,"prerenderedAt":6942},["Reactive",2],{"$scolor-mode":3,"$sdd-pages":7,"$sdd-surrounds":6683,"$sdd-globals":6702,"$sdd-navigation":6704,"$sicons":6904,"$sreading-mode":6,"$sasideScroll":6930,"$sdocus-docs-aside-collapse-map-/":6931,"$sdocus-docs-aside-collapse-map-/sdi-aig":6932,"$sdocus-docs-aside-collapse-map-/clean-arch":6933,"$sdocus-docs-aside-collapse-map-/ddia":6934,"$sdocus-docs-aside-collapse-map-/cicd-2.0":6935,"$sdocus-docs-aside-collapse-map-/web-api":6936,"$sdocus-docs-aside-collapse-map-/workshop":6937,"$sdocus-docs-aside-collapse-map-/api":6938},{"preference":4,"value":4,"unknown":5,"forced":6},"system",true,false,["ShallowRef",8],["ShallowReactive",9],{"/workshop/redis":10},{"_path":11,"_dir":12,"_draft":6,"_partial":6,"_locale":13,"title":14,"description":13,"pageTitle":14,"contributors":15,"body":17,"_type":6677,"_id":6678,"_source":6679,"_file":6680,"_extension":6681,"layout":6682},"/workshop/redis","workshop","","Redis快速入門",[16],"changemyminds",{"type":18,"children":19,"toc":6650},"root",[20,28,42,47,52,58,84,90,96,371,376,628,633,738,743,751,968,976,1039,1045,1050,1079,1085,1222,1234,1239,1256,1279,1284,1344,1349,1355,1469,1474,1481,1740,1746,2156,2162,2366,2371,2425,2431,2486,2491,2497,2667,2673,3047,3052,3075,3081,3120,3125,3131,3419,3425,3775,3780,3803,3809,3854,3859,3865,4095,4101,4341,4347,4676,4681,4699,4705,4737,4742,4748,5188,5193,5211,5216,5222,5227,5240,5246,5280,5298,5524,5529,5675,5681,5775,5794,6073,6078,6120,6126,6131,6214,6219,6224,6247,6252,6438,6443,6463,6468,6474,6493,6498,6503,6541,6547,6552,6557,6561,6579,6585,6590,6606,6611,6644],{"type":21,"tag":22,"props":23,"children":25},"element","h2",{"id":24},"前言",[26],{"type":27,"value":24},"text",{"type":21,"tag":29,"props":30,"children":31},"p",{},[32,34,40],{"type":27,"value":33},"此章節不屬於",{"type":21,"tag":35,"props":36,"children":37},"code",{"className":13},[38],{"type":27,"value":39},"資料密集型應用系統設計",{"type":27,"value":41},"書中內容，額外挪出的一個教學章節。",{"type":21,"tag":29,"props":43,"children":44},{},[45],{"type":27,"value":46},"這邊主要是補充快取(Cache) Redis 資料庫的使用方式以及操作。",{"type":21,"tag":22,"props":48,"children":50},{"id":49},"安裝",[51],{"type":27,"value":49},{"type":21,"tag":53,"props":54,"children":56},"h3",{"id":55},"版本號選擇",[57],{"type":27,"value":55},{"type":21,"tag":59,"props":60,"children":61},"ul",{},[62,74],{"type":21,"tag":63,"props":64,"children":65},"li",{},[66,68],{"type":27,"value":67},"奇數： 2.7、2.9、3.1，為",{"type":21,"tag":69,"props":70,"children":71},"strong",{},[72],{"type":27,"value":73},"不穩定版本",{"type":21,"tag":63,"props":75,"children":76},{},[77,79],{"type":27,"value":78},"偶數： 2.6、2.8、3.0，為",{"type":21,"tag":69,"props":80,"children":81},{},[82],{"type":27,"value":83},"穩定版本",{"type":21,"tag":53,"props":85,"children":87},{"id":86},"linux-安裝",[88],{"type":27,"value":89},"Linux 安裝",{"type":21,"tag":91,"props":92,"children":94},"h4",{"id":93},"原始碼安裝",[95],{"type":27,"value":93},{"type":21,"tag":97,"props":98,"children":102},"pre",{"className":99,"code":100,"language":101,"meta":13,"style":13},"language-bash shiki shiki-themes github-dark github-light monokai","# 下載檔案\ncurl -LO \"https://download.redis.io/releases/redis-6.2.7.tar.gz\"\n\n# 解壓縮\ntar -xvf redis-6.2.7.tar.gz\n\n# 移除安裝檔\nrm redis-6.2.7.tar.gz\n\n# 前往解壓縮目錄\ncd redis-6.2.7\n\n# 編譯專案 (類似編譯了class)\nmake\n\n# 將binary檔安裝到某個目錄底下\nmake install PREFIX=/root/redis-6.2.7/redis\n\n# 查看make的安裝目錄\n$ ls /root/redis-6.2.7/redis/bin/\nredis-benchmark  redis-check-aof  redis-check-rdb  redis-cli  redis-sentinel  redis-server\n\n","bash",[103],{"type":21,"tag":35,"props":104,"children":105},{"__ignoreMap":13},[106,118,140,149,158,177,185,194,207,215,224,239,247,256,265,273,282,301,309,318,337],{"type":21,"tag":107,"props":108,"children":111},"span",{"class":109,"line":110},"line",1,[112],{"type":21,"tag":107,"props":113,"children":115},{"style":114},"--shiki-dark:#6A737D;--shiki-default:#6A737D;--shiki-sepia:#88846F",[116],{"type":27,"value":117},"# 下載檔案\n",{"type":21,"tag":107,"props":119,"children":121},{"class":109,"line":120},2,[122,128,134],{"type":21,"tag":107,"props":123,"children":125},{"style":124},"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E",[126],{"type":27,"value":127},"curl",{"type":21,"tag":107,"props":129,"children":131},{"style":130},"--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#AE81FF",[132],{"type":27,"value":133}," -LO",{"type":21,"tag":107,"props":135,"children":137},{"style":136},"--shiki-dark:#9ECBFF;--shiki-default:#032F62;--shiki-sepia:#E6DB74",[138],{"type":27,"value":139}," \"https://download.redis.io/releases/redis-6.2.7.tar.gz\"\n",{"type":21,"tag":107,"props":141,"children":143},{"class":109,"line":142},3,[144],{"type":21,"tag":107,"props":145,"children":146},{"emptyLinePlaceholder":5},[147],{"type":27,"value":148},"\n",{"type":21,"tag":107,"props":150,"children":152},{"class":109,"line":151},4,[153],{"type":21,"tag":107,"props":154,"children":155},{"style":114},[156],{"type":27,"value":157},"# 解壓縮\n",{"type":21,"tag":107,"props":159,"children":161},{"class":109,"line":160},5,[162,167,172],{"type":21,"tag":107,"props":163,"children":164},{"style":124},[165],{"type":27,"value":166},"tar",{"type":21,"tag":107,"props":168,"children":169},{"style":130},[170],{"type":27,"value":171}," -xvf",{"type":21,"tag":107,"props":173,"children":174},{"style":136},[175],{"type":27,"value":176}," redis-6.2.7.tar.gz\n",{"type":21,"tag":107,"props":178,"children":180},{"class":109,"line":179},6,[181],{"type":21,"tag":107,"props":182,"children":183},{"emptyLinePlaceholder":5},[184],{"type":27,"value":148},{"type":21,"tag":107,"props":186,"children":188},{"class":109,"line":187},7,[189],{"type":21,"tag":107,"props":190,"children":191},{"style":114},[192],{"type":27,"value":193},"# 移除安裝檔\n",{"type":21,"tag":107,"props":195,"children":197},{"class":109,"line":196},8,[198,203],{"type":21,"tag":107,"props":199,"children":200},{"style":124},[201],{"type":27,"value":202},"rm",{"type":21,"tag":107,"props":204,"children":205},{"style":136},[206],{"type":27,"value":176},{"type":21,"tag":107,"props":208,"children":210},{"class":109,"line":209},9,[211],{"type":21,"tag":107,"props":212,"children":213},{"emptyLinePlaceholder":5},[214],{"type":27,"value":148},{"type":21,"tag":107,"props":216,"children":218},{"class":109,"line":217},10,[219],{"type":21,"tag":107,"props":220,"children":221},{"style":114},[222],{"type":27,"value":223},"# 前往解壓縮目錄\n",{"type":21,"tag":107,"props":225,"children":227},{"class":109,"line":226},11,[228,234],{"type":21,"tag":107,"props":229,"children":231},{"style":230},"--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#66D9EF",[232],{"type":27,"value":233},"cd",{"type":21,"tag":107,"props":235,"children":236},{"style":136},[237],{"type":27,"value":238}," redis-6.2.7\n",{"type":21,"tag":107,"props":240,"children":242},{"class":109,"line":241},12,[243],{"type":21,"tag":107,"props":244,"children":245},{"emptyLinePlaceholder":5},[246],{"type":27,"value":148},{"type":21,"tag":107,"props":248,"children":250},{"class":109,"line":249},13,[251],{"type":21,"tag":107,"props":252,"children":253},{"style":114},[254],{"type":27,"value":255},"# 編譯專案 (類似編譯了class)\n",{"type":21,"tag":107,"props":257,"children":259},{"class":109,"line":258},14,[260],{"type":21,"tag":107,"props":261,"children":262},{"style":124},[263],{"type":27,"value":264},"make\n",{"type":21,"tag":107,"props":266,"children":268},{"class":109,"line":267},15,[269],{"type":21,"tag":107,"props":270,"children":271},{"emptyLinePlaceholder":5},[272],{"type":27,"value":148},{"type":21,"tag":107,"props":274,"children":276},{"class":109,"line":275},16,[277],{"type":21,"tag":107,"props":278,"children":279},{"style":114},[280],{"type":27,"value":281},"# 將binary檔安裝到某個目錄底下\n",{"type":21,"tag":107,"props":283,"children":285},{"class":109,"line":284},17,[286,291,296],{"type":21,"tag":107,"props":287,"children":288},{"style":124},[289],{"type":27,"value":290},"make",{"type":21,"tag":107,"props":292,"children":293},{"style":136},[294],{"type":27,"value":295}," install",{"type":21,"tag":107,"props":297,"children":298},{"style":136},[299],{"type":27,"value":300}," PREFIX=/root/redis-6.2.7/redis\n",{"type":21,"tag":107,"props":302,"children":304},{"class":109,"line":303},18,[305],{"type":21,"tag":107,"props":306,"children":307},{"emptyLinePlaceholder":5},[308],{"type":27,"value":148},{"type":21,"tag":107,"props":310,"children":312},{"class":109,"line":311},19,[313],{"type":21,"tag":107,"props":314,"children":315},{"style":114},[316],{"type":27,"value":317},"# 查看make的安裝目錄\n",{"type":21,"tag":107,"props":319,"children":321},{"class":109,"line":320},20,[322,327,332],{"type":21,"tag":107,"props":323,"children":324},{"style":124},[325],{"type":27,"value":326},"$",{"type":21,"tag":107,"props":328,"children":329},{"style":136},[330],{"type":27,"value":331}," ls",{"type":21,"tag":107,"props":333,"children":334},{"style":136},[335],{"type":27,"value":336}," /root/redis-6.2.7/redis/bin/\n",{"type":21,"tag":107,"props":338,"children":340},{"class":109,"line":339},21,[341,346,351,356,361,366],{"type":21,"tag":107,"props":342,"children":343},{"style":124},[344],{"type":27,"value":345},"redis-benchmark",{"type":21,"tag":107,"props":347,"children":348},{"style":136},[349],{"type":27,"value":350},"  redis-check-aof",{"type":21,"tag":107,"props":352,"children":353},{"style":136},[354],{"type":27,"value":355},"  redis-check-rdb",{"type":21,"tag":107,"props":357,"children":358},{"style":136},[359],{"type":27,"value":360},"  redis-cli",{"type":21,"tag":107,"props":362,"children":363},{"style":136},[364],{"type":27,"value":365},"  redis-sentinel",{"type":21,"tag":107,"props":367,"children":368},{"style":136},[369],{"type":27,"value":370},"  redis-server\n",{"type":21,"tag":29,"props":372,"children":373},{},[374],{"type":27,"value":375},"💡 如果執行 make 指令報錯誤，則需要執行下列指令，進行安裝",{"type":21,"tag":59,"props":377,"children":378},{},[379,506],{"type":21,"tag":63,"props":380,"children":381},{},[382,384],{"type":27,"value":383},"Ubuntun",{"type":21,"tag":97,"props":385,"children":387},{"className":99,"code":386,"language":101,"meta":13,"style":13},"# 請先確認gcc是否安裝\ngcc -v\n\n# 更新apt套件\nsudo apt-get update\n\n# 安裝apt套件\nsudo apt -y install gcc automake autoconf libtool make\n",[388],{"type":21,"tag":35,"props":389,"children":390},{"__ignoreMap":13},[391,399,412,419,427,445,452,460],{"type":21,"tag":107,"props":392,"children":393},{"class":109,"line":110},[394],{"type":21,"tag":107,"props":395,"children":396},{"style":114},[397],{"type":27,"value":398},"# 請先確認gcc是否安裝\n",{"type":21,"tag":107,"props":400,"children":401},{"class":109,"line":120},[402,407],{"type":21,"tag":107,"props":403,"children":404},{"style":124},[405],{"type":27,"value":406},"gcc",{"type":21,"tag":107,"props":408,"children":409},{"style":130},[410],{"type":27,"value":411}," -v\n",{"type":21,"tag":107,"props":413,"children":414},{"class":109,"line":142},[415],{"type":21,"tag":107,"props":416,"children":417},{"emptyLinePlaceholder":5},[418],{"type":27,"value":148},{"type":21,"tag":107,"props":420,"children":421},{"class":109,"line":151},[422],{"type":21,"tag":107,"props":423,"children":424},{"style":114},[425],{"type":27,"value":426},"# 更新apt套件\n",{"type":21,"tag":107,"props":428,"children":429},{"class":109,"line":160},[430,435,440],{"type":21,"tag":107,"props":431,"children":432},{"style":124},[433],{"type":27,"value":434},"sudo",{"type":21,"tag":107,"props":436,"children":437},{"style":136},[438],{"type":27,"value":439}," apt-get",{"type":21,"tag":107,"props":441,"children":442},{"style":136},[443],{"type":27,"value":444}," update\n",{"type":21,"tag":107,"props":446,"children":447},{"class":109,"line":179},[448],{"type":21,"tag":107,"props":449,"children":450},{"emptyLinePlaceholder":5},[451],{"type":27,"value":148},{"type":21,"tag":107,"props":453,"children":454},{"class":109,"line":187},[455],{"type":21,"tag":107,"props":456,"children":457},{"style":114},[458],{"type":27,"value":459},"# 安裝apt套件\n",{"type":21,"tag":107,"props":461,"children":462},{"class":109,"line":196},[463,467,472,477,481,486,491,496,501],{"type":21,"tag":107,"props":464,"children":465},{"style":124},[466],{"type":27,"value":434},{"type":21,"tag":107,"props":468,"children":469},{"style":136},[470],{"type":27,"value":471}," apt",{"type":21,"tag":107,"props":473,"children":474},{"style":130},[475],{"type":27,"value":476}," -y",{"type":21,"tag":107,"props":478,"children":479},{"style":136},[480],{"type":27,"value":295},{"type":21,"tag":107,"props":482,"children":483},{"style":136},[484],{"type":27,"value":485}," gcc",{"type":21,"tag":107,"props":487,"children":488},{"style":136},[489],{"type":27,"value":490}," automake",{"type":21,"tag":107,"props":492,"children":493},{"style":136},[494],{"type":27,"value":495}," autoconf",{"type":21,"tag":107,"props":497,"children":498},{"style":136},[499],{"type":27,"value":500}," libtool",{"type":21,"tag":107,"props":502,"children":503},{"style":136},[504],{"type":27,"value":505}," make\n",{"type":21,"tag":63,"props":507,"children":508},{},[509,511],{"type":27,"value":510},"CentOS",{"type":21,"tag":97,"props":512,"children":514},{"className":99,"code":513,"language":101,"meta":13,"style":13},"\n# 請先確認gcc是否安裝\ngcc -v\n\n# 更新yum套件\nsudo yum update\n\n# 安裝yum套件\nsudo yum -y install gcc automake autoconf libtool make\n\n",[515],{"type":21,"tag":35,"props":516,"children":517},{"__ignoreMap":13},[518,525,532,543,550,558,574,581,589],{"type":21,"tag":107,"props":519,"children":520},{"class":109,"line":110},[521],{"type":21,"tag":107,"props":522,"children":523},{"emptyLinePlaceholder":5},[524],{"type":27,"value":148},{"type":21,"tag":107,"props":526,"children":527},{"class":109,"line":120},[528],{"type":21,"tag":107,"props":529,"children":530},{"style":114},[531],{"type":27,"value":398},{"type":21,"tag":107,"props":533,"children":534},{"class":109,"line":142},[535,539],{"type":21,"tag":107,"props":536,"children":537},{"style":124},[538],{"type":27,"value":406},{"type":21,"tag":107,"props":540,"children":541},{"style":130},[542],{"type":27,"value":411},{"type":21,"tag":107,"props":544,"children":545},{"class":109,"line":151},[546],{"type":21,"tag":107,"props":547,"children":548},{"emptyLinePlaceholder":5},[549],{"type":27,"value":148},{"type":21,"tag":107,"props":551,"children":552},{"class":109,"line":160},[553],{"type":21,"tag":107,"props":554,"children":555},{"style":114},[556],{"type":27,"value":557},"# 更新yum套件\n",{"type":21,"tag":107,"props":559,"children":560},{"class":109,"line":179},[561,565,570],{"type":21,"tag":107,"props":562,"children":563},{"style":124},[564],{"type":27,"value":434},{"type":21,"tag":107,"props":566,"children":567},{"style":136},[568],{"type":27,"value":569}," yum",{"type":21,"tag":107,"props":571,"children":572},{"style":136},[573],{"type":27,"value":444},{"type":21,"tag":107,"props":575,"children":576},{"class":109,"line":187},[577],{"type":21,"tag":107,"props":578,"children":579},{"emptyLinePlaceholder":5},[580],{"type":27,"value":148},{"type":21,"tag":107,"props":582,"children":583},{"class":109,"line":196},[584],{"type":21,"tag":107,"props":585,"children":586},{"style":114},[587],{"type":27,"value":588},"# 安裝yum套件\n",{"type":21,"tag":107,"props":590,"children":591},{"class":109,"line":209},[592,596,600,604,608,612,616,620,624],{"type":21,"tag":107,"props":593,"children":594},{"style":124},[595],{"type":27,"value":434},{"type":21,"tag":107,"props":597,"children":598},{"style":136},[599],{"type":27,"value":569},{"type":21,"tag":107,"props":601,"children":602},{"style":130},[603],{"type":27,"value":476},{"type":21,"tag":107,"props":605,"children":606},{"style":136},[607],{"type":27,"value":295},{"type":21,"tag":107,"props":609,"children":610},{"style":136},[611],{"type":27,"value":485},{"type":21,"tag":107,"props":613,"children":614},{"style":136},[615],{"type":27,"value":490},{"type":21,"tag":107,"props":617,"children":618},{"style":136},[619],{"type":27,"value":495},{"type":21,"tag":107,"props":621,"children":622},{"style":136},[623],{"type":27,"value":500},{"type":21,"tag":107,"props":625,"children":626},{"style":136},[627],{"type":27,"value":505},{"type":21,"tag":29,"props":629,"children":630},{},[631],{"type":27,"value":632},"安裝目錄底下的檔案介紹",{"type":21,"tag":634,"props":635,"children":636},"table",{},[637,656],{"type":21,"tag":638,"props":639,"children":640},"thead",{},[641],{"type":21,"tag":642,"props":643,"children":644},"tr",{},[645,651],{"type":21,"tag":646,"props":647,"children":648},"th",{},[649],{"type":27,"value":650},"可執行的檔案",{"type":21,"tag":646,"props":652,"children":653},{},[654],{"type":27,"value":655},"功能用途",{"type":21,"tag":657,"props":658,"children":659},"tbody",{},[660,674,687,699,712,725],{"type":21,"tag":642,"props":661,"children":662},{},[663,669],{"type":21,"tag":664,"props":665,"children":666},"td",{},[667],{"type":27,"value":668},"redis-server",{"type":21,"tag":664,"props":670,"children":671},{},[672],{"type":27,"value":673},"啟動 redis 伺服器",{"type":21,"tag":642,"props":675,"children":676},{},[677,682],{"type":21,"tag":664,"props":678,"children":679},{},[680],{"type":27,"value":681},"redis-cli",{"type":21,"tag":664,"props":683,"children":684},{},[685],{"type":27,"value":686},"redis 客戶端(client)操作",{"type":21,"tag":642,"props":688,"children":689},{},[690,694],{"type":21,"tag":664,"props":691,"children":692},{},[693],{"type":27,"value":345},{"type":21,"tag":664,"props":695,"children":696},{},[697],{"type":27,"value":698},"性能測試工具，可以在本機電腦運行，看看本機效能如何 (服務啟動起來後執行)",{"type":21,"tag":642,"props":700,"children":701},{},[702,707],{"type":21,"tag":664,"props":703,"children":704},{},[705],{"type":27,"value":706},"redis-check-aof",{"type":21,"tag":664,"props":708,"children":709},{},[710],{"type":27,"value":711},"AOF 持久化文件檢測和修復工具",{"type":21,"tag":642,"props":713,"children":714},{},[715,720],{"type":21,"tag":664,"props":716,"children":717},{},[718],{"type":27,"value":719},"redis-check-rdb",{"type":21,"tag":664,"props":721,"children":722},{},[723],{"type":27,"value":724},"RDB 持久化文件檢測和修復工具",{"type":21,"tag":642,"props":726,"children":727},{},[728,733],{"type":21,"tag":664,"props":729,"children":730},{},[731],{"type":27,"value":732},"redis-sentinel",{"type":21,"tag":664,"props":734,"children":735},{},[736],{"type":27,"value":737},"啟動哨兵模式 (Redis Cluster 使用)",{"type":21,"tag":91,"props":739,"children":741},{"id":740},"其他安裝",[742],{"type":27,"value":740},{"type":21,"tag":59,"props":744,"children":745},{},[746],{"type":21,"tag":63,"props":747,"children":748},{},[749],{"type":27,"value":750},"apt 安裝",{"type":21,"tag":97,"props":752,"children":754},{"className":99,"code":753,"language":101,"meta":13,"style":13},"# lsb: Linux Standard Base縮寫，用來顯示LSB和特定版本的相關訊息\n# 某些最小環境的情況下需要安裝，例如在Docker Container內部\nsudo apt install lsb-release\n\n# 將repository加入到apt index中，後續進行更新和安裝\ncurl -fsSL https://packages.redis.io/gpg | sudo gpg --dearmor -o /usr/share/keyrings/redis-archive-keyring.gpg\necho \"deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/redis.list\n\n# 更新apt-get\nsudo apt-get update\n\n# 安裝redis\nsudo apt-get install redis\n",[755],{"type":21,"tag":35,"props":756,"children":757},{"__ignoreMap":13},[758,766,774,794,801,809,857,903,910,918,933,940,948],{"type":21,"tag":107,"props":759,"children":760},{"class":109,"line":110},[761],{"type":21,"tag":107,"props":762,"children":763},{"style":114},[764],{"type":27,"value":765},"# lsb: Linux Standard Base縮寫，用來顯示LSB和特定版本的相關訊息\n",{"type":21,"tag":107,"props":767,"children":768},{"class":109,"line":120},[769],{"type":21,"tag":107,"props":770,"children":771},{"style":114},[772],{"type":27,"value":773},"# 某些最小環境的情況下需要安裝，例如在Docker Container內部\n",{"type":21,"tag":107,"props":775,"children":776},{"class":109,"line":142},[777,781,785,789],{"type":21,"tag":107,"props":778,"children":779},{"style":124},[780],{"type":27,"value":434},{"type":21,"tag":107,"props":782,"children":783},{"style":136},[784],{"type":27,"value":471},{"type":21,"tag":107,"props":786,"children":787},{"style":136},[788],{"type":27,"value":295},{"type":21,"tag":107,"props":790,"children":791},{"style":136},[792],{"type":27,"value":793}," lsb-release\n",{"type":21,"tag":107,"props":795,"children":796},{"class":109,"line":151},[797],{"type":21,"tag":107,"props":798,"children":799},{"emptyLinePlaceholder":5},[800],{"type":27,"value":148},{"type":21,"tag":107,"props":802,"children":803},{"class":109,"line":160},[804],{"type":21,"tag":107,"props":805,"children":806},{"style":114},[807],{"type":27,"value":808},"# 將repository加入到apt index中，後續進行更新和安裝\n",{"type":21,"tag":107,"props":810,"children":811},{"class":109,"line":179},[812,816,821,826,832,837,842,847,852],{"type":21,"tag":107,"props":813,"children":814},{"style":124},[815],{"type":27,"value":127},{"type":21,"tag":107,"props":817,"children":818},{"style":130},[819],{"type":27,"value":820}," -fsSL",{"type":21,"tag":107,"props":822,"children":823},{"style":136},[824],{"type":27,"value":825}," https://packages.redis.io/gpg",{"type":21,"tag":107,"props":827,"children":829},{"style":828},"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672",[830],{"type":27,"value":831}," |",{"type":21,"tag":107,"props":833,"children":834},{"style":124},[835],{"type":27,"value":836}," sudo",{"type":21,"tag":107,"props":838,"children":839},{"style":136},[840],{"type":27,"value":841}," gpg",{"type":21,"tag":107,"props":843,"children":844},{"style":130},[845],{"type":27,"value":846}," --dearmor",{"type":21,"tag":107,"props":848,"children":849},{"style":130},[850],{"type":27,"value":851}," -o",{"type":21,"tag":107,"props":853,"children":854},{"style":136},[855],{"type":27,"value":856}," /usr/share/keyrings/redis-archive-keyring.gpg\n",{"type":21,"tag":107,"props":858,"children":859},{"class":109,"line":187},[860,865,870,875,880,885,889,893,898],{"type":21,"tag":107,"props":861,"children":862},{"style":230},[863],{"type":27,"value":864},"echo",{"type":21,"tag":107,"props":866,"children":867},{"style":136},[868],{"type":27,"value":869}," \"deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb $(",{"type":21,"tag":107,"props":871,"children":872},{"style":124},[873],{"type":27,"value":874},"lsb_release",{"type":21,"tag":107,"props":876,"children":877},{"style":130},[878],{"type":27,"value":879}," -cs",{"type":21,"tag":107,"props":881,"children":882},{"style":136},[883],{"type":27,"value":884},") main\"",{"type":21,"tag":107,"props":886,"children":887},{"style":828},[888],{"type":27,"value":831},{"type":21,"tag":107,"props":890,"children":891},{"style":124},[892],{"type":27,"value":836},{"type":21,"tag":107,"props":894,"children":895},{"style":136},[896],{"type":27,"value":897}," tee",{"type":21,"tag":107,"props":899,"children":900},{"style":136},[901],{"type":27,"value":902}," /etc/apt/sources.list.d/redis.list\n",{"type":21,"tag":107,"props":904,"children":905},{"class":109,"line":196},[906],{"type":21,"tag":107,"props":907,"children":908},{"emptyLinePlaceholder":5},[909],{"type":27,"value":148},{"type":21,"tag":107,"props":911,"children":912},{"class":109,"line":209},[913],{"type":21,"tag":107,"props":914,"children":915},{"style":114},[916],{"type":27,"value":917},"# 更新apt-get\n",{"type":21,"tag":107,"props":919,"children":920},{"class":109,"line":217},[921,925,929],{"type":21,"tag":107,"props":922,"children":923},{"style":124},[924],{"type":27,"value":434},{"type":21,"tag":107,"props":926,"children":927},{"style":136},[928],{"type":27,"value":439},{"type":21,"tag":107,"props":930,"children":931},{"style":136},[932],{"type":27,"value":444},{"type":21,"tag":107,"props":934,"children":935},{"class":109,"line":226},[936],{"type":21,"tag":107,"props":937,"children":938},{"emptyLinePlaceholder":5},[939],{"type":27,"value":148},{"type":21,"tag":107,"props":941,"children":942},{"class":109,"line":241},[943],{"type":21,"tag":107,"props":944,"children":945},{"style":114},[946],{"type":27,"value":947},"# 安裝redis\n",{"type":21,"tag":107,"props":949,"children":950},{"class":109,"line":249},[951,955,959,963],{"type":21,"tag":107,"props":952,"children":953},{"style":124},[954],{"type":27,"value":434},{"type":21,"tag":107,"props":956,"children":957},{"style":136},[958],{"type":27,"value":439},{"type":21,"tag":107,"props":960,"children":961},{"style":136},[962],{"type":27,"value":295},{"type":21,"tag":107,"props":964,"children":965},{"style":136},[966],{"type":27,"value":967}," redis\n",{"type":21,"tag":59,"props":969,"children":970},{},[971],{"type":21,"tag":63,"props":972,"children":973},{},[974],{"type":27,"value":975},"snap 安裝",{"type":21,"tag":97,"props":977,"children":979},{"className":99,"code":978,"language":101,"meta":13,"style":13},"# 查詢redis名稱\nsnap find redis\n\n# 查看redis的資訊\nsnap info redis\n",[980],{"type":21,"tag":35,"props":981,"children":982},{"__ignoreMap":13},[983,991,1008,1015,1023],{"type":21,"tag":107,"props":984,"children":985},{"class":109,"line":110},[986],{"type":21,"tag":107,"props":987,"children":988},{"style":114},[989],{"type":27,"value":990},"# 查詢redis名稱\n",{"type":21,"tag":107,"props":992,"children":993},{"class":109,"line":120},[994,999,1004],{"type":21,"tag":107,"props":995,"children":996},{"style":124},[997],{"type":27,"value":998},"snap",{"type":21,"tag":107,"props":1000,"children":1001},{"style":136},[1002],{"type":27,"value":1003}," find",{"type":21,"tag":107,"props":1005,"children":1006},{"style":136},[1007],{"type":27,"value":967},{"type":21,"tag":107,"props":1009,"children":1010},{"class":109,"line":142},[1011],{"type":21,"tag":107,"props":1012,"children":1013},{"emptyLinePlaceholder":5},[1014],{"type":27,"value":148},{"type":21,"tag":107,"props":1016,"children":1017},{"class":109,"line":151},[1018],{"type":21,"tag":107,"props":1019,"children":1020},{"style":114},[1021],{"type":27,"value":1022},"# 查看redis的資訊\n",{"type":21,"tag":107,"props":1024,"children":1025},{"class":109,"line":160},[1026,1030,1035],{"type":21,"tag":107,"props":1027,"children":1028},{"style":124},[1029],{"type":27,"value":998},{"type":21,"tag":107,"props":1031,"children":1032},{"style":136},[1033],{"type":27,"value":1034}," info",{"type":21,"tag":107,"props":1036,"children":1037},{"style":136},[1038],{"type":27,"value":967},{"type":21,"tag":53,"props":1040,"children":1042},{"id":1041},"windows-實體安裝",[1043],{"type":27,"value":1044},"Windows 實體安裝",{"type":21,"tag":29,"props":1046,"children":1047},{},[1048],{"type":27,"value":1049},"Redis 主要支援在 Linux 環境底下，因此在 Windows 環境底下支援性很差。\n目前有兩個非官方的使用載點可以參考。",{"type":21,"tag":59,"props":1051,"children":1052},{},[1053,1067],{"type":21,"tag":63,"props":1054,"children":1055},{},[1056,1065],{"type":21,"tag":1057,"props":1058,"children":1062},"a",{"href":1059,"rel":1060},"https://github.com/tporadowski/redis/releases",[1061],"nofollow",[1063],{"type":27,"value":1064},"網友版本 - 5.0.14.1",{"type":27,"value":1066},"，目前還有在維護",{"type":21,"tag":63,"props":1068,"children":1069},{},[1070,1077],{"type":21,"tag":1057,"props":1071,"children":1074},{"href":1072,"rel":1073},"https://github.com/microsoftarchive/redis/releases",[1061],[1075],{"type":27,"value":1076},"微軟版本 - 3.0.504",{"type":27,"value":1078},"，目前已經不在維護。",{"type":21,"tag":53,"props":1080,"children":1082},{"id":1081},"docker-安裝",[1083],{"type":27,"value":1084},"Docker 安裝",{"type":21,"tag":59,"props":1086,"children":1087},{},[1088,1148],{"type":21,"tag":63,"props":1089,"children":1090},{},[1091,1093],{"type":27,"value":1092},"Redis Server",{"type":21,"tag":97,"props":1094,"children":1096},{"className":99,"code":1095,"language":101,"meta":13,"style":13},"docker run --name redis -d -p 6379:6379 redis:6.2.4-alpine\n",[1097],{"type":21,"tag":35,"props":1098,"children":1099},{"__ignoreMap":13},[1100],{"type":21,"tag":107,"props":1101,"children":1102},{"class":109,"line":110},[1103,1108,1113,1118,1123,1128,1133,1138,1143],{"type":21,"tag":107,"props":1104,"children":1105},{"style":124},[1106],{"type":27,"value":1107},"docker",{"type":21,"tag":107,"props":1109,"children":1110},{"style":136},[1111],{"type":27,"value":1112}," run",{"type":21,"tag":107,"props":1114,"children":1115},{"style":130},[1116],{"type":27,"value":1117}," --name",{"type":21,"tag":107,"props":1119,"children":1120},{"style":136},[1121],{"type":27,"value":1122}," redis",{"type":21,"tag":107,"props":1124,"children":1125},{"style":130},[1126],{"type":27,"value":1127}," -d",{"type":21,"tag":107,"props":1129,"children":1130},{"style":130},[1131],{"type":27,"value":1132}," -p",{"type":21,"tag":107,"props":1134,"children":1135},{"style":130},[1136],{"type":27,"value":1137}," 6379",{"type":21,"tag":107,"props":1139,"children":1140},{"style":136},[1141],{"type":27,"value":1142},":6379",{"type":21,"tag":107,"props":1144,"children":1145},{"style":136},[1146],{"type":27,"value":1147}," redis:6.2.4-alpine\n",{"type":21,"tag":63,"props":1149,"children":1150},{},[1151,1153],{"type":27,"value":1152},"Redis CLI",{"type":21,"tag":97,"props":1154,"children":1156},{"className":99,"code":1155,"language":101,"meta":13,"style":13},"# 這邊的IP 192.168.23.192，替換為主機的IP\ndocker run -it --rm redis redis-cli -h 192.168.23.192 -p 6379\n",[1157],{"type":21,"tag":35,"props":1158,"children":1159},{"__ignoreMap":13},[1160,1168],{"type":21,"tag":107,"props":1161,"children":1162},{"class":109,"line":110},[1163],{"type":21,"tag":107,"props":1164,"children":1165},{"style":114},[1166],{"type":27,"value":1167},"# 這邊的IP 192.168.23.192，替換為主機的IP\n",{"type":21,"tag":107,"props":1169,"children":1170},{"class":109,"line":120},[1171,1175,1179,1184,1189,1193,1198,1203,1208,1213,1217],{"type":21,"tag":107,"props":1172,"children":1173},{"style":124},[1174],{"type":27,"value":1107},{"type":21,"tag":107,"props":1176,"children":1177},{"style":136},[1178],{"type":27,"value":1112},{"type":21,"tag":107,"props":1180,"children":1181},{"style":130},[1182],{"type":27,"value":1183}," -it",{"type":21,"tag":107,"props":1185,"children":1186},{"style":130},[1187],{"type":27,"value":1188}," --rm",{"type":21,"tag":107,"props":1190,"children":1191},{"style":136},[1192],{"type":27,"value":1122},{"type":21,"tag":107,"props":1194,"children":1195},{"style":136},[1196],{"type":27,"value":1197}," redis-cli",{"type":21,"tag":107,"props":1199,"children":1200},{"style":130},[1201],{"type":27,"value":1202}," -h",{"type":21,"tag":107,"props":1204,"children":1205},{"style":130},[1206],{"type":27,"value":1207}," 192.168",{"type":21,"tag":107,"props":1209,"children":1210},{"style":136},[1211],{"type":27,"value":1212},".23.192",{"type":21,"tag":107,"props":1214,"children":1215},{"style":130},[1216],{"type":27,"value":1132},{"type":21,"tag":107,"props":1218,"children":1219},{"style":130},[1220],{"type":27,"value":1221}," 6379\n",{"type":21,"tag":29,"props":1223,"children":1224},{},[1225,1227],{"type":27,"value":1226},"更多 Docker 使用方式參考",{"type":21,"tag":1057,"props":1228,"children":1231},{"href":1229,"rel":1230},"https://hub.docker.com/_/redis",[1061],[1232],{"type":27,"value":1233},"Redis Official",{"type":21,"tag":53,"props":1235,"children":1237},{"id":1236},"常用操作工具",[1238],{"type":27,"value":1236},{"type":21,"tag":59,"props":1240,"children":1241},{},[1242,1252],{"type":21,"tag":63,"props":1243,"children":1244},{},[1245],{"type":21,"tag":1057,"props":1246,"children":1249},{"href":1247,"rel":1248},"https://github.com/RedisInsight/RedisInsight/releases",[1061],[1250],{"type":27,"value":1251},"RedisInsight",{"type":21,"tag":63,"props":1253,"children":1254},{},[1255],{"type":27,"value":681},{"type":21,"tag":29,"props":1257,"children":1258},{},[1259,1261,1265,1267,1271,1273,1277],{"type":27,"value":1260},"官方推薦",{"type":21,"tag":69,"props":1262,"children":1263},{},[1264],{"type":27,"value":1251},{"type":27,"value":1266},"一款 Web base 的工具，個人習慣使用",{"type":21,"tag":69,"props":1268,"children":1269},{},[1270],{"type":27,"value":681},{"type":27,"value":1272},"和",{"type":21,"tag":69,"props":1274,"children":1275},{},[1276],{"type":27,"value":1251},{"type":27,"value":1278},"一起使用。",{"type":21,"tag":29,"props":1280,"children":1281},{},[1282],{"type":27,"value":1283},"由於大家一起使用 RedisInsight，為了方便查看 client 端是誰，這邊我們設定 Redis Client 的使用者名稱",{"type":21,"tag":97,"props":1285,"children":1287},{"className":99,"code":1286,"language":101,"meta":13,"style":13},"# 設定client的名稱，將darren替換成你自己的名子\nCLIENT SETNAME darren\n\n# 查看目前有哪些連線的client\nCLIENT LIST\n",[1288],{"type":21,"tag":35,"props":1289,"children":1290},{"__ignoreMap":13},[1291,1299,1317,1324,1332],{"type":21,"tag":107,"props":1292,"children":1293},{"class":109,"line":110},[1294],{"type":21,"tag":107,"props":1295,"children":1296},{"style":114},[1297],{"type":27,"value":1298},"# 設定client的名稱，將darren替換成你自己的名子\n",{"type":21,"tag":107,"props":1300,"children":1301},{"class":109,"line":120},[1302,1307,1312],{"type":21,"tag":107,"props":1303,"children":1304},{"style":124},[1305],{"type":27,"value":1306},"CLIENT",{"type":21,"tag":107,"props":1308,"children":1309},{"style":136},[1310],{"type":27,"value":1311}," SETNAME",{"type":21,"tag":107,"props":1313,"children":1314},{"style":136},[1315],{"type":27,"value":1316}," darren\n",{"type":21,"tag":107,"props":1318,"children":1319},{"class":109,"line":142},[1320],{"type":21,"tag":107,"props":1321,"children":1322},{"emptyLinePlaceholder":5},[1323],{"type":27,"value":148},{"type":21,"tag":107,"props":1325,"children":1326},{"class":109,"line":151},[1327],{"type":21,"tag":107,"props":1328,"children":1329},{"style":114},[1330],{"type":27,"value":1331},"# 查看目前有哪些連線的client\n",{"type":21,"tag":107,"props":1333,"children":1334},{"class":109,"line":160},[1335,1339],{"type":21,"tag":107,"props":1336,"children":1337},{"style":124},[1338],{"type":27,"value":1306},{"type":21,"tag":107,"props":1340,"children":1341},{"style":136},[1342],{"type":27,"value":1343}," LIST\n",{"type":21,"tag":22,"props":1345,"children":1347},{"id":1346},"常用的資料結構",[1348],{"type":27,"value":1346},{"type":21,"tag":53,"props":1350,"children":1352},{"id":1351},"strings",[1353],{"type":27,"value":1354},"Strings",{"type":21,"tag":59,"props":1356,"children":1357},{},[1358,1394,1415,1430],{"type":21,"tag":63,"props":1359,"children":1360},{},[1361,1366,1368,1373,1375,1380,1382,1387,1389],{"type":21,"tag":35,"props":1362,"children":1363},{"className":13},[1364],{"type":27,"value":1365},"String",{"type":27,"value":1367},"是",{"type":21,"tag":35,"props":1369,"children":1370},{"className":13},[1371],{"type":27,"value":1372},"Redis",{"type":27,"value":1374},"最基本的類型，可以理解成與",{"type":21,"tag":35,"props":1376,"children":1377},{"className":13},[1378],{"type":27,"value":1379},"Memcached",{"type":27,"value":1381},"一模一樣的類型，一個",{"type":21,"tag":35,"props":1383,"children":1384},{"className":13},[1385],{"type":27,"value":1386},"Key",{"type":27,"value":1388},"對應一個",{"type":21,"tag":35,"props":1390,"children":1391},{"className":13},[1392],{"type":27,"value":1393},"Value",{"type":21,"tag":63,"props":1395,"children":1396},{},[1397,1401,1403,1407,1409,1413],{"type":21,"tag":35,"props":1398,"children":1399},{"className":13},[1400],{"type":27,"value":1365},{"type":27,"value":1402},"類型是二進制(Binary)安全的。意味著",{"type":21,"tag":35,"props":1404,"children":1405},{"className":13},[1406],{"type":27,"value":1372},{"type":27,"value":1408},"的",{"type":21,"tag":35,"props":1410,"children":1411},{"className":13},[1412],{"type":27,"value":1365},{"type":27,"value":1414},"可以包含資料。比如 jpg 圖片或者序列化的物件",{"type":21,"tag":63,"props":1416,"children":1417},{},[1418,1422,1424,1428],{"type":21,"tag":35,"props":1419,"children":1420},{"className":13},[1421],{"type":27,"value":1365},{"type":27,"value":1423},"類型是",{"type":21,"tag":35,"props":1425,"children":1426},{"className":13},[1427],{"type":27,"value":1372},{"type":27,"value":1429},"最基本的資料類型，一個 Redis 中 Value 最多可以是 512M",{"type":21,"tag":63,"props":1431,"children":1432},{},[1433,1435],{"type":27,"value":1434},"原子性\n",{"type":21,"tag":59,"props":1436,"children":1437},{},[1438],{"type":21,"tag":63,"props":1439,"children":1440},{},[1441,1443],{"type":27,"value":1442},"所謂原子性操作，是指不會被其他執行緒的呼叫機制打斷的操作，這種操作一但開始，就一直運行到結束，中間不會有任何的 context switch (切換到另外一個執行緒)\n",{"type":21,"tag":59,"props":1444,"children":1445},{},[1446,1458],{"type":21,"tag":63,"props":1447,"children":1448},{},[1449,1451,1456],{"type":27,"value":1450},"在",{"type":21,"tag":69,"props":1452,"children":1453},{},[1454],{"type":27,"value":1455},"單執行緒",{"type":27,"value":1457},"中，能夠在單條指令中完成的操作都可以認為是”原子操作”，因為中斷只能發生於指令之間",{"type":21,"tag":63,"props":1459,"children":1460},{},[1461,1462,1467],{"type":27,"value":1450},{"type":21,"tag":69,"props":1463,"children":1464},{},[1465],{"type":27,"value":1466},"多執行緒",{"type":27,"value":1468},"中，不能被其它執行緒打斷的操作，就叫”原子操作”",{"type":21,"tag":91,"props":1470,"children":1472},{"id":1471},"常用指令",[1473],{"type":27,"value":1471},{"type":21,"tag":1475,"props":1476,"children":1478},"h5",{"id":1477},"set-get-append-strlen-setnx",[1479],{"type":27,"value":1480},"set / get / append / strlen / setnx",{"type":21,"tag":97,"props":1482,"children":1484},{"className":99,"code":1483,"language":101,"meta":13,"style":13},"# 增加key: k1, value: v1\n> set k1 v1\n\n# 更新key: k1, value: v11\n> set k1 v11\n\n# 取得value數值\n> get k1\n\"v11\"\n\n# 從尾部後相加，回傳目前value整體的長度\n> append k1 __\n(integer) 5\n\n# 取得append後的長度\n> get k1\n\"v11__\"\n\n# 取得k1中的value長度\n> strlen k1\n(integer) 5\n\n# 只有key不存在時，才會設置key的值\n> setnx k1 k0000\n(integer) 0\n",[1485],{"type":21,"tag":35,"props":1486,"children":1487},{"__ignoreMap":13},[1488,1496,1510,1517,1525,1537,1544,1552,1564,1572,1579,1587,1599,1617,1624,1632,1643,1651,1658,1666,1678,1693,1701,1710,1723],{"type":21,"tag":107,"props":1489,"children":1490},{"class":109,"line":110},[1491],{"type":21,"tag":107,"props":1492,"children":1493},{"style":114},[1494],{"type":27,"value":1495},"# 增加key: k1, value: v1\n",{"type":21,"tag":107,"props":1497,"children":1498},{"class":109,"line":120},[1499,1504],{"type":21,"tag":107,"props":1500,"children":1501},{"style":828},[1502],{"type":27,"value":1503},">",{"type":21,"tag":107,"props":1505,"children":1507},{"style":1506},"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2",[1508],{"type":27,"value":1509}," set k1 v1\n",{"type":21,"tag":107,"props":1511,"children":1512},{"class":109,"line":142},[1513],{"type":21,"tag":107,"props":1514,"children":1515},{"emptyLinePlaceholder":5},[1516],{"type":27,"value":148},{"type":21,"tag":107,"props":1518,"children":1519},{"class":109,"line":151},[1520],{"type":21,"tag":107,"props":1521,"children":1522},{"style":114},[1523],{"type":27,"value":1524},"# 更新key: k1, value: v11\n",{"type":21,"tag":107,"props":1526,"children":1527},{"class":109,"line":160},[1528,1532],{"type":21,"tag":107,"props":1529,"children":1530},{"style":828},[1531],{"type":27,"value":1503},{"type":21,"tag":107,"props":1533,"children":1534},{"style":1506},[1535],{"type":27,"value":1536}," set k1 v11\n",{"type":21,"tag":107,"props":1538,"children":1539},{"class":109,"line":179},[1540],{"type":21,"tag":107,"props":1541,"children":1542},{"emptyLinePlaceholder":5},[1543],{"type":27,"value":148},{"type":21,"tag":107,"props":1545,"children":1546},{"class":109,"line":187},[1547],{"type":21,"tag":107,"props":1548,"children":1549},{"style":114},[1550],{"type":27,"value":1551},"# 取得value數值\n",{"type":21,"tag":107,"props":1553,"children":1554},{"class":109,"line":196},[1555,1559],{"type":21,"tag":107,"props":1556,"children":1557},{"style":828},[1558],{"type":27,"value":1503},{"type":21,"tag":107,"props":1560,"children":1561},{"style":1506},[1562],{"type":27,"value":1563}," get k1\n",{"type":21,"tag":107,"props":1565,"children":1566},{"class":109,"line":209},[1567],{"type":21,"tag":107,"props":1568,"children":1569},{"style":124},[1570],{"type":27,"value":1571},"\"v11\"\n",{"type":21,"tag":107,"props":1573,"children":1574},{"class":109,"line":217},[1575],{"type":21,"tag":107,"props":1576,"children":1577},{"emptyLinePlaceholder":5},[1578],{"type":27,"value":148},{"type":21,"tag":107,"props":1580,"children":1581},{"class":109,"line":226},[1582],{"type":21,"tag":107,"props":1583,"children":1584},{"style":114},[1585],{"type":27,"value":1586},"# 從尾部後相加，回傳目前value整體的長度\n",{"type":21,"tag":107,"props":1588,"children":1589},{"class":109,"line":241},[1590,1594],{"type":21,"tag":107,"props":1591,"children":1592},{"style":828},[1593],{"type":27,"value":1503},{"type":21,"tag":107,"props":1595,"children":1596},{"style":1506},[1597],{"type":27,"value":1598}," append k1 __\n",{"type":21,"tag":107,"props":1600,"children":1601},{"class":109,"line":249},[1602,1607,1612],{"type":21,"tag":107,"props":1603,"children":1604},{"style":1506},[1605],{"type":27,"value":1606},"(",{"type":21,"tag":107,"props":1608,"children":1609},{"style":124},[1610],{"type":27,"value":1611},"integer",{"type":21,"tag":107,"props":1613,"children":1614},{"style":1506},[1615],{"type":27,"value":1616},") 5\n",{"type":21,"tag":107,"props":1618,"children":1619},{"class":109,"line":258},[1620],{"type":21,"tag":107,"props":1621,"children":1622},{"emptyLinePlaceholder":5},[1623],{"type":27,"value":148},{"type":21,"tag":107,"props":1625,"children":1626},{"class":109,"line":267},[1627],{"type":21,"tag":107,"props":1628,"children":1629},{"style":114},[1630],{"type":27,"value":1631},"# 取得append後的長度\n",{"type":21,"tag":107,"props":1633,"children":1634},{"class":109,"line":275},[1635,1639],{"type":21,"tag":107,"props":1636,"children":1637},{"style":828},[1638],{"type":27,"value":1503},{"type":21,"tag":107,"props":1640,"children":1641},{"style":1506},[1642],{"type":27,"value":1563},{"type":21,"tag":107,"props":1644,"children":1645},{"class":109,"line":284},[1646],{"type":21,"tag":107,"props":1647,"children":1648},{"style":124},[1649],{"type":27,"value":1650},"\"v11__\"\n",{"type":21,"tag":107,"props":1652,"children":1653},{"class":109,"line":303},[1654],{"type":21,"tag":107,"props":1655,"children":1656},{"emptyLinePlaceholder":5},[1657],{"type":27,"value":148},{"type":21,"tag":107,"props":1659,"children":1660},{"class":109,"line":311},[1661],{"type":21,"tag":107,"props":1662,"children":1663},{"style":114},[1664],{"type":27,"value":1665},"# 取得k1中的value長度\n",{"type":21,"tag":107,"props":1667,"children":1668},{"class":109,"line":320},[1669,1673],{"type":21,"tag":107,"props":1670,"children":1671},{"style":828},[1672],{"type":27,"value":1503},{"type":21,"tag":107,"props":1674,"children":1675},{"style":1506},[1676],{"type":27,"value":1677}," strlen k1\n",{"type":21,"tag":107,"props":1679,"children":1680},{"class":109,"line":339},[1681,1685,1689],{"type":21,"tag":107,"props":1682,"children":1683},{"style":1506},[1684],{"type":27,"value":1606},{"type":21,"tag":107,"props":1686,"children":1687},{"style":124},[1688],{"type":27,"value":1611},{"type":21,"tag":107,"props":1690,"children":1691},{"style":1506},[1692],{"type":27,"value":1616},{"type":21,"tag":107,"props":1694,"children":1696},{"class":109,"line":1695},22,[1697],{"type":21,"tag":107,"props":1698,"children":1699},{"emptyLinePlaceholder":5},[1700],{"type":27,"value":148},{"type":21,"tag":107,"props":1702,"children":1704},{"class":109,"line":1703},23,[1705],{"type":21,"tag":107,"props":1706,"children":1707},{"style":114},[1708],{"type":27,"value":1709},"# 只有key不存在時，才會設置key的值\n",{"type":21,"tag":107,"props":1711,"children":1713},{"class":109,"line":1712},24,[1714,1718],{"type":21,"tag":107,"props":1715,"children":1716},{"style":828},[1717],{"type":27,"value":1503},{"type":21,"tag":107,"props":1719,"children":1720},{"style":1506},[1721],{"type":27,"value":1722}," setnx k1 k0000\n",{"type":21,"tag":107,"props":1724,"children":1726},{"class":109,"line":1725},25,[1727,1731,1735],{"type":21,"tag":107,"props":1728,"children":1729},{"style":1506},[1730],{"type":27,"value":1606},{"type":21,"tag":107,"props":1732,"children":1733},{"style":124},[1734],{"type":27,"value":1611},{"type":21,"tag":107,"props":1736,"children":1737},{"style":1506},[1738],{"type":27,"value":1739},") 0\n",{"type":21,"tag":1475,"props":1741,"children":1743},{"id":1742},"incr-decr-incrby-decrby",[1744],{"type":27,"value":1745},"incr / decr / incrby / decrby",{"type":21,"tag":97,"props":1747,"children":1749},{"className":99,"code":1748,"language":101,"meta":13,"style":13},"# 增加key: k1, value: v1\n> set k1 v1\n\n# incr只支援integer\n> incr k1\n(error) ERR value is not an integer or out of range\n\n# 替不存在的k2進行\"數字字串\"值加1\n> incr k2\n(integer) 1\n\n# 替存在的k2進行\"數字字串\"加1\n> incr k2\n(integer) 2\n\n# 替存在的k2進行\"數字字串\"減1\n> decr k2\n(integer) 1\n\n# 替存在的k2進行\"數字字串\"減1\n> decr k2\n(integer) 0\n\n# 替存在的k2進行\"數字字串\"減1\n> decr k2\n(integer) -1\n\n# 取得k2數值，記得他是\"數字字串\"\n> get k2\n\"-1\"\n\n# 一次加上100的數值\n> incrby k2 100\n(integer) 99\n\n# 一次減上100的數值\n> decrby k2 100\n(integer) -1\n",[1750],{"type":21,"tag":35,"props":1751,"children":1752},{"__ignoreMap":13},[1753,1760,1771,1778,1786,1798,1815,1822,1830,1842,1858,1865,1873,1884,1900,1907,1915,1927,1942,1949,1956,1967,1982,1989,1996,2007,2024,2032,2041,2054,2063,2071,2080,2093,2110,2118,2127,2140],{"type":21,"tag":107,"props":1754,"children":1755},{"class":109,"line":110},[1756],{"type":21,"tag":107,"props":1757,"children":1758},{"style":114},[1759],{"type":27,"value":1495},{"type":21,"tag":107,"props":1761,"children":1762},{"class":109,"line":120},[1763,1767],{"type":21,"tag":107,"props":1764,"children":1765},{"style":828},[1766],{"type":27,"value":1503},{"type":21,"tag":107,"props":1768,"children":1769},{"style":1506},[1770],{"type":27,"value":1509},{"type":21,"tag":107,"props":1772,"children":1773},{"class":109,"line":142},[1774],{"type":21,"tag":107,"props":1775,"children":1776},{"emptyLinePlaceholder":5},[1777],{"type":27,"value":148},{"type":21,"tag":107,"props":1779,"children":1780},{"class":109,"line":151},[1781],{"type":21,"tag":107,"props":1782,"children":1783},{"style":114},[1784],{"type":27,"value":1785},"# incr只支援integer\n",{"type":21,"tag":107,"props":1787,"children":1788},{"class":109,"line":160},[1789,1793],{"type":21,"tag":107,"props":1790,"children":1791},{"style":828},[1792],{"type":27,"value":1503},{"type":21,"tag":107,"props":1794,"children":1795},{"style":1506},[1796],{"type":27,"value":1797}," incr k1\n",{"type":21,"tag":107,"props":1799,"children":1800},{"class":109,"line":179},[1801,1805,1810],{"type":21,"tag":107,"props":1802,"children":1803},{"style":1506},[1804],{"type":27,"value":1606},{"type":21,"tag":107,"props":1806,"children":1807},{"style":124},[1808],{"type":27,"value":1809},"error",{"type":21,"tag":107,"props":1811,"children":1812},{"style":1506},[1813],{"type":27,"value":1814},") ERR value is not an integer or out of range\n",{"type":21,"tag":107,"props":1816,"children":1817},{"class":109,"line":187},[1818],{"type":21,"tag":107,"props":1819,"children":1820},{"emptyLinePlaceholder":5},[1821],{"type":27,"value":148},{"type":21,"tag":107,"props":1823,"children":1824},{"class":109,"line":196},[1825],{"type":21,"tag":107,"props":1826,"children":1827},{"style":114},[1828],{"type":27,"value":1829},"# 替不存在的k2進行\"數字字串\"值加1\n",{"type":21,"tag":107,"props":1831,"children":1832},{"class":109,"line":209},[1833,1837],{"type":21,"tag":107,"props":1834,"children":1835},{"style":828},[1836],{"type":27,"value":1503},{"type":21,"tag":107,"props":1838,"children":1839},{"style":1506},[1840],{"type":27,"value":1841}," incr k2\n",{"type":21,"tag":107,"props":1843,"children":1844},{"class":109,"line":217},[1845,1849,1853],{"type":21,"tag":107,"props":1846,"children":1847},{"style":1506},[1848],{"type":27,"value":1606},{"type":21,"tag":107,"props":1850,"children":1851},{"style":124},[1852],{"type":27,"value":1611},{"type":21,"tag":107,"props":1854,"children":1855},{"style":1506},[1856],{"type":27,"value":1857},") 1\n",{"type":21,"tag":107,"props":1859,"children":1860},{"class":109,"line":226},[1861],{"type":21,"tag":107,"props":1862,"children":1863},{"emptyLinePlaceholder":5},[1864],{"type":27,"value":148},{"type":21,"tag":107,"props":1866,"children":1867},{"class":109,"line":241},[1868],{"type":21,"tag":107,"props":1869,"children":1870},{"style":114},[1871],{"type":27,"value":1872},"# 替存在的k2進行\"數字字串\"加1\n",{"type":21,"tag":107,"props":1874,"children":1875},{"class":109,"line":249},[1876,1880],{"type":21,"tag":107,"props":1877,"children":1878},{"style":828},[1879],{"type":27,"value":1503},{"type":21,"tag":107,"props":1881,"children":1882},{"style":1506},[1883],{"type":27,"value":1841},{"type":21,"tag":107,"props":1885,"children":1886},{"class":109,"line":258},[1887,1891,1895],{"type":21,"tag":107,"props":1888,"children":1889},{"style":1506},[1890],{"type":27,"value":1606},{"type":21,"tag":107,"props":1892,"children":1893},{"style":124},[1894],{"type":27,"value":1611},{"type":21,"tag":107,"props":1896,"children":1897},{"style":1506},[1898],{"type":27,"value":1899},") 2\n",{"type":21,"tag":107,"props":1901,"children":1902},{"class":109,"line":267},[1903],{"type":21,"tag":107,"props":1904,"children":1905},{"emptyLinePlaceholder":5},[1906],{"type":27,"value":148},{"type":21,"tag":107,"props":1908,"children":1909},{"class":109,"line":275},[1910],{"type":21,"tag":107,"props":1911,"children":1912},{"style":114},[1913],{"type":27,"value":1914},"# 替存在的k2進行\"數字字串\"減1\n",{"type":21,"tag":107,"props":1916,"children":1917},{"class":109,"line":284},[1918,1922],{"type":21,"tag":107,"props":1919,"children":1920},{"style":828},[1921],{"type":27,"value":1503},{"type":21,"tag":107,"props":1923,"children":1924},{"style":1506},[1925],{"type":27,"value":1926}," decr k2\n",{"type":21,"tag":107,"props":1928,"children":1929},{"class":109,"line":303},[1930,1934,1938],{"type":21,"tag":107,"props":1931,"children":1932},{"style":1506},[1933],{"type":27,"value":1606},{"type":21,"tag":107,"props":1935,"children":1936},{"style":124},[1937],{"type":27,"value":1611},{"type":21,"tag":107,"props":1939,"children":1940},{"style":1506},[1941],{"type":27,"value":1857},{"type":21,"tag":107,"props":1943,"children":1944},{"class":109,"line":311},[1945],{"type":21,"tag":107,"props":1946,"children":1947},{"emptyLinePlaceholder":5},[1948],{"type":27,"value":148},{"type":21,"tag":107,"props":1950,"children":1951},{"class":109,"line":320},[1952],{"type":21,"tag":107,"props":1953,"children":1954},{"style":114},[1955],{"type":27,"value":1914},{"type":21,"tag":107,"props":1957,"children":1958},{"class":109,"line":339},[1959,1963],{"type":21,"tag":107,"props":1960,"children":1961},{"style":828},[1962],{"type":27,"value":1503},{"type":21,"tag":107,"props":1964,"children":1965},{"style":1506},[1966],{"type":27,"value":1926},{"type":21,"tag":107,"props":1968,"children":1969},{"class":109,"line":1695},[1970,1974,1978],{"type":21,"tag":107,"props":1971,"children":1972},{"style":1506},[1973],{"type":27,"value":1606},{"type":21,"tag":107,"props":1975,"children":1976},{"style":124},[1977],{"type":27,"value":1611},{"type":21,"tag":107,"props":1979,"children":1980},{"style":1506},[1981],{"type":27,"value":1739},{"type":21,"tag":107,"props":1983,"children":1984},{"class":109,"line":1703},[1985],{"type":21,"tag":107,"props":1986,"children":1987},{"emptyLinePlaceholder":5},[1988],{"type":27,"value":148},{"type":21,"tag":107,"props":1990,"children":1991},{"class":109,"line":1712},[1992],{"type":21,"tag":107,"props":1993,"children":1994},{"style":114},[1995],{"type":27,"value":1914},{"type":21,"tag":107,"props":1997,"children":1998},{"class":109,"line":1725},[1999,2003],{"type":21,"tag":107,"props":2000,"children":2001},{"style":828},[2002],{"type":27,"value":1503},{"type":21,"tag":107,"props":2004,"children":2005},{"style":1506},[2006],{"type":27,"value":1926},{"type":21,"tag":107,"props":2008,"children":2010},{"class":109,"line":2009},26,[2011,2015,2019],{"type":21,"tag":107,"props":2012,"children":2013},{"style":1506},[2014],{"type":27,"value":1606},{"type":21,"tag":107,"props":2016,"children":2017},{"style":124},[2018],{"type":27,"value":1611},{"type":21,"tag":107,"props":2020,"children":2021},{"style":1506},[2022],{"type":27,"value":2023},") -1\n",{"type":21,"tag":107,"props":2025,"children":2027},{"class":109,"line":2026},27,[2028],{"type":21,"tag":107,"props":2029,"children":2030},{"emptyLinePlaceholder":5},[2031],{"type":27,"value":148},{"type":21,"tag":107,"props":2033,"children":2035},{"class":109,"line":2034},28,[2036],{"type":21,"tag":107,"props":2037,"children":2038},{"style":114},[2039],{"type":27,"value":2040},"# 取得k2數值，記得他是\"數字字串\"\n",{"type":21,"tag":107,"props":2042,"children":2044},{"class":109,"line":2043},29,[2045,2049],{"type":21,"tag":107,"props":2046,"children":2047},{"style":828},[2048],{"type":27,"value":1503},{"type":21,"tag":107,"props":2050,"children":2051},{"style":1506},[2052],{"type":27,"value":2053}," get k2\n",{"type":21,"tag":107,"props":2055,"children":2057},{"class":109,"line":2056},30,[2058],{"type":21,"tag":107,"props":2059,"children":2060},{"style":124},[2061],{"type":27,"value":2062},"\"-1\"\n",{"type":21,"tag":107,"props":2064,"children":2066},{"class":109,"line":2065},31,[2067],{"type":21,"tag":107,"props":2068,"children":2069},{"emptyLinePlaceholder":5},[2070],{"type":27,"value":148},{"type":21,"tag":107,"props":2072,"children":2074},{"class":109,"line":2073},32,[2075],{"type":21,"tag":107,"props":2076,"children":2077},{"style":114},[2078],{"type":27,"value":2079},"# 一次加上100的數值\n",{"type":21,"tag":107,"props":2081,"children":2083},{"class":109,"line":2082},33,[2084,2088],{"type":21,"tag":107,"props":2085,"children":2086},{"style":828},[2087],{"type":27,"value":1503},{"type":21,"tag":107,"props":2089,"children":2090},{"style":1506},[2091],{"type":27,"value":2092}," incrby k2 100\n",{"type":21,"tag":107,"props":2094,"children":2096},{"class":109,"line":2095},34,[2097,2101,2105],{"type":21,"tag":107,"props":2098,"children":2099},{"style":1506},[2100],{"type":27,"value":1606},{"type":21,"tag":107,"props":2102,"children":2103},{"style":124},[2104],{"type":27,"value":1611},{"type":21,"tag":107,"props":2106,"children":2107},{"style":1506},[2108],{"type":27,"value":2109},") 99\n",{"type":21,"tag":107,"props":2111,"children":2113},{"class":109,"line":2112},35,[2114],{"type":21,"tag":107,"props":2115,"children":2116},{"emptyLinePlaceholder":5},[2117],{"type":27,"value":148},{"type":21,"tag":107,"props":2119,"children":2121},{"class":109,"line":2120},36,[2122],{"type":21,"tag":107,"props":2123,"children":2124},{"style":114},[2125],{"type":27,"value":2126},"# 一次減上100的數值\n",{"type":21,"tag":107,"props":2128,"children":2130},{"class":109,"line":2129},37,[2131,2135],{"type":21,"tag":107,"props":2132,"children":2133},{"style":828},[2134],{"type":27,"value":1503},{"type":21,"tag":107,"props":2136,"children":2137},{"style":1506},[2138],{"type":27,"value":2139}," decrby k2 100\n",{"type":21,"tag":107,"props":2141,"children":2143},{"class":109,"line":2142},38,[2144,2148,2152],{"type":21,"tag":107,"props":2145,"children":2146},{"style":1506},[2147],{"type":27,"value":1606},{"type":21,"tag":107,"props":2149,"children":2150},{"style":124},[2151],{"type":27,"value":1611},{"type":21,"tag":107,"props":2153,"children":2154},{"style":1506},[2155],{"type":27,"value":2023},{"type":21,"tag":1475,"props":2157,"children":2159},{"id":2158},"setex-getset",[2160],{"type":27,"value":2161},"setex / getset",{"type":21,"tag":97,"props":2163,"children":2165},{"className":99,"code":2164,"language":101,"meta":13,"style":13},"set k1 v1\n\n# 設定過期時間\nexpire k1 1000\n\n# 更新數值\nset k1 v2\n\n# 查詢數值\n> ttl k1\n(integer) -1\n\n# 將k1設定為100，且數值為v2 (重新設定則時間重新計算)，下面兩種方式皆可以\n> setex k1 100 v2\n> set k1 v2 EX 100\n\n# 傳入新增的v3參數，把舊的v2傳回 (與Java中的HashMap的Put功能相同)\n> getset k1 v3\n\"v2\"\n",[2166],{"type":21,"tag":35,"props":2167,"children":2168},{"__ignoreMap":13},[2169,2187,2194,2202,2219,2226,2234,2250,2257,2265,2277,2292,2299,2307,2319,2331,2338,2346,2358],{"type":21,"tag":107,"props":2170,"children":2171},{"class":109,"line":110},[2172,2177,2182],{"type":21,"tag":107,"props":2173,"children":2174},{"style":230},[2175],{"type":27,"value":2176},"set",{"type":21,"tag":107,"props":2178,"children":2179},{"style":136},[2180],{"type":27,"value":2181}," k1",{"type":21,"tag":107,"props":2183,"children":2184},{"style":136},[2185],{"type":27,"value":2186}," v1\n",{"type":21,"tag":107,"props":2188,"children":2189},{"class":109,"line":120},[2190],{"type":21,"tag":107,"props":2191,"children":2192},{"emptyLinePlaceholder":5},[2193],{"type":27,"value":148},{"type":21,"tag":107,"props":2195,"children":2196},{"class":109,"line":142},[2197],{"type":21,"tag":107,"props":2198,"children":2199},{"style":114},[2200],{"type":27,"value":2201},"# 設定過期時間\n",{"type":21,"tag":107,"props":2203,"children":2204},{"class":109,"line":151},[2205,2210,2214],{"type":21,"tag":107,"props":2206,"children":2207},{"style":124},[2208],{"type":27,"value":2209},"expire",{"type":21,"tag":107,"props":2211,"children":2212},{"style":136},[2213],{"type":27,"value":2181},{"type":21,"tag":107,"props":2215,"children":2216},{"style":130},[2217],{"type":27,"value":2218}," 1000\n",{"type":21,"tag":107,"props":2220,"children":2221},{"class":109,"line":160},[2222],{"type":21,"tag":107,"props":2223,"children":2224},{"emptyLinePlaceholder":5},[2225],{"type":27,"value":148},{"type":21,"tag":107,"props":2227,"children":2228},{"class":109,"line":179},[2229],{"type":21,"tag":107,"props":2230,"children":2231},{"style":114},[2232],{"type":27,"value":2233},"# 更新數值\n",{"type":21,"tag":107,"props":2235,"children":2236},{"class":109,"line":187},[2237,2241,2245],{"type":21,"tag":107,"props":2238,"children":2239},{"style":230},[2240],{"type":27,"value":2176},{"type":21,"tag":107,"props":2242,"children":2243},{"style":136},[2244],{"type":27,"value":2181},{"type":21,"tag":107,"props":2246,"children":2247},{"style":136},[2248],{"type":27,"value":2249}," v2\n",{"type":21,"tag":107,"props":2251,"children":2252},{"class":109,"line":196},[2253],{"type":21,"tag":107,"props":2254,"children":2255},{"emptyLinePlaceholder":5},[2256],{"type":27,"value":148},{"type":21,"tag":107,"props":2258,"children":2259},{"class":109,"line":209},[2260],{"type":21,"tag":107,"props":2261,"children":2262},{"style":114},[2263],{"type":27,"value":2264},"# 查詢數值\n",{"type":21,"tag":107,"props":2266,"children":2267},{"class":109,"line":217},[2268,2272],{"type":21,"tag":107,"props":2269,"children":2270},{"style":828},[2271],{"type":27,"value":1503},{"type":21,"tag":107,"props":2273,"children":2274},{"style":1506},[2275],{"type":27,"value":2276}," ttl k1\n",{"type":21,"tag":107,"props":2278,"children":2279},{"class":109,"line":226},[2280,2284,2288],{"type":21,"tag":107,"props":2281,"children":2282},{"style":1506},[2283],{"type":27,"value":1606},{"type":21,"tag":107,"props":2285,"children":2286},{"style":124},[2287],{"type":27,"value":1611},{"type":21,"tag":107,"props":2289,"children":2290},{"style":1506},[2291],{"type":27,"value":2023},{"type":21,"tag":107,"props":2293,"children":2294},{"class":109,"line":241},[2295],{"type":21,"tag":107,"props":2296,"children":2297},{"emptyLinePlaceholder":5},[2298],{"type":27,"value":148},{"type":21,"tag":107,"props":2300,"children":2301},{"class":109,"line":249},[2302],{"type":21,"tag":107,"props":2303,"children":2304},{"style":114},[2305],{"type":27,"value":2306},"# 將k1設定為100，且數值為v2 (重新設定則時間重新計算)，下面兩種方式皆可以\n",{"type":21,"tag":107,"props":2308,"children":2309},{"class":109,"line":258},[2310,2314],{"type":21,"tag":107,"props":2311,"children":2312},{"style":828},[2313],{"type":27,"value":1503},{"type":21,"tag":107,"props":2315,"children":2316},{"style":1506},[2317],{"type":27,"value":2318}," setex k1 100 v2\n",{"type":21,"tag":107,"props":2320,"children":2321},{"class":109,"line":267},[2322,2326],{"type":21,"tag":107,"props":2323,"children":2324},{"style":828},[2325],{"type":27,"value":1503},{"type":21,"tag":107,"props":2327,"children":2328},{"style":1506},[2329],{"type":27,"value":2330}," set k1 v2 EX 100\n",{"type":21,"tag":107,"props":2332,"children":2333},{"class":109,"line":275},[2334],{"type":21,"tag":107,"props":2335,"children":2336},{"emptyLinePlaceholder":5},[2337],{"type":27,"value":148},{"type":21,"tag":107,"props":2339,"children":2340},{"class":109,"line":284},[2341],{"type":21,"tag":107,"props":2342,"children":2343},{"style":114},[2344],{"type":27,"value":2345},"# 傳入新增的v3參數，把舊的v2傳回 (與Java中的HashMap的Put功能相同)\n",{"type":21,"tag":107,"props":2347,"children":2348},{"class":109,"line":303},[2349,2353],{"type":21,"tag":107,"props":2350,"children":2351},{"style":828},[2352],{"type":27,"value":1503},{"type":21,"tag":107,"props":2354,"children":2355},{"style":1506},[2356],{"type":27,"value":2357}," getset k1 v3\n",{"type":21,"tag":107,"props":2359,"children":2360},{"class":109,"line":311},[2361],{"type":21,"tag":107,"props":2362,"children":2363},{"style":124},[2364],{"type":27,"value":2365},"\"v2\"\n",{"type":21,"tag":91,"props":2367,"children":2369},{"id":2368},"使用場景",[2370],{"type":27,"value":2368},{"type":21,"tag":59,"props":2372,"children":2373},{},[2374,2379,2397,2402],{"type":21,"tag":63,"props":2375,"children":2376},{},[2377],{"type":27,"value":2378},"快取(Cache)資料",{"type":21,"tag":63,"props":2380,"children":2381},{},[2382,2384],{"type":27,"value":2383},"計數器。\n",{"type":21,"tag":59,"props":2385,"children":2386},{},[2387,2392],{"type":21,"tag":63,"props":2388,"children":2389},{},[2390],{"type":27,"value":2391},"用來統計文章瀏覽次數",{"type":21,"tag":63,"props":2393,"children":2394},{},[2395],{"type":27,"value":2396},"某些商品的點擊數量等等",{"type":21,"tag":63,"props":2398,"children":2399},{},[2400],{"type":27,"value":2401},"分散式共享 Session",{"type":21,"tag":63,"props":2403,"children":2404},{},[2405,2407],{"type":27,"value":2406},"設定過期(Expire)來完成時效性的資料\n",{"type":21,"tag":59,"props":2408,"children":2409},{},[2410,2415,2420],{"type":21,"tag":63,"props":2411,"children":2412},{},[2413],{"type":27,"value":2414},"手機驗證碼",{"type":21,"tag":63,"props":2416,"children":2417},{},[2418],{"type":27,"value":2419},"使用者登入碼",{"type":21,"tag":63,"props":2421,"children":2422},{},[2423],{"type":27,"value":2424},"分散式鎖",{"type":21,"tag":53,"props":2426,"children":2428},{"id":2427},"hash",[2429],{"type":27,"value":2430},"Hash",{"type":21,"tag":59,"props":2432,"children":2433},{},[2434,2439,2462],{"type":21,"tag":63,"props":2435,"children":2436},{},[2437],{"type":27,"value":2438},"Redis hash 是一個鍵值集合",{"type":21,"tag":63,"props":2440,"children":2441},{},[2442,2444,2449,2450,2455,2457],{"type":27,"value":2443},"Redis hash 是一個 string 類型的",{"type":21,"tag":35,"props":2445,"children":2446},{"className":13},[2447],{"type":27,"value":2448},"field",{"type":27,"value":1272},{"type":21,"tag":35,"props":2451,"children":2452},{"className":13},[2453],{"type":27,"value":2454},"value",{"type":27,"value":2456},"的映射表，hash 特別適合用於",{"type":21,"tag":69,"props":2458,"children":2459},{},[2460],{"type":27,"value":2461},"儲存物件",{"type":21,"tag":63,"props":2463,"children":2464},{},[2465,2467,2472,2474,2479,2481],{"type":27,"value":2466},"類似 Java 中的",{"type":21,"tag":35,"props":2468,"children":2469},{"className":13},[2470],{"type":27,"value":2471},"Map\u003CString, Object>",{"type":27,"value":2473},"，",{"type":21,"tag":35,"props":2475,"children":2476},{"className":13},[2477],{"type":27,"value":2478},"C#",{"type":27,"value":2480},"中的",{"type":21,"tag":35,"props":2482,"children":2483},{"className":13},[2484],{"type":27,"value":2485},"Dictionary\u003Cstring, object>",{"type":21,"tag":91,"props":2487,"children":2489},{"id":2488},"常用指令-1",[2490],{"type":27,"value":1471},{"type":21,"tag":1475,"props":2492,"children":2494},{"id":2493},"hset-hget-hmset",[2495],{"type":27,"value":2496},"hset / hget / hmset",{"type":21,"tag":97,"props":2498,"children":2500},{"className":99,"code":2499,"language":101,"meta":13,"style":13},"# 設定假資料\n> hset h1 familyName Chang\n> hset h1 givenName EnShuo\n> hset h1 age 28\n\n# 取得hash中的數值\n> hget h1 familyName\n\"Chang\"\n> hget h1 givenName\n\"EnShuo\"\n> hget h1 test\n(nil)\n\n# 使用批次來進行設定\n> hmset h2 familyName Chang givenName EnShuo age 28\nOK\n",[2501],{"type":21,"tag":35,"props":2502,"children":2503},{"__ignoreMap":13},[2504,2512,2524,2536,2548,2555,2563,2575,2583,2595,2603,2615,2632,2639,2647,2659],{"type":21,"tag":107,"props":2505,"children":2506},{"class":109,"line":110},[2507],{"type":21,"tag":107,"props":2508,"children":2509},{"style":114},[2510],{"type":27,"value":2511},"# 設定假資料\n",{"type":21,"tag":107,"props":2513,"children":2514},{"class":109,"line":120},[2515,2519],{"type":21,"tag":107,"props":2516,"children":2517},{"style":828},[2518],{"type":27,"value":1503},{"type":21,"tag":107,"props":2520,"children":2521},{"style":1506},[2522],{"type":27,"value":2523}," hset h1 familyName Chang\n",{"type":21,"tag":107,"props":2525,"children":2526},{"class":109,"line":142},[2527,2531],{"type":21,"tag":107,"props":2528,"children":2529},{"style":828},[2530],{"type":27,"value":1503},{"type":21,"tag":107,"props":2532,"children":2533},{"style":1506},[2534],{"type":27,"value":2535}," hset h1 givenName EnShuo\n",{"type":21,"tag":107,"props":2537,"children":2538},{"class":109,"line":151},[2539,2543],{"type":21,"tag":107,"props":2540,"children":2541},{"style":828},[2542],{"type":27,"value":1503},{"type":21,"tag":107,"props":2544,"children":2545},{"style":1506},[2546],{"type":27,"value":2547}," hset h1 age 28\n",{"type":21,"tag":107,"props":2549,"children":2550},{"class":109,"line":160},[2551],{"type":21,"tag":107,"props":2552,"children":2553},{"emptyLinePlaceholder":5},[2554],{"type":27,"value":148},{"type":21,"tag":107,"props":2556,"children":2557},{"class":109,"line":179},[2558],{"type":21,"tag":107,"props":2559,"children":2560},{"style":114},[2561],{"type":27,"value":2562},"# 取得hash中的數值\n",{"type":21,"tag":107,"props":2564,"children":2565},{"class":109,"line":187},[2566,2570],{"type":21,"tag":107,"props":2567,"children":2568},{"style":828},[2569],{"type":27,"value":1503},{"type":21,"tag":107,"props":2571,"children":2572},{"style":1506},[2573],{"type":27,"value":2574}," hget h1 familyName\n",{"type":21,"tag":107,"props":2576,"children":2577},{"class":109,"line":196},[2578],{"type":21,"tag":107,"props":2579,"children":2580},{"style":124},[2581],{"type":27,"value":2582},"\"Chang\"\n",{"type":21,"tag":107,"props":2584,"children":2585},{"class":109,"line":209},[2586,2590],{"type":21,"tag":107,"props":2587,"children":2588},{"style":828},[2589],{"type":27,"value":1503},{"type":21,"tag":107,"props":2591,"children":2592},{"style":1506},[2593],{"type":27,"value":2594}," hget h1 givenName\n",{"type":21,"tag":107,"props":2596,"children":2597},{"class":109,"line":217},[2598],{"type":21,"tag":107,"props":2599,"children":2600},{"style":124},[2601],{"type":27,"value":2602},"\"EnShuo\"\n",{"type":21,"tag":107,"props":2604,"children":2605},{"class":109,"line":226},[2606,2610],{"type":21,"tag":107,"props":2607,"children":2608},{"style":828},[2609],{"type":27,"value":1503},{"type":21,"tag":107,"props":2611,"children":2612},{"style":1506},[2613],{"type":27,"value":2614}," hget h1 test\n",{"type":21,"tag":107,"props":2616,"children":2617},{"class":109,"line":241},[2618,2622,2627],{"type":21,"tag":107,"props":2619,"children":2620},{"style":1506},[2621],{"type":27,"value":1606},{"type":21,"tag":107,"props":2623,"children":2624},{"style":124},[2625],{"type":27,"value":2626},"nil",{"type":21,"tag":107,"props":2628,"children":2629},{"style":1506},[2630],{"type":27,"value":2631},")\n",{"type":21,"tag":107,"props":2633,"children":2634},{"class":109,"line":249},[2635],{"type":21,"tag":107,"props":2636,"children":2637},{"emptyLinePlaceholder":5},[2638],{"type":27,"value":148},{"type":21,"tag":107,"props":2640,"children":2641},{"class":109,"line":258},[2642],{"type":21,"tag":107,"props":2643,"children":2644},{"style":114},[2645],{"type":27,"value":2646},"# 使用批次來進行設定\n",{"type":21,"tag":107,"props":2648,"children":2649},{"class":109,"line":267},[2650,2654],{"type":21,"tag":107,"props":2651,"children":2652},{"style":828},[2653],{"type":27,"value":1503},{"type":21,"tag":107,"props":2655,"children":2656},{"style":1506},[2657],{"type":27,"value":2658}," hmset h2 familyName Chang givenName EnShuo age 28\n",{"type":21,"tag":107,"props":2660,"children":2661},{"class":109,"line":275},[2662],{"type":21,"tag":107,"props":2663,"children":2664},{"style":124},[2665],{"type":27,"value":2666},"OK\n",{"type":21,"tag":1475,"props":2668,"children":2670},{"id":2669},"hexists-hkeys-hvals-hincrby-hsetnx",[2671],{"type":27,"value":2672},"hexists / hkeys / hvals / hincrby / hsetnx",{"type":21,"tag":97,"props":2674,"children":2676},{"className":99,"code":2675,"language":101,"meta":13,"style":13},"# 設定假資料\n> hset h1 familyName Chang givenName EnShuo age 28\n\n# 查看h1中是否存在field\n> hexists h1 age\n(integer) 1\n> hexists h1 sex\n(integer) 0\n\n# 取得所有的h1的field\n> hkeys h1\n1) \"familyName\"\n2) \"givenName\"\n3) \"age\"\n\n# 取得所有的h1中的value\n> hvals h1\n1) \"Chang\"\n2) \"EnShuo\"\n3) \"28\"\n\n# 替age加上3\n> hincrby h1 age 3\n(integer) 31\n\n# 當age存在時，操作失敗\n> hsetnx h1 age 100\n(integer) 0\n\n# 當sex不存在時，則新增\n> hsetnx h1 sex man\n(integer) 1\n",[2677],{"type":21,"tag":35,"props":2678,"children":2679},{"__ignoreMap":13},[2680,2687,2699,2706,2714,2726,2741,2753,2768,2775,2783,2795,2813,2830,2847,2854,2862,2874,2889,2904,2920,2927,2935,2947,2963,2970,2978,2990,3005,3012,3020,3032],{"type":21,"tag":107,"props":2681,"children":2682},{"class":109,"line":110},[2683],{"type":21,"tag":107,"props":2684,"children":2685},{"style":114},[2686],{"type":27,"value":2511},{"type":21,"tag":107,"props":2688,"children":2689},{"class":109,"line":120},[2690,2694],{"type":21,"tag":107,"props":2691,"children":2692},{"style":828},[2693],{"type":27,"value":1503},{"type":21,"tag":107,"props":2695,"children":2696},{"style":1506},[2697],{"type":27,"value":2698}," hset h1 familyName Chang givenName EnShuo age 28\n",{"type":21,"tag":107,"props":2700,"children":2701},{"class":109,"line":142},[2702],{"type":21,"tag":107,"props":2703,"children":2704},{"emptyLinePlaceholder":5},[2705],{"type":27,"value":148},{"type":21,"tag":107,"props":2707,"children":2708},{"class":109,"line":151},[2709],{"type":21,"tag":107,"props":2710,"children":2711},{"style":114},[2712],{"type":27,"value":2713},"# 查看h1中是否存在field\n",{"type":21,"tag":107,"props":2715,"children":2716},{"class":109,"line":160},[2717,2721],{"type":21,"tag":107,"props":2718,"children":2719},{"style":828},[2720],{"type":27,"value":1503},{"type":21,"tag":107,"props":2722,"children":2723},{"style":1506},[2724],{"type":27,"value":2725}," hexists h1 age\n",{"type":21,"tag":107,"props":2727,"children":2728},{"class":109,"line":179},[2729,2733,2737],{"type":21,"tag":107,"props":2730,"children":2731},{"style":1506},[2732],{"type":27,"value":1606},{"type":21,"tag":107,"props":2734,"children":2735},{"style":124},[2736],{"type":27,"value":1611},{"type":21,"tag":107,"props":2738,"children":2739},{"style":1506},[2740],{"type":27,"value":1857},{"type":21,"tag":107,"props":2742,"children":2743},{"class":109,"line":187},[2744,2748],{"type":21,"tag":107,"props":2745,"children":2746},{"style":828},[2747],{"type":27,"value":1503},{"type":21,"tag":107,"props":2749,"children":2750},{"style":1506},[2751],{"type":27,"value":2752}," hexists h1 sex\n",{"type":21,"tag":107,"props":2754,"children":2755},{"class":109,"line":196},[2756,2760,2764],{"type":21,"tag":107,"props":2757,"children":2758},{"style":1506},[2759],{"type":27,"value":1606},{"type":21,"tag":107,"props":2761,"children":2762},{"style":124},[2763],{"type":27,"value":1611},{"type":21,"tag":107,"props":2765,"children":2766},{"style":1506},[2767],{"type":27,"value":1739},{"type":21,"tag":107,"props":2769,"children":2770},{"class":109,"line":209},[2771],{"type":21,"tag":107,"props":2772,"children":2773},{"emptyLinePlaceholder":5},[2774],{"type":27,"value":148},{"type":21,"tag":107,"props":2776,"children":2777},{"class":109,"line":217},[2778],{"type":21,"tag":107,"props":2779,"children":2780},{"style":114},[2781],{"type":27,"value":2782},"# 取得所有的h1的field\n",{"type":21,"tag":107,"props":2784,"children":2785},{"class":109,"line":226},[2786,2790],{"type":21,"tag":107,"props":2787,"children":2788},{"style":828},[2789],{"type":27,"value":1503},{"type":21,"tag":107,"props":2791,"children":2792},{"style":1506},[2793],{"type":27,"value":2794}," hkeys h1\n",{"type":21,"tag":107,"props":2796,"children":2797},{"class":109,"line":241},[2798,2803,2808],{"type":21,"tag":107,"props":2799,"children":2800},{"style":124},[2801],{"type":27,"value":2802},"1",{"type":21,"tag":107,"props":2804,"children":2805},{"style":1506},[2806],{"type":27,"value":2807},") ",{"type":21,"tag":107,"props":2809,"children":2810},{"style":136},[2811],{"type":27,"value":2812},"\"familyName\"\n",{"type":21,"tag":107,"props":2814,"children":2815},{"class":109,"line":249},[2816,2821,2825],{"type":21,"tag":107,"props":2817,"children":2818},{"style":124},[2819],{"type":27,"value":2820},"2",{"type":21,"tag":107,"props":2822,"children":2823},{"style":1506},[2824],{"type":27,"value":2807},{"type":21,"tag":107,"props":2826,"children":2827},{"style":136},[2828],{"type":27,"value":2829},"\"givenName\"\n",{"type":21,"tag":107,"props":2831,"children":2832},{"class":109,"line":258},[2833,2838,2842],{"type":21,"tag":107,"props":2834,"children":2835},{"style":124},[2836],{"type":27,"value":2837},"3",{"type":21,"tag":107,"props":2839,"children":2840},{"style":1506},[2841],{"type":27,"value":2807},{"type":21,"tag":107,"props":2843,"children":2844},{"style":136},[2845],{"type":27,"value":2846},"\"age\"\n",{"type":21,"tag":107,"props":2848,"children":2849},{"class":109,"line":267},[2850],{"type":21,"tag":107,"props":2851,"children":2852},{"emptyLinePlaceholder":5},[2853],{"type":27,"value":148},{"type":21,"tag":107,"props":2855,"children":2856},{"class":109,"line":275},[2857],{"type":21,"tag":107,"props":2858,"children":2859},{"style":114},[2860],{"type":27,"value":2861},"# 取得所有的h1中的value\n",{"type":21,"tag":107,"props":2863,"children":2864},{"class":109,"line":284},[2865,2869],{"type":21,"tag":107,"props":2866,"children":2867},{"style":828},[2868],{"type":27,"value":1503},{"type":21,"tag":107,"props":2870,"children":2871},{"style":1506},[2872],{"type":27,"value":2873}," hvals h1\n",{"type":21,"tag":107,"props":2875,"children":2876},{"class":109,"line":303},[2877,2881,2885],{"type":21,"tag":107,"props":2878,"children":2879},{"style":124},[2880],{"type":27,"value":2802},{"type":21,"tag":107,"props":2882,"children":2883},{"style":1506},[2884],{"type":27,"value":2807},{"type":21,"tag":107,"props":2886,"children":2887},{"style":136},[2888],{"type":27,"value":2582},{"type":21,"tag":107,"props":2890,"children":2891},{"class":109,"line":311},[2892,2896,2900],{"type":21,"tag":107,"props":2893,"children":2894},{"style":124},[2895],{"type":27,"value":2820},{"type":21,"tag":107,"props":2897,"children":2898},{"style":1506},[2899],{"type":27,"value":2807},{"type":21,"tag":107,"props":2901,"children":2902},{"style":136},[2903],{"type":27,"value":2602},{"type":21,"tag":107,"props":2905,"children":2906},{"class":109,"line":320},[2907,2911,2915],{"type":21,"tag":107,"props":2908,"children":2909},{"style":124},[2910],{"type":27,"value":2837},{"type":21,"tag":107,"props":2912,"children":2913},{"style":1506},[2914],{"type":27,"value":2807},{"type":21,"tag":107,"props":2916,"children":2917},{"style":136},[2918],{"type":27,"value":2919},"\"28\"\n",{"type":21,"tag":107,"props":2921,"children":2922},{"class":109,"line":339},[2923],{"type":21,"tag":107,"props":2924,"children":2925},{"emptyLinePlaceholder":5},[2926],{"type":27,"value":148},{"type":21,"tag":107,"props":2928,"children":2929},{"class":109,"line":1695},[2930],{"type":21,"tag":107,"props":2931,"children":2932},{"style":114},[2933],{"type":27,"value":2934},"# 替age加上3\n",{"type":21,"tag":107,"props":2936,"children":2937},{"class":109,"line":1703},[2938,2942],{"type":21,"tag":107,"props":2939,"children":2940},{"style":828},[2941],{"type":27,"value":1503},{"type":21,"tag":107,"props":2943,"children":2944},{"style":1506},[2945],{"type":27,"value":2946}," hincrby h1 age 3\n",{"type":21,"tag":107,"props":2948,"children":2949},{"class":109,"line":1712},[2950,2954,2958],{"type":21,"tag":107,"props":2951,"children":2952},{"style":1506},[2953],{"type":27,"value":1606},{"type":21,"tag":107,"props":2955,"children":2956},{"style":124},[2957],{"type":27,"value":1611},{"type":21,"tag":107,"props":2959,"children":2960},{"style":1506},[2961],{"type":27,"value":2962},") 31\n",{"type":21,"tag":107,"props":2964,"children":2965},{"class":109,"line":1725},[2966],{"type":21,"tag":107,"props":2967,"children":2968},{"emptyLinePlaceholder":5},[2969],{"type":27,"value":148},{"type":21,"tag":107,"props":2971,"children":2972},{"class":109,"line":2009},[2973],{"type":21,"tag":107,"props":2974,"children":2975},{"style":114},[2976],{"type":27,"value":2977},"# 當age存在時，操作失敗\n",{"type":21,"tag":107,"props":2979,"children":2980},{"class":109,"line":2026},[2981,2985],{"type":21,"tag":107,"props":2982,"children":2983},{"style":828},[2984],{"type":27,"value":1503},{"type":21,"tag":107,"props":2986,"children":2987},{"style":1506},[2988],{"type":27,"value":2989}," hsetnx h1 age 100\n",{"type":21,"tag":107,"props":2991,"children":2992},{"class":109,"line":2034},[2993,2997,3001],{"type":21,"tag":107,"props":2994,"children":2995},{"style":1506},[2996],{"type":27,"value":1606},{"type":21,"tag":107,"props":2998,"children":2999},{"style":124},[3000],{"type":27,"value":1611},{"type":21,"tag":107,"props":3002,"children":3003},{"style":1506},[3004],{"type":27,"value":1739},{"type":21,"tag":107,"props":3006,"children":3007},{"class":109,"line":2043},[3008],{"type":21,"tag":107,"props":3009,"children":3010},{"emptyLinePlaceholder":5},[3011],{"type":27,"value":148},{"type":21,"tag":107,"props":3013,"children":3014},{"class":109,"line":2056},[3015],{"type":21,"tag":107,"props":3016,"children":3017},{"style":114},[3018],{"type":27,"value":3019},"# 當sex不存在時，則新增\n",{"type":21,"tag":107,"props":3021,"children":3022},{"class":109,"line":2065},[3023,3027],{"type":21,"tag":107,"props":3024,"children":3025},{"style":828},[3026],{"type":27,"value":1503},{"type":21,"tag":107,"props":3028,"children":3029},{"style":1506},[3030],{"type":27,"value":3031}," hsetnx h1 sex man\n",{"type":21,"tag":107,"props":3033,"children":3034},{"class":109,"line":2073},[3035,3039,3043],{"type":21,"tag":107,"props":3036,"children":3037},{"style":1506},[3038],{"type":27,"value":1606},{"type":21,"tag":107,"props":3040,"children":3041},{"style":124},[3042],{"type":27,"value":1611},{"type":21,"tag":107,"props":3044,"children":3045},{"style":1506},[3046],{"type":27,"value":1857},{"type":21,"tag":91,"props":3048,"children":3050},{"id":3049},"使用場景-1",[3051],{"type":27,"value":2368},{"type":21,"tag":59,"props":3053,"children":3054},{},[3055,3060,3065,3070],{"type":21,"tag":63,"props":3056,"children":3057},{},[3058],{"type":27,"value":3059},"儲存使用者資訊，例如使用者名稱、密碼、電子郵件地址、手機號碼等。",{"type":21,"tag":63,"props":3061,"children":3062},{},[3063],{"type":27,"value":3064},"儲存商品資訊，例如商品名稱、價格、庫存數量、圖片等。",{"type":21,"tag":63,"props":3066,"children":3067},{},[3068],{"type":27,"value":3069},"儲存文章資訊，例如文章標題、作者、發布時間、內容等。",{"type":21,"tag":63,"props":3071,"children":3072},{},[3073],{"type":27,"value":3074},"儲存設定資訊，例如資料庫連線字串、快取時間、超時時間等。",{"type":21,"tag":53,"props":3076,"children":3078},{"id":3077},"lists",[3079],{"type":27,"value":3080},"Lists",{"type":21,"tag":59,"props":3082,"children":3083},{},[3084,3089,3106],{"type":21,"tag":63,"props":3085,"children":3086},{},[3087],{"type":27,"value":3088},"單一鍵值(Key)多個數值(Value)",{"type":21,"tag":63,"props":3090,"children":3091},{},[3092,3094],{"type":27,"value":3093},"是一個字串列表，按照插入順序排序。你可以添加一個元素到列表的",{"type":21,"tag":69,"props":3095,"children":3096},{},[3097,3099,3104],{"type":27,"value":3098},"頭部(左邊)",{"type":21,"tag":69,"props":3100,"children":3101},{},[3102],{"type":27,"value":3103},"或",{"type":27,"value":3105},"尾部(右邊)",{"type":21,"tag":63,"props":3107,"children":3108},{},[3109,3111,3118],{"type":27,"value":3110},"它的底層其實是",{"type":21,"tag":1057,"props":3112,"children":3115},{"href":3113,"rel":3114},"https://zh.wikipedia.org/zh-tw/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8",[1061],[3116],{"type":27,"value":3117},"雙鏈接串列",{"type":27,"value":3119},"，對兩端的操作性能很高，通過索引下的操作中間的節點效能比較差",{"type":21,"tag":91,"props":3121,"children":3123},{"id":3122},"常用指令-2",[3124],{"type":27,"value":1471},{"type":21,"tag":1475,"props":3126,"children":3128},{"id":3127},"lpush-rpush-lpop-rpop-rpoplpush",[3129],{"type":27,"value":3130},"lpush / rpush / lpop / rpop / rpoplpush",{"type":21,"tag":97,"props":3132,"children":3134},{"className":99,"code":3133,"language":101,"meta":13,"style":13},"# 從key值l1左邊推送四筆資料，因此順序為v4 v3 v2 v1\n> lpush l1 v1 v2 v3 v4\n(integer) 4\n\n# 從key值l1右邊推送三筆資料，因此順序為v4 v3 v2 v1 v5 v6 v7\n> rpush l1 v5 v6 v7\n(integer) 7\n\n# 從左方取得數值\n> lpop l1\n\"v4\"\n\n# 從右方取得數值\n> rpop l1\n\"v7\"\n\n# 從左方key值l2推送v2、v3，因此順序為v3、v2\n> lpush l2 v2 v3\n\n# 從左方key值l3推送v1，因此順序為v1\n> lpush l3 v1\n\n# 從l2(key)右邊取值，從l3(key)左邊推入\n# l2: v3\n# l3: v2、v1\n> rpoplpush l2 l3\n\n# 從l3(key)取值，則取到v1\n> rpop l3\n\"v1\"\n",[3135],{"type":21,"tag":35,"props":3136,"children":3137},{"__ignoreMap":13},[3138,3146,3158,3174,3181,3189,3201,3217,3224,3232,3244,3252,3259,3267,3279,3287,3294,3302,3314,3321,3329,3341,3348,3356,3364,3372,3384,3391,3399,3411],{"type":21,"tag":107,"props":3139,"children":3140},{"class":109,"line":110},[3141],{"type":21,"tag":107,"props":3142,"children":3143},{"style":114},[3144],{"type":27,"value":3145},"# 從key值l1左邊推送四筆資料，因此順序為v4 v3 v2 v1\n",{"type":21,"tag":107,"props":3147,"children":3148},{"class":109,"line":120},[3149,3153],{"type":21,"tag":107,"props":3150,"children":3151},{"style":828},[3152],{"type":27,"value":1503},{"type":21,"tag":107,"props":3154,"children":3155},{"style":1506},[3156],{"type":27,"value":3157}," lpush l1 v1 v2 v3 v4\n",{"type":21,"tag":107,"props":3159,"children":3160},{"class":109,"line":142},[3161,3165,3169],{"type":21,"tag":107,"props":3162,"children":3163},{"style":1506},[3164],{"type":27,"value":1606},{"type":21,"tag":107,"props":3166,"children":3167},{"style":124},[3168],{"type":27,"value":1611},{"type":21,"tag":107,"props":3170,"children":3171},{"style":1506},[3172],{"type":27,"value":3173},") 4\n",{"type":21,"tag":107,"props":3175,"children":3176},{"class":109,"line":151},[3177],{"type":21,"tag":107,"props":3178,"children":3179},{"emptyLinePlaceholder":5},[3180],{"type":27,"value":148},{"type":21,"tag":107,"props":3182,"children":3183},{"class":109,"line":160},[3184],{"type":21,"tag":107,"props":3185,"children":3186},{"style":114},[3187],{"type":27,"value":3188},"# 從key值l1右邊推送三筆資料，因此順序為v4 v3 v2 v1 v5 v6 v7\n",{"type":21,"tag":107,"props":3190,"children":3191},{"class":109,"line":179},[3192,3196],{"type":21,"tag":107,"props":3193,"children":3194},{"style":828},[3195],{"type":27,"value":1503},{"type":21,"tag":107,"props":3197,"children":3198},{"style":1506},[3199],{"type":27,"value":3200}," rpush l1 v5 v6 v7\n",{"type":21,"tag":107,"props":3202,"children":3203},{"class":109,"line":187},[3204,3208,3212],{"type":21,"tag":107,"props":3205,"children":3206},{"style":1506},[3207],{"type":27,"value":1606},{"type":21,"tag":107,"props":3209,"children":3210},{"style":124},[3211],{"type":27,"value":1611},{"type":21,"tag":107,"props":3213,"children":3214},{"style":1506},[3215],{"type":27,"value":3216},") 7\n",{"type":21,"tag":107,"props":3218,"children":3219},{"class":109,"line":196},[3220],{"type":21,"tag":107,"props":3221,"children":3222},{"emptyLinePlaceholder":5},[3223],{"type":27,"value":148},{"type":21,"tag":107,"props":3225,"children":3226},{"class":109,"line":209},[3227],{"type":21,"tag":107,"props":3228,"children":3229},{"style":114},[3230],{"type":27,"value":3231},"# 從左方取得數值\n",{"type":21,"tag":107,"props":3233,"children":3234},{"class":109,"line":217},[3235,3239],{"type":21,"tag":107,"props":3236,"children":3237},{"style":828},[3238],{"type":27,"value":1503},{"type":21,"tag":107,"props":3240,"children":3241},{"style":1506},[3242],{"type":27,"value":3243}," lpop l1\n",{"type":21,"tag":107,"props":3245,"children":3246},{"class":109,"line":226},[3247],{"type":21,"tag":107,"props":3248,"children":3249},{"style":124},[3250],{"type":27,"value":3251},"\"v4\"\n",{"type":21,"tag":107,"props":3253,"children":3254},{"class":109,"line":241},[3255],{"type":21,"tag":107,"props":3256,"children":3257},{"emptyLinePlaceholder":5},[3258],{"type":27,"value":148},{"type":21,"tag":107,"props":3260,"children":3261},{"class":109,"line":249},[3262],{"type":21,"tag":107,"props":3263,"children":3264},{"style":114},[3265],{"type":27,"value":3266},"# 從右方取得數值\n",{"type":21,"tag":107,"props":3268,"children":3269},{"class":109,"line":258},[3270,3274],{"type":21,"tag":107,"props":3271,"children":3272},{"style":828},[3273],{"type":27,"value":1503},{"type":21,"tag":107,"props":3275,"children":3276},{"style":1506},[3277],{"type":27,"value":3278}," rpop l1\n",{"type":21,"tag":107,"props":3280,"children":3281},{"class":109,"line":267},[3282],{"type":21,"tag":107,"props":3283,"children":3284},{"style":124},[3285],{"type":27,"value":3286},"\"v7\"\n",{"type":21,"tag":107,"props":3288,"children":3289},{"class":109,"line":275},[3290],{"type":21,"tag":107,"props":3291,"children":3292},{"emptyLinePlaceholder":5},[3293],{"type":27,"value":148},{"type":21,"tag":107,"props":3295,"children":3296},{"class":109,"line":284},[3297],{"type":21,"tag":107,"props":3298,"children":3299},{"style":114},[3300],{"type":27,"value":3301},"# 從左方key值l2推送v2、v3，因此順序為v3、v2\n",{"type":21,"tag":107,"props":3303,"children":3304},{"class":109,"line":303},[3305,3309],{"type":21,"tag":107,"props":3306,"children":3307},{"style":828},[3308],{"type":27,"value":1503},{"type":21,"tag":107,"props":3310,"children":3311},{"style":1506},[3312],{"type":27,"value":3313}," lpush l2 v2 v3\n",{"type":21,"tag":107,"props":3315,"children":3316},{"class":109,"line":311},[3317],{"type":21,"tag":107,"props":3318,"children":3319},{"emptyLinePlaceholder":5},[3320],{"type":27,"value":148},{"type":21,"tag":107,"props":3322,"children":3323},{"class":109,"line":320},[3324],{"type":21,"tag":107,"props":3325,"children":3326},{"style":114},[3327],{"type":27,"value":3328},"# 從左方key值l3推送v1，因此順序為v1\n",{"type":21,"tag":107,"props":3330,"children":3331},{"class":109,"line":339},[3332,3336],{"type":21,"tag":107,"props":3333,"children":3334},{"style":828},[3335],{"type":27,"value":1503},{"type":21,"tag":107,"props":3337,"children":3338},{"style":1506},[3339],{"type":27,"value":3340}," lpush l3 v1\n",{"type":21,"tag":107,"props":3342,"children":3343},{"class":109,"line":1695},[3344],{"type":21,"tag":107,"props":3345,"children":3346},{"emptyLinePlaceholder":5},[3347],{"type":27,"value":148},{"type":21,"tag":107,"props":3349,"children":3350},{"class":109,"line":1703},[3351],{"type":21,"tag":107,"props":3352,"children":3353},{"style":114},[3354],{"type":27,"value":3355},"# 從l2(key)右邊取值，從l3(key)左邊推入\n",{"type":21,"tag":107,"props":3357,"children":3358},{"class":109,"line":1712},[3359],{"type":21,"tag":107,"props":3360,"children":3361},{"style":114},[3362],{"type":27,"value":3363},"# l2: v3\n",{"type":21,"tag":107,"props":3365,"children":3366},{"class":109,"line":1725},[3367],{"type":21,"tag":107,"props":3368,"children":3369},{"style":114},[3370],{"type":27,"value":3371},"# l3: v2、v1\n",{"type":21,"tag":107,"props":3373,"children":3374},{"class":109,"line":2009},[3375,3379],{"type":21,"tag":107,"props":3376,"children":3377},{"style":828},[3378],{"type":27,"value":1503},{"type":21,"tag":107,"props":3380,"children":3381},{"style":1506},[3382],{"type":27,"value":3383}," rpoplpush l2 l3\n",{"type":21,"tag":107,"props":3385,"children":3386},{"class":109,"line":2026},[3387],{"type":21,"tag":107,"props":3388,"children":3389},{"emptyLinePlaceholder":5},[3390],{"type":27,"value":148},{"type":21,"tag":107,"props":3392,"children":3393},{"class":109,"line":2034},[3394],{"type":21,"tag":107,"props":3395,"children":3396},{"style":114},[3397],{"type":27,"value":3398},"# 從l3(key)取值，則取到v1\n",{"type":21,"tag":107,"props":3400,"children":3401},{"class":109,"line":2043},[3402,3406],{"type":21,"tag":107,"props":3403,"children":3404},{"style":828},[3405],{"type":27,"value":1503},{"type":21,"tag":107,"props":3407,"children":3408},{"style":1506},[3409],{"type":27,"value":3410}," rpop l3\n",{"type":21,"tag":107,"props":3412,"children":3413},{"class":109,"line":2056},[3414],{"type":21,"tag":107,"props":3415,"children":3416},{"style":124},[3417],{"type":27,"value":3418},"\"v1\"\n",{"type":21,"tag":1475,"props":3420,"children":3422},{"id":3421},"lrange-lindex-llen",[3423],{"type":27,"value":3424},"lrange / lindex / llen",{"type":21,"tag":97,"props":3426,"children":3428},{"className":99,"code":3427,"language":101,"meta":13,"style":13},"# 從key值l1左邊推送四筆資料，因此順序為v4 v3 v2 v1\n> lpush l1 v1 v2 v3 v4\n(integer) 4\n\n# 取得0(索引)的第0個位置\n> lrange l1 0 0\n1) \"v4\"\n\n# 取得1(索引)的第一位\n> lrange l1 1 2\n1) \"v3\"\n2) \"v2\"\n\n# 用反轉(負號)的方式獲取全部，從左到右一次全部取出\n> lrange l1 0 -1\n1) \"v4\"\n2) \"v3\"\n3) \"v2\"\n4) \"v1\"\n\n# 測試取值\n> lindex l1 0\n\"v4\"\n> lindex l1 -1\n\"v1\"\n> lindex l1 -10\n(nil)\n\n# 取得長度\n> llen l1\n(integer) 4\n",[3429],{"type":21,"tag":35,"props":3430,"children":3431},{"__ignoreMap":13},[3432,3439,3450,3465,3472,3480,3492,3507,3514,3522,3534,3550,3565,3572,3580,3592,3607,3622,3637,3653,3660,3668,3680,3687,3699,3706,3718,3733,3740,3748,3760],{"type":21,"tag":107,"props":3433,"children":3434},{"class":109,"line":110},[3435],{"type":21,"tag":107,"props":3436,"children":3437},{"style":114},[3438],{"type":27,"value":3145},{"type":21,"tag":107,"props":3440,"children":3441},{"class":109,"line":120},[3442,3446],{"type":21,"tag":107,"props":3443,"children":3444},{"style":828},[3445],{"type":27,"value":1503},{"type":21,"tag":107,"props":3447,"children":3448},{"style":1506},[3449],{"type":27,"value":3157},{"type":21,"tag":107,"props":3451,"children":3452},{"class":109,"line":142},[3453,3457,3461],{"type":21,"tag":107,"props":3454,"children":3455},{"style":1506},[3456],{"type":27,"value":1606},{"type":21,"tag":107,"props":3458,"children":3459},{"style":124},[3460],{"type":27,"value":1611},{"type":21,"tag":107,"props":3462,"children":3463},{"style":1506},[3464],{"type":27,"value":3173},{"type":21,"tag":107,"props":3466,"children":3467},{"class":109,"line":151},[3468],{"type":21,"tag":107,"props":3469,"children":3470},{"emptyLinePlaceholder":5},[3471],{"type":27,"value":148},{"type":21,"tag":107,"props":3473,"children":3474},{"class":109,"line":160},[3475],{"type":21,"tag":107,"props":3476,"children":3477},{"style":114},[3478],{"type":27,"value":3479},"# 取得0(索引)的第0個位置\n",{"type":21,"tag":107,"props":3481,"children":3482},{"class":109,"line":179},[3483,3487],{"type":21,"tag":107,"props":3484,"children":3485},{"style":828},[3486],{"type":27,"value":1503},{"type":21,"tag":107,"props":3488,"children":3489},{"style":1506},[3490],{"type":27,"value":3491}," lrange l1 0 0\n",{"type":21,"tag":107,"props":3493,"children":3494},{"class":109,"line":187},[3495,3499,3503],{"type":21,"tag":107,"props":3496,"children":3497},{"style":124},[3498],{"type":27,"value":2802},{"type":21,"tag":107,"props":3500,"children":3501},{"style":1506},[3502],{"type":27,"value":2807},{"type":21,"tag":107,"props":3504,"children":3505},{"style":136},[3506],{"type":27,"value":3251},{"type":21,"tag":107,"props":3508,"children":3509},{"class":109,"line":196},[3510],{"type":21,"tag":107,"props":3511,"children":3512},{"emptyLinePlaceholder":5},[3513],{"type":27,"value":148},{"type":21,"tag":107,"props":3515,"children":3516},{"class":109,"line":209},[3517],{"type":21,"tag":107,"props":3518,"children":3519},{"style":114},[3520],{"type":27,"value":3521},"# 取得1(索引)的第一位\n",{"type":21,"tag":107,"props":3523,"children":3524},{"class":109,"line":217},[3525,3529],{"type":21,"tag":107,"props":3526,"children":3527},{"style":828},[3528],{"type":27,"value":1503},{"type":21,"tag":107,"props":3530,"children":3531},{"style":1506},[3532],{"type":27,"value":3533}," lrange l1 1 2\n",{"type":21,"tag":107,"props":3535,"children":3536},{"class":109,"line":226},[3537,3541,3545],{"type":21,"tag":107,"props":3538,"children":3539},{"style":124},[3540],{"type":27,"value":2802},{"type":21,"tag":107,"props":3542,"children":3543},{"style":1506},[3544],{"type":27,"value":2807},{"type":21,"tag":107,"props":3546,"children":3547},{"style":136},[3548],{"type":27,"value":3549},"\"v3\"\n",{"type":21,"tag":107,"props":3551,"children":3552},{"class":109,"line":241},[3553,3557,3561],{"type":21,"tag":107,"props":3554,"children":3555},{"style":124},[3556],{"type":27,"value":2820},{"type":21,"tag":107,"props":3558,"children":3559},{"style":1506},[3560],{"type":27,"value":2807},{"type":21,"tag":107,"props":3562,"children":3563},{"style":136},[3564],{"type":27,"value":2365},{"type":21,"tag":107,"props":3566,"children":3567},{"class":109,"line":249},[3568],{"type":21,"tag":107,"props":3569,"children":3570},{"emptyLinePlaceholder":5},[3571],{"type":27,"value":148},{"type":21,"tag":107,"props":3573,"children":3574},{"class":109,"line":258},[3575],{"type":21,"tag":107,"props":3576,"children":3577},{"style":114},[3578],{"type":27,"value":3579},"# 用反轉(負號)的方式獲取全部，從左到右一次全部取出\n",{"type":21,"tag":107,"props":3581,"children":3582},{"class":109,"line":267},[3583,3587],{"type":21,"tag":107,"props":3584,"children":3585},{"style":828},[3586],{"type":27,"value":1503},{"type":21,"tag":107,"props":3588,"children":3589},{"style":1506},[3590],{"type":27,"value":3591}," lrange l1 0 -1\n",{"type":21,"tag":107,"props":3593,"children":3594},{"class":109,"line":275},[3595,3599,3603],{"type":21,"tag":107,"props":3596,"children":3597},{"style":124},[3598],{"type":27,"value":2802},{"type":21,"tag":107,"props":3600,"children":3601},{"style":1506},[3602],{"type":27,"value":2807},{"type":21,"tag":107,"props":3604,"children":3605},{"style":136},[3606],{"type":27,"value":3251},{"type":21,"tag":107,"props":3608,"children":3609},{"class":109,"line":284},[3610,3614,3618],{"type":21,"tag":107,"props":3611,"children":3612},{"style":124},[3613],{"type":27,"value":2820},{"type":21,"tag":107,"props":3615,"children":3616},{"style":1506},[3617],{"type":27,"value":2807},{"type":21,"tag":107,"props":3619,"children":3620},{"style":136},[3621],{"type":27,"value":3549},{"type":21,"tag":107,"props":3623,"children":3624},{"class":109,"line":303},[3625,3629,3633],{"type":21,"tag":107,"props":3626,"children":3627},{"style":124},[3628],{"type":27,"value":2837},{"type":21,"tag":107,"props":3630,"children":3631},{"style":1506},[3632],{"type":27,"value":2807},{"type":21,"tag":107,"props":3634,"children":3635},{"style":136},[3636],{"type":27,"value":2365},{"type":21,"tag":107,"props":3638,"children":3639},{"class":109,"line":311},[3640,3645,3649],{"type":21,"tag":107,"props":3641,"children":3642},{"style":124},[3643],{"type":27,"value":3644},"4",{"type":21,"tag":107,"props":3646,"children":3647},{"style":1506},[3648],{"type":27,"value":2807},{"type":21,"tag":107,"props":3650,"children":3651},{"style":136},[3652],{"type":27,"value":3418},{"type":21,"tag":107,"props":3654,"children":3655},{"class":109,"line":320},[3656],{"type":21,"tag":107,"props":3657,"children":3658},{"emptyLinePlaceholder":5},[3659],{"type":27,"value":148},{"type":21,"tag":107,"props":3661,"children":3662},{"class":109,"line":339},[3663],{"type":21,"tag":107,"props":3664,"children":3665},{"style":114},[3666],{"type":27,"value":3667},"# 測試取值\n",{"type":21,"tag":107,"props":3669,"children":3670},{"class":109,"line":1695},[3671,3675],{"type":21,"tag":107,"props":3672,"children":3673},{"style":828},[3674],{"type":27,"value":1503},{"type":21,"tag":107,"props":3676,"children":3677},{"style":1506},[3678],{"type":27,"value":3679}," lindex l1 0\n",{"type":21,"tag":107,"props":3681,"children":3682},{"class":109,"line":1703},[3683],{"type":21,"tag":107,"props":3684,"children":3685},{"style":124},[3686],{"type":27,"value":3251},{"type":21,"tag":107,"props":3688,"children":3689},{"class":109,"line":1712},[3690,3694],{"type":21,"tag":107,"props":3691,"children":3692},{"style":828},[3693],{"type":27,"value":1503},{"type":21,"tag":107,"props":3695,"children":3696},{"style":1506},[3697],{"type":27,"value":3698}," lindex l1 -1\n",{"type":21,"tag":107,"props":3700,"children":3701},{"class":109,"line":1725},[3702],{"type":21,"tag":107,"props":3703,"children":3704},{"style":124},[3705],{"type":27,"value":3418},{"type":21,"tag":107,"props":3707,"children":3708},{"class":109,"line":2009},[3709,3713],{"type":21,"tag":107,"props":3710,"children":3711},{"style":828},[3712],{"type":27,"value":1503},{"type":21,"tag":107,"props":3714,"children":3715},{"style":1506},[3716],{"type":27,"value":3717}," lindex l1 -10\n",{"type":21,"tag":107,"props":3719,"children":3720},{"class":109,"line":2026},[3721,3725,3729],{"type":21,"tag":107,"props":3722,"children":3723},{"style":1506},[3724],{"type":27,"value":1606},{"type":21,"tag":107,"props":3726,"children":3727},{"style":124},[3728],{"type":27,"value":2626},{"type":21,"tag":107,"props":3730,"children":3731},{"style":1506},[3732],{"type":27,"value":2631},{"type":21,"tag":107,"props":3734,"children":3735},{"class":109,"line":2034},[3736],{"type":21,"tag":107,"props":3737,"children":3738},{"emptyLinePlaceholder":5},[3739],{"type":27,"value":148},{"type":21,"tag":107,"props":3741,"children":3742},{"class":109,"line":2043},[3743],{"type":21,"tag":107,"props":3744,"children":3745},{"style":114},[3746],{"type":27,"value":3747},"# 取得長度\n",{"type":21,"tag":107,"props":3749,"children":3750},{"class":109,"line":2056},[3751,3755],{"type":21,"tag":107,"props":3752,"children":3753},{"style":828},[3754],{"type":27,"value":1503},{"type":21,"tag":107,"props":3756,"children":3757},{"style":1506},[3758],{"type":27,"value":3759}," llen l1\n",{"type":21,"tag":107,"props":3761,"children":3762},{"class":109,"line":2065},[3763,3767,3771],{"type":21,"tag":107,"props":3764,"children":3765},{"style":1506},[3766],{"type":27,"value":1606},{"type":21,"tag":107,"props":3768,"children":3769},{"style":124},[3770],{"type":27,"value":1611},{"type":21,"tag":107,"props":3772,"children":3773},{"style":1506},[3774],{"type":27,"value":3173},{"type":21,"tag":91,"props":3776,"children":3778},{"id":3777},"使用場景-2",[3779],{"type":27,"value":2368},{"type":21,"tag":59,"props":3781,"children":3782},{},[3783,3788,3793,3798],{"type":21,"tag":63,"props":3784,"children":3785},{},[3786],{"type":27,"value":3787},"實現佇列(Queue)：可以將新加入的元素插入到清單的末尾，將清單的第一個元素刪除即可實現佇列的先進先出 (FIFO) 的特性。",{"type":21,"tag":63,"props":3789,"children":3790},{},[3791],{"type":27,"value":3792},"實現堆疊(Stack)：可以將新加入的元素插入到清單的末尾，將清單的最後一個元素刪除即可實現棧的後進先出 (LIFO) 的特性。",{"type":21,"tag":63,"props":3794,"children":3795},{},[3796],{"type":27,"value":3797},"儲存日誌資訊：例如系統日誌、應用程式日誌等。",{"type":21,"tag":63,"props":3799,"children":3800},{},[3801],{"type":27,"value":3802},"實現訊息佇列(Message Queue)：可以將訊息插入到清單的末尾，然後通過消費者(Consumer)不斷從清單的末尾獲取訊息來實現訊息的非同步處理。",{"type":21,"tag":53,"props":3804,"children":3806},{"id":3805},"sets",[3807],{"type":27,"value":3808},"Sets",{"type":21,"tag":59,"props":3810,"children":3811},{},[3812,3824],{"type":21,"tag":63,"props":3813,"children":3814},{},[3815,3817,3822],{"type":27,"value":3816},"Redis Set 對外提供的功能與",{"type":21,"tag":69,"props":3818,"children":3819},{},[3820],{"type":27,"value":3821},"list",{"type":27,"value":3823},"類似也是一個列表的功能，它特殊之處在於可以排除重複的數值，當如果要儲存的一個資料列表，不希望出現重複的資料時，set 是一個很好的選擇，且 set 提供 API 能判斷某個資料是否存在於集合中，而 list 沒有這種 API。",{"type":21,"tag":63,"props":3825,"children":3826},{},[3827,3829,3834,3836,3841,3842,3847,3849],{"type":27,"value":3828},"Redis 的 Set 是 string 類型的無序集合。它底層是一個 Hash table，因此",{"type":21,"tag":69,"props":3830,"children":3831},{},[3832],{"type":27,"value":3833},"新增",{"type":27,"value":3835},"、",{"type":21,"tag":69,"props":3837,"children":3838},{},[3839],{"type":27,"value":3840},"刪除",{"type":27,"value":3835},{"type":21,"tag":69,"props":3843,"children":3844},{},[3845],{"type":27,"value":3846},"查詢",{"type":27,"value":3848},"的時間複雜度皆為",{"type":21,"tag":35,"props":3850,"children":3851},{"className":13},[3852],{"type":27,"value":3853},"O(1)",{"type":21,"tag":91,"props":3855,"children":3857},{"id":3856},"常用指令-3",[3858],{"type":27,"value":1471},{"type":21,"tag":1475,"props":3860,"children":3862},{"id":3861},"sadd-smembers-sismember",[3863],{"type":27,"value":3864},"sadd / smembers / sismember",{"type":21,"tag":97,"props":3866,"children":3868},{"className":99,"code":3867,"language":101,"meta":13,"style":13},"# 會自動將重複的數值進行過濾\n> sadd s1 v1 v1 v1 v2 v3 v4 v5 v5\n(integer) 5\n\n# 顯示set的s1(key)的所有數值\n> smembers s1\n1) \"v2\"\n2) \"v1\"\n3) \"v4\"\n4) \"v3\"\n5) \"v5\"\n\n# 判s1(key)中的v1是否存在\n> sismember s1 v1\n(integer) 1\n\n# 判s1(key)中的v9是否存在\n> sismember s1 v9\n(integer) 0\n",[3869],{"type":21,"tag":35,"props":3870,"children":3871},{"__ignoreMap":13},[3872,3880,3892,3907,3914,3922,3934,3949,3964,3979,3994,4011,4018,4026,4038,4053,4060,4068,4080],{"type":21,"tag":107,"props":3873,"children":3874},{"class":109,"line":110},[3875],{"type":21,"tag":107,"props":3876,"children":3877},{"style":114},[3878],{"type":27,"value":3879},"# 會自動將重複的數值進行過濾\n",{"type":21,"tag":107,"props":3881,"children":3882},{"class":109,"line":120},[3883,3887],{"type":21,"tag":107,"props":3884,"children":3885},{"style":828},[3886],{"type":27,"value":1503},{"type":21,"tag":107,"props":3888,"children":3889},{"style":1506},[3890],{"type":27,"value":3891}," sadd s1 v1 v1 v1 v2 v3 v4 v5 v5\n",{"type":21,"tag":107,"props":3893,"children":3894},{"class":109,"line":142},[3895,3899,3903],{"type":21,"tag":107,"props":3896,"children":3897},{"style":1506},[3898],{"type":27,"value":1606},{"type":21,"tag":107,"props":3900,"children":3901},{"style":124},[3902],{"type":27,"value":1611},{"type":21,"tag":107,"props":3904,"children":3905},{"style":1506},[3906],{"type":27,"value":1616},{"type":21,"tag":107,"props":3908,"children":3909},{"class":109,"line":151},[3910],{"type":21,"tag":107,"props":3911,"children":3912},{"emptyLinePlaceholder":5},[3913],{"type":27,"value":148},{"type":21,"tag":107,"props":3915,"children":3916},{"class":109,"line":160},[3917],{"type":21,"tag":107,"props":3918,"children":3919},{"style":114},[3920],{"type":27,"value":3921},"# 顯示set的s1(key)的所有數值\n",{"type":21,"tag":107,"props":3923,"children":3924},{"class":109,"line":179},[3925,3929],{"type":21,"tag":107,"props":3926,"children":3927},{"style":828},[3928],{"type":27,"value":1503},{"type":21,"tag":107,"props":3930,"children":3931},{"style":1506},[3932],{"type":27,"value":3933}," smembers s1\n",{"type":21,"tag":107,"props":3935,"children":3936},{"class":109,"line":187},[3937,3941,3945],{"type":21,"tag":107,"props":3938,"children":3939},{"style":124},[3940],{"type":27,"value":2802},{"type":21,"tag":107,"props":3942,"children":3943},{"style":1506},[3944],{"type":27,"value":2807},{"type":21,"tag":107,"props":3946,"children":3947},{"style":136},[3948],{"type":27,"value":2365},{"type":21,"tag":107,"props":3950,"children":3951},{"class":109,"line":196},[3952,3956,3960],{"type":21,"tag":107,"props":3953,"children":3954},{"style":124},[3955],{"type":27,"value":2820},{"type":21,"tag":107,"props":3957,"children":3958},{"style":1506},[3959],{"type":27,"value":2807},{"type":21,"tag":107,"props":3961,"children":3962},{"style":136},[3963],{"type":27,"value":3418},{"type":21,"tag":107,"props":3965,"children":3966},{"class":109,"line":209},[3967,3971,3975],{"type":21,"tag":107,"props":3968,"children":3969},{"style":124},[3970],{"type":27,"value":2837},{"type":21,"tag":107,"props":3972,"children":3973},{"style":1506},[3974],{"type":27,"value":2807},{"type":21,"tag":107,"props":3976,"children":3977},{"style":136},[3978],{"type":27,"value":3251},{"type":21,"tag":107,"props":3980,"children":3981},{"class":109,"line":217},[3982,3986,3990],{"type":21,"tag":107,"props":3983,"children":3984},{"style":124},[3985],{"type":27,"value":3644},{"type":21,"tag":107,"props":3987,"children":3988},{"style":1506},[3989],{"type":27,"value":2807},{"type":21,"tag":107,"props":3991,"children":3992},{"style":136},[3993],{"type":27,"value":3549},{"type":21,"tag":107,"props":3995,"children":3996},{"class":109,"line":226},[3997,4002,4006],{"type":21,"tag":107,"props":3998,"children":3999},{"style":124},[4000],{"type":27,"value":4001},"5",{"type":21,"tag":107,"props":4003,"children":4004},{"style":1506},[4005],{"type":27,"value":2807},{"type":21,"tag":107,"props":4007,"children":4008},{"style":136},[4009],{"type":27,"value":4010},"\"v5\"\n",{"type":21,"tag":107,"props":4012,"children":4013},{"class":109,"line":241},[4014],{"type":21,"tag":107,"props":4015,"children":4016},{"emptyLinePlaceholder":5},[4017],{"type":27,"value":148},{"type":21,"tag":107,"props":4019,"children":4020},{"class":109,"line":249},[4021],{"type":21,"tag":107,"props":4022,"children":4023},{"style":114},[4024],{"type":27,"value":4025},"# 判s1(key)中的v1是否存在\n",{"type":21,"tag":107,"props":4027,"children":4028},{"class":109,"line":258},[4029,4033],{"type":21,"tag":107,"props":4030,"children":4031},{"style":828},[4032],{"type":27,"value":1503},{"type":21,"tag":107,"props":4034,"children":4035},{"style":1506},[4036],{"type":27,"value":4037}," sismember s1 v1\n",{"type":21,"tag":107,"props":4039,"children":4040},{"class":109,"line":267},[4041,4045,4049],{"type":21,"tag":107,"props":4042,"children":4043},{"style":1506},[4044],{"type":27,"value":1606},{"type":21,"tag":107,"props":4046,"children":4047},{"style":124},[4048],{"type":27,"value":1611},{"type":21,"tag":107,"props":4050,"children":4051},{"style":1506},[4052],{"type":27,"value":1857},{"type":21,"tag":107,"props":4054,"children":4055},{"class":109,"line":275},[4056],{"type":21,"tag":107,"props":4057,"children":4058},{"emptyLinePlaceholder":5},[4059],{"type":27,"value":148},{"type":21,"tag":107,"props":4061,"children":4062},{"class":109,"line":284},[4063],{"type":21,"tag":107,"props":4064,"children":4065},{"style":114},[4066],{"type":27,"value":4067},"# 判s1(key)中的v9是否存在\n",{"type":21,"tag":107,"props":4069,"children":4070},{"class":109,"line":303},[4071,4075],{"type":21,"tag":107,"props":4072,"children":4073},{"style":828},[4074],{"type":27,"value":1503},{"type":21,"tag":107,"props":4076,"children":4077},{"style":1506},[4078],{"type":27,"value":4079}," sismember s1 v9\n",{"type":21,"tag":107,"props":4081,"children":4082},{"class":109,"line":311},[4083,4087,4091],{"type":21,"tag":107,"props":4084,"children":4085},{"style":1506},[4086],{"type":27,"value":1606},{"type":21,"tag":107,"props":4088,"children":4089},{"style":124},[4090],{"type":27,"value":1611},{"type":21,"tag":107,"props":4092,"children":4093},{"style":1506},[4094],{"type":27,"value":1739},{"type":21,"tag":1475,"props":4096,"children":4098},{"id":4097},"scard-srem-spop-srandmember",[4099],{"type":27,"value":4100},"scard / srem / spop / srandmember",{"type":21,"tag":97,"props":4102,"children":4104},{"className":99,"code":4103,"language":101,"meta":13,"style":13},"# 將數值進行加入\n> sadd s1 v1 v2 v3 v4 v5\n(integer) 5\n\n# 取得s1(key)的數量\n> scard s1\n(integer) 5\n\n# 刪除s1(key)中的v4\n> srem s1 v4\n(integer) 1\n\n# 隨機從s1(key)中取出，並進行刪除\n> spop s1 2\n1) \"v3\"\n2) \"v2\"\n\n# 隨機從s1(key)中取出，並不刪除\n> srandmember s1 2\n1) \"v5\"\n2) \"v1\"\n",[4105],{"type":21,"tag":35,"props":4106,"children":4107},{"__ignoreMap":13},[4108,4116,4128,4143,4150,4158,4170,4185,4192,4200,4212,4227,4234,4242,4254,4269,4284,4291,4299,4311,4326],{"type":21,"tag":107,"props":4109,"children":4110},{"class":109,"line":110},[4111],{"type":21,"tag":107,"props":4112,"children":4113},{"style":114},[4114],{"type":27,"value":4115},"# 將數值進行加入\n",{"type":21,"tag":107,"props":4117,"children":4118},{"class":109,"line":120},[4119,4123],{"type":21,"tag":107,"props":4120,"children":4121},{"style":828},[4122],{"type":27,"value":1503},{"type":21,"tag":107,"props":4124,"children":4125},{"style":1506},[4126],{"type":27,"value":4127}," sadd s1 v1 v2 v3 v4 v5\n",{"type":21,"tag":107,"props":4129,"children":4130},{"class":109,"line":142},[4131,4135,4139],{"type":21,"tag":107,"props":4132,"children":4133},{"style":1506},[4134],{"type":27,"value":1606},{"type":21,"tag":107,"props":4136,"children":4137},{"style":124},[4138],{"type":27,"value":1611},{"type":21,"tag":107,"props":4140,"children":4141},{"style":1506},[4142],{"type":27,"value":1616},{"type":21,"tag":107,"props":4144,"children":4145},{"class":109,"line":151},[4146],{"type":21,"tag":107,"props":4147,"children":4148},{"emptyLinePlaceholder":5},[4149],{"type":27,"value":148},{"type":21,"tag":107,"props":4151,"children":4152},{"class":109,"line":160},[4153],{"type":21,"tag":107,"props":4154,"children":4155},{"style":114},[4156],{"type":27,"value":4157},"# 取得s1(key)的數量\n",{"type":21,"tag":107,"props":4159,"children":4160},{"class":109,"line":179},[4161,4165],{"type":21,"tag":107,"props":4162,"children":4163},{"style":828},[4164],{"type":27,"value":1503},{"type":21,"tag":107,"props":4166,"children":4167},{"style":1506},[4168],{"type":27,"value":4169}," scard s1\n",{"type":21,"tag":107,"props":4171,"children":4172},{"class":109,"line":187},[4173,4177,4181],{"type":21,"tag":107,"props":4174,"children":4175},{"style":1506},[4176],{"type":27,"value":1606},{"type":21,"tag":107,"props":4178,"children":4179},{"style":124},[4180],{"type":27,"value":1611},{"type":21,"tag":107,"props":4182,"children":4183},{"style":1506},[4184],{"type":27,"value":1616},{"type":21,"tag":107,"props":4186,"children":4187},{"class":109,"line":196},[4188],{"type":21,"tag":107,"props":4189,"children":4190},{"emptyLinePlaceholder":5},[4191],{"type":27,"value":148},{"type":21,"tag":107,"props":4193,"children":4194},{"class":109,"line":209},[4195],{"type":21,"tag":107,"props":4196,"children":4197},{"style":114},[4198],{"type":27,"value":4199},"# 刪除s1(key)中的v4\n",{"type":21,"tag":107,"props":4201,"children":4202},{"class":109,"line":217},[4203,4207],{"type":21,"tag":107,"props":4204,"children":4205},{"style":828},[4206],{"type":27,"value":1503},{"type":21,"tag":107,"props":4208,"children":4209},{"style":1506},[4210],{"type":27,"value":4211}," srem s1 v4\n",{"type":21,"tag":107,"props":4213,"children":4214},{"class":109,"line":226},[4215,4219,4223],{"type":21,"tag":107,"props":4216,"children":4217},{"style":1506},[4218],{"type":27,"value":1606},{"type":21,"tag":107,"props":4220,"children":4221},{"style":124},[4222],{"type":27,"value":1611},{"type":21,"tag":107,"props":4224,"children":4225},{"style":1506},[4226],{"type":27,"value":1857},{"type":21,"tag":107,"props":4228,"children":4229},{"class":109,"line":241},[4230],{"type":21,"tag":107,"props":4231,"children":4232},{"emptyLinePlaceholder":5},[4233],{"type":27,"value":148},{"type":21,"tag":107,"props":4235,"children":4236},{"class":109,"line":249},[4237],{"type":21,"tag":107,"props":4238,"children":4239},{"style":114},[4240],{"type":27,"value":4241},"# 隨機從s1(key)中取出，並進行刪除\n",{"type":21,"tag":107,"props":4243,"children":4244},{"class":109,"line":258},[4245,4249],{"type":21,"tag":107,"props":4246,"children":4247},{"style":828},[4248],{"type":27,"value":1503},{"type":21,"tag":107,"props":4250,"children":4251},{"style":1506},[4252],{"type":27,"value":4253}," spop s1 2\n",{"type":21,"tag":107,"props":4255,"children":4256},{"class":109,"line":267},[4257,4261,4265],{"type":21,"tag":107,"props":4258,"children":4259},{"style":124},[4260],{"type":27,"value":2802},{"type":21,"tag":107,"props":4262,"children":4263},{"style":1506},[4264],{"type":27,"value":2807},{"type":21,"tag":107,"props":4266,"children":4267},{"style":136},[4268],{"type":27,"value":3549},{"type":21,"tag":107,"props":4270,"children":4271},{"class":109,"line":275},[4272,4276,4280],{"type":21,"tag":107,"props":4273,"children":4274},{"style":124},[4275],{"type":27,"value":2820},{"type":21,"tag":107,"props":4277,"children":4278},{"style":1506},[4279],{"type":27,"value":2807},{"type":21,"tag":107,"props":4281,"children":4282},{"style":136},[4283],{"type":27,"value":2365},{"type":21,"tag":107,"props":4285,"children":4286},{"class":109,"line":284},[4287],{"type":21,"tag":107,"props":4288,"children":4289},{"emptyLinePlaceholder":5},[4290],{"type":27,"value":148},{"type":21,"tag":107,"props":4292,"children":4293},{"class":109,"line":303},[4294],{"type":21,"tag":107,"props":4295,"children":4296},{"style":114},[4297],{"type":27,"value":4298},"# 隨機從s1(key)中取出，並不刪除\n",{"type":21,"tag":107,"props":4300,"children":4301},{"class":109,"line":311},[4302,4306],{"type":21,"tag":107,"props":4303,"children":4304},{"style":828},[4305],{"type":27,"value":1503},{"type":21,"tag":107,"props":4307,"children":4308},{"style":1506},[4309],{"type":27,"value":4310}," srandmember s1 2\n",{"type":21,"tag":107,"props":4312,"children":4313},{"class":109,"line":320},[4314,4318,4322],{"type":21,"tag":107,"props":4315,"children":4316},{"style":124},[4317],{"type":27,"value":2802},{"type":21,"tag":107,"props":4319,"children":4320},{"style":1506},[4321],{"type":27,"value":2807},{"type":21,"tag":107,"props":4323,"children":4324},{"style":136},[4325],{"type":27,"value":4010},{"type":21,"tag":107,"props":4327,"children":4328},{"class":109,"line":339},[4329,4333,4337],{"type":21,"tag":107,"props":4330,"children":4331},{"style":124},[4332],{"type":27,"value":2820},{"type":21,"tag":107,"props":4334,"children":4335},{"style":1506},[4336],{"type":27,"value":2807},{"type":21,"tag":107,"props":4338,"children":4339},{"style":136},[4340],{"type":27,"value":3418},{"type":21,"tag":1475,"props":4342,"children":4344},{"id":4343},"sinter-sunion-sdiff",[4345],{"type":27,"value":4346},"sinter / sunion / sdiff",{"type":21,"tag":97,"props":4348,"children":4350},{"className":99,"code":4349,"language":101,"meta":13,"style":13},"# 新增兩個set，做為測試\n> sadd s1 v1 v2 v3 v4\n> sadd s2 v3 v4 v5 v6\n\n# 取交集\n> sinter s1 s2\n1) \"v3\"\n2) \"v4\"\n\n# 取聯集\n> sunion s1 s2\n1) \"v4\"\n2) \"v6\"\n3) \"v3\"\n4) \"v2\"\n5) \"v1\"\n6) \"v5\"\n\n# 取s1的差集\n> sdiff s1 s2\n1) \"v1\"\n2) \"v2\"\n\n# 取s2的差集\n> sdiff s2 s1\n1) \"v5\"\n2) \"v6\"\n",[4351],{"type":21,"tag":35,"props":4352,"children":4353},{"__ignoreMap":13},[4354,4362,4374,4386,4393,4401,4413,4428,4443,4450,4458,4470,4485,4501,4516,4531,4546,4562,4569,4577,4589,4604,4619,4626,4634,4646,4661],{"type":21,"tag":107,"props":4355,"children":4356},{"class":109,"line":110},[4357],{"type":21,"tag":107,"props":4358,"children":4359},{"style":114},[4360],{"type":27,"value":4361},"# 新增兩個set，做為測試\n",{"type":21,"tag":107,"props":4363,"children":4364},{"class":109,"line":120},[4365,4369],{"type":21,"tag":107,"props":4366,"children":4367},{"style":828},[4368],{"type":27,"value":1503},{"type":21,"tag":107,"props":4370,"children":4371},{"style":1506},[4372],{"type":27,"value":4373}," sadd s1 v1 v2 v3 v4\n",{"type":21,"tag":107,"props":4375,"children":4376},{"class":109,"line":142},[4377,4381],{"type":21,"tag":107,"props":4378,"children":4379},{"style":828},[4380],{"type":27,"value":1503},{"type":21,"tag":107,"props":4382,"children":4383},{"style":1506},[4384],{"type":27,"value":4385}," sadd s2 v3 v4 v5 v6\n",{"type":21,"tag":107,"props":4387,"children":4388},{"class":109,"line":151},[4389],{"type":21,"tag":107,"props":4390,"children":4391},{"emptyLinePlaceholder":5},[4392],{"type":27,"value":148},{"type":21,"tag":107,"props":4394,"children":4395},{"class":109,"line":160},[4396],{"type":21,"tag":107,"props":4397,"children":4398},{"style":114},[4399],{"type":27,"value":4400},"# 取交集\n",{"type":21,"tag":107,"props":4402,"children":4403},{"class":109,"line":179},[4404,4408],{"type":21,"tag":107,"props":4405,"children":4406},{"style":828},[4407],{"type":27,"value":1503},{"type":21,"tag":107,"props":4409,"children":4410},{"style":1506},[4411],{"type":27,"value":4412}," sinter s1 s2\n",{"type":21,"tag":107,"props":4414,"children":4415},{"class":109,"line":187},[4416,4420,4424],{"type":21,"tag":107,"props":4417,"children":4418},{"style":124},[4419],{"type":27,"value":2802},{"type":21,"tag":107,"props":4421,"children":4422},{"style":1506},[4423],{"type":27,"value":2807},{"type":21,"tag":107,"props":4425,"children":4426},{"style":136},[4427],{"type":27,"value":3549},{"type":21,"tag":107,"props":4429,"children":4430},{"class":109,"line":196},[4431,4435,4439],{"type":21,"tag":107,"props":4432,"children":4433},{"style":124},[4434],{"type":27,"value":2820},{"type":21,"tag":107,"props":4436,"children":4437},{"style":1506},[4438],{"type":27,"value":2807},{"type":21,"tag":107,"props":4440,"children":4441},{"style":136},[4442],{"type":27,"value":3251},{"type":21,"tag":107,"props":4444,"children":4445},{"class":109,"line":209},[4446],{"type":21,"tag":107,"props":4447,"children":4448},{"emptyLinePlaceholder":5},[4449],{"type":27,"value":148},{"type":21,"tag":107,"props":4451,"children":4452},{"class":109,"line":217},[4453],{"type":21,"tag":107,"props":4454,"children":4455},{"style":114},[4456],{"type":27,"value":4457},"# 取聯集\n",{"type":21,"tag":107,"props":4459,"children":4460},{"class":109,"line":226},[4461,4465],{"type":21,"tag":107,"props":4462,"children":4463},{"style":828},[4464],{"type":27,"value":1503},{"type":21,"tag":107,"props":4466,"children":4467},{"style":1506},[4468],{"type":27,"value":4469}," sunion s1 s2\n",{"type":21,"tag":107,"props":4471,"children":4472},{"class":109,"line":241},[4473,4477,4481],{"type":21,"tag":107,"props":4474,"children":4475},{"style":124},[4476],{"type":27,"value":2802},{"type":21,"tag":107,"props":4478,"children":4479},{"style":1506},[4480],{"type":27,"value":2807},{"type":21,"tag":107,"props":4482,"children":4483},{"style":136},[4484],{"type":27,"value":3251},{"type":21,"tag":107,"props":4486,"children":4487},{"class":109,"line":249},[4488,4492,4496],{"type":21,"tag":107,"props":4489,"children":4490},{"style":124},[4491],{"type":27,"value":2820},{"type":21,"tag":107,"props":4493,"children":4494},{"style":1506},[4495],{"type":27,"value":2807},{"type":21,"tag":107,"props":4497,"children":4498},{"style":136},[4499],{"type":27,"value":4500},"\"v6\"\n",{"type":21,"tag":107,"props":4502,"children":4503},{"class":109,"line":258},[4504,4508,4512],{"type":21,"tag":107,"props":4505,"children":4506},{"style":124},[4507],{"type":27,"value":2837},{"type":21,"tag":107,"props":4509,"children":4510},{"style":1506},[4511],{"type":27,"value":2807},{"type":21,"tag":107,"props":4513,"children":4514},{"style":136},[4515],{"type":27,"value":3549},{"type":21,"tag":107,"props":4517,"children":4518},{"class":109,"line":267},[4519,4523,4527],{"type":21,"tag":107,"props":4520,"children":4521},{"style":124},[4522],{"type":27,"value":3644},{"type":21,"tag":107,"props":4524,"children":4525},{"style":1506},[4526],{"type":27,"value":2807},{"type":21,"tag":107,"props":4528,"children":4529},{"style":136},[4530],{"type":27,"value":2365},{"type":21,"tag":107,"props":4532,"children":4533},{"class":109,"line":275},[4534,4538,4542],{"type":21,"tag":107,"props":4535,"children":4536},{"style":124},[4537],{"type":27,"value":4001},{"type":21,"tag":107,"props":4539,"children":4540},{"style":1506},[4541],{"type":27,"value":2807},{"type":21,"tag":107,"props":4543,"children":4544},{"style":136},[4545],{"type":27,"value":3418},{"type":21,"tag":107,"props":4547,"children":4548},{"class":109,"line":284},[4549,4554,4558],{"type":21,"tag":107,"props":4550,"children":4551},{"style":124},[4552],{"type":27,"value":4553},"6",{"type":21,"tag":107,"props":4555,"children":4556},{"style":1506},[4557],{"type":27,"value":2807},{"type":21,"tag":107,"props":4559,"children":4560},{"style":136},[4561],{"type":27,"value":4010},{"type":21,"tag":107,"props":4563,"children":4564},{"class":109,"line":303},[4565],{"type":21,"tag":107,"props":4566,"children":4567},{"emptyLinePlaceholder":5},[4568],{"type":27,"value":148},{"type":21,"tag":107,"props":4570,"children":4571},{"class":109,"line":311},[4572],{"type":21,"tag":107,"props":4573,"children":4574},{"style":114},[4575],{"type":27,"value":4576},"# 取s1的差集\n",{"type":21,"tag":107,"props":4578,"children":4579},{"class":109,"line":320},[4580,4584],{"type":21,"tag":107,"props":4581,"children":4582},{"style":828},[4583],{"type":27,"value":1503},{"type":21,"tag":107,"props":4585,"children":4586},{"style":1506},[4587],{"type":27,"value":4588}," sdiff s1 s2\n",{"type":21,"tag":107,"props":4590,"children":4591},{"class":109,"line":339},[4592,4596,4600],{"type":21,"tag":107,"props":4593,"children":4594},{"style":124},[4595],{"type":27,"value":2802},{"type":21,"tag":107,"props":4597,"children":4598},{"style":1506},[4599],{"type":27,"value":2807},{"type":21,"tag":107,"props":4601,"children":4602},{"style":136},[4603],{"type":27,"value":3418},{"type":21,"tag":107,"props":4605,"children":4606},{"class":109,"line":1695},[4607,4611,4615],{"type":21,"tag":107,"props":4608,"children":4609},{"style":124},[4610],{"type":27,"value":2820},{"type":21,"tag":107,"props":4612,"children":4613},{"style":1506},[4614],{"type":27,"value":2807},{"type":21,"tag":107,"props":4616,"children":4617},{"style":136},[4618],{"type":27,"value":2365},{"type":21,"tag":107,"props":4620,"children":4621},{"class":109,"line":1703},[4622],{"type":21,"tag":107,"props":4623,"children":4624},{"emptyLinePlaceholder":5},[4625],{"type":27,"value":148},{"type":21,"tag":107,"props":4627,"children":4628},{"class":109,"line":1712},[4629],{"type":21,"tag":107,"props":4630,"children":4631},{"style":114},[4632],{"type":27,"value":4633},"# 取s2的差集\n",{"type":21,"tag":107,"props":4635,"children":4636},{"class":109,"line":1725},[4637,4641],{"type":21,"tag":107,"props":4638,"children":4639},{"style":828},[4640],{"type":27,"value":1503},{"type":21,"tag":107,"props":4642,"children":4643},{"style":1506},[4644],{"type":27,"value":4645}," sdiff s2 s1\n",{"type":21,"tag":107,"props":4647,"children":4648},{"class":109,"line":2009},[4649,4653,4657],{"type":21,"tag":107,"props":4650,"children":4651},{"style":124},[4652],{"type":27,"value":2802},{"type":21,"tag":107,"props":4654,"children":4655},{"style":1506},[4656],{"type":27,"value":2807},{"type":21,"tag":107,"props":4658,"children":4659},{"style":136},[4660],{"type":27,"value":4010},{"type":21,"tag":107,"props":4662,"children":4663},{"class":109,"line":2026},[4664,4668,4672],{"type":21,"tag":107,"props":4665,"children":4666},{"style":124},[4667],{"type":27,"value":2820},{"type":21,"tag":107,"props":4669,"children":4670},{"style":1506},[4671],{"type":27,"value":2807},{"type":21,"tag":107,"props":4673,"children":4674},{"style":136},[4675],{"type":27,"value":4500},{"type":21,"tag":91,"props":4677,"children":4679},{"id":4678},"使用情境",[4680],{"type":27,"value":4678},{"type":21,"tag":59,"props":4682,"children":4683},{},[4684,4689,4694],{"type":21,"tag":63,"props":4685,"children":4686},{},[4687],{"type":27,"value":4688},"實現抽獎功能，例如: 在一個抽獎活動中，可以使用 sets 將所有的參與者的訊息加入到集合中",{"type":21,"tag":63,"props":4690,"children":4691},{},[4692],{"type":27,"value":4693},"統計網站拜訪過的 IP。將拜訪過的使用者 IP 進行加入到集合中，由於 set 可以防止重複訊息，因此最終可以顯示唯一。",{"type":21,"tag":63,"props":4695,"children":4696},{},[4697],{"type":27,"value":4698},"追蹤聊天室的成員，並通過集合運算來管理成員的列表。",{"type":21,"tag":53,"props":4700,"children":4702},{"id":4701},"sorted-sets",[4703],{"type":27,"value":4704},"Sorted sets",{"type":21,"tag":59,"props":4706,"children":4707},{},[4708,4726],{"type":21,"tag":63,"props":4709,"children":4710},{},[4711,4713,4718,4720,4724],{"type":27,"value":4712},"Reids 有序集合 zset 與普通的 set 非常相似，也是一個沒有重複元素的字串集合。不同之處在於 zset 的",{"type":21,"tag":35,"props":4714,"children":4715},{"className":13},[4716],{"type":27,"value":4717},"\u003Cvalue>",{"type":27,"value":4719},"都關聯一個評分(score)，這個評分(score)被用來按照從低分到最高分的方式排序。集合的",{"type":21,"tag":35,"props":4721,"children":4722},{"className":13},[4723],{"type":27,"value":4717},{"type":27,"value":4725},"是唯一的，但評分(score)可以是重複的。",{"type":21,"tag":63,"props":4727,"children":4728},{},[4729,4731,4735],{"type":27,"value":4730},"因為元素是有序的，所以可以根據評分(score)或者次序(postion)來獲取一個範圍的元素。存取 zset 的中間元素也是非常快的，因此你能夠 zset 做為一個沒有重複",{"type":21,"tag":35,"props":4732,"children":4733},{"className":13},[4734],{"type":27,"value":4717},{"type":27,"value":4736},"的智能列表。",{"type":21,"tag":91,"props":4738,"children":4740},{"id":4739},"常用指令-4",[4741],{"type":27,"value":1471},{"type":21,"tag":1475,"props":4743,"children":4745},{"id":4744},"zadd-zrange-zrangebyscore-zrevrangebyscore",[4746],{"type":27,"value":4747},"zadd / zrange / zrangebyscore / zrevrangebyscore",{"type":21,"tag":97,"props":4749,"children":4751},{"className":99,"code":4750,"language":101,"meta":13,"style":13},"# 增加參數\n> zadd z1 100 chang 200 chen 150 huang\n(integer) 3\n\n# 查看原本資料\n> zrange z1 0 -1\n1) \"chang\"\n2) \"huang\"\n3) \"chen\"\n\n# 替huang的score增加51為150+51 = 201\n> zincrby z1 51 huang\n\"201\"\n\n# 查看修改後的資料\n> zrange z1 0 -1 withscores\n1) \"chang\"\n2) \"100\"\n3) \"chen\"\n4) \"150\"\n5) \"huang\"\n6) \"201\"\n\n# 統計z1中的100~200分數之間有幾個\n> zcount z1 100 200\n(integer) 2\n\n# 取得該\u003Ckey>集合中的排名，由0開始計算\n> zrank z1 chen\n(integer) 1\n\n# 取不到數值時，則回傳(nil)\n> zrank z1 error\n(nil)\n\n# 刪除該z1中的chen\n> zrem z1 chen\n(integer) 1\n",[4752],{"type":21,"tag":35,"props":4753,"children":4754},{"__ignoreMap":13},[4755,4763,4775,4791,4798,4806,4818,4834,4850,4866,4873,4881,4893,4901,4908,4916,4928,4943,4959,4974,4990,5005,5020,5027,5035,5047,5062,5069,5077,5089,5104,5111,5119,5131,5146,5153,5161,5173],{"type":21,"tag":107,"props":4756,"children":4757},{"class":109,"line":110},[4758],{"type":21,"tag":107,"props":4759,"children":4760},{"style":114},[4761],{"type":27,"value":4762},"# 增加參數\n",{"type":21,"tag":107,"props":4764,"children":4765},{"class":109,"line":120},[4766,4770],{"type":21,"tag":107,"props":4767,"children":4768},{"style":828},[4769],{"type":27,"value":1503},{"type":21,"tag":107,"props":4771,"children":4772},{"style":1506},[4773],{"type":27,"value":4774}," zadd z1 100 chang 200 chen 150 huang\n",{"type":21,"tag":107,"props":4776,"children":4777},{"class":109,"line":142},[4778,4782,4786],{"type":21,"tag":107,"props":4779,"children":4780},{"style":1506},[4781],{"type":27,"value":1606},{"type":21,"tag":107,"props":4783,"children":4784},{"style":124},[4785],{"type":27,"value":1611},{"type":21,"tag":107,"props":4787,"children":4788},{"style":1506},[4789],{"type":27,"value":4790},") 3\n",{"type":21,"tag":107,"props":4792,"children":4793},{"class":109,"line":151},[4794],{"type":21,"tag":107,"props":4795,"children":4796},{"emptyLinePlaceholder":5},[4797],{"type":27,"value":148},{"type":21,"tag":107,"props":4799,"children":4800},{"class":109,"line":160},[4801],{"type":21,"tag":107,"props":4802,"children":4803},{"style":114},[4804],{"type":27,"value":4805},"# 查看原本資料\n",{"type":21,"tag":107,"props":4807,"children":4808},{"class":109,"line":179},[4809,4813],{"type":21,"tag":107,"props":4810,"children":4811},{"style":828},[4812],{"type":27,"value":1503},{"type":21,"tag":107,"props":4814,"children":4815},{"style":1506},[4816],{"type":27,"value":4817}," zrange z1 0 -1\n",{"type":21,"tag":107,"props":4819,"children":4820},{"class":109,"line":187},[4821,4825,4829],{"type":21,"tag":107,"props":4822,"children":4823},{"style":124},[4824],{"type":27,"value":2802},{"type":21,"tag":107,"props":4826,"children":4827},{"style":1506},[4828],{"type":27,"value":2807},{"type":21,"tag":107,"props":4830,"children":4831},{"style":136},[4832],{"type":27,"value":4833},"\"chang\"\n",{"type":21,"tag":107,"props":4835,"children":4836},{"class":109,"line":196},[4837,4841,4845],{"type":21,"tag":107,"props":4838,"children":4839},{"style":124},[4840],{"type":27,"value":2820},{"type":21,"tag":107,"props":4842,"children":4843},{"style":1506},[4844],{"type":27,"value":2807},{"type":21,"tag":107,"props":4846,"children":4847},{"style":136},[4848],{"type":27,"value":4849},"\"huang\"\n",{"type":21,"tag":107,"props":4851,"children":4852},{"class":109,"line":209},[4853,4857,4861],{"type":21,"tag":107,"props":4854,"children":4855},{"style":124},[4856],{"type":27,"value":2837},{"type":21,"tag":107,"props":4858,"children":4859},{"style":1506},[4860],{"type":27,"value":2807},{"type":21,"tag":107,"props":4862,"children":4863},{"style":136},[4864],{"type":27,"value":4865},"\"chen\"\n",{"type":21,"tag":107,"props":4867,"children":4868},{"class":109,"line":217},[4869],{"type":21,"tag":107,"props":4870,"children":4871},{"emptyLinePlaceholder":5},[4872],{"type":27,"value":148},{"type":21,"tag":107,"props":4874,"children":4875},{"class":109,"line":226},[4876],{"type":21,"tag":107,"props":4877,"children":4878},{"style":114},[4879],{"type":27,"value":4880},"# 替huang的score增加51為150+51 = 201\n",{"type":21,"tag":107,"props":4882,"children":4883},{"class":109,"line":241},[4884,4888],{"type":21,"tag":107,"props":4885,"children":4886},{"style":828},[4887],{"type":27,"value":1503},{"type":21,"tag":107,"props":4889,"children":4890},{"style":1506},[4891],{"type":27,"value":4892}," zincrby z1 51 huang\n",{"type":21,"tag":107,"props":4894,"children":4895},{"class":109,"line":249},[4896],{"type":21,"tag":107,"props":4897,"children":4898},{"style":124},[4899],{"type":27,"value":4900},"\"201\"\n",{"type":21,"tag":107,"props":4902,"children":4903},{"class":109,"line":258},[4904],{"type":21,"tag":107,"props":4905,"children":4906},{"emptyLinePlaceholder":5},[4907],{"type":27,"value":148},{"type":21,"tag":107,"props":4909,"children":4910},{"class":109,"line":267},[4911],{"type":21,"tag":107,"props":4912,"children":4913},{"style":114},[4914],{"type":27,"value":4915},"# 查看修改後的資料\n",{"type":21,"tag":107,"props":4917,"children":4918},{"class":109,"line":275},[4919,4923],{"type":21,"tag":107,"props":4920,"children":4921},{"style":828},[4922],{"type":27,"value":1503},{"type":21,"tag":107,"props":4924,"children":4925},{"style":1506},[4926],{"type":27,"value":4927}," zrange z1 0 -1 withscores\n",{"type":21,"tag":107,"props":4929,"children":4930},{"class":109,"line":284},[4931,4935,4939],{"type":21,"tag":107,"props":4932,"children":4933},{"style":124},[4934],{"type":27,"value":2802},{"type":21,"tag":107,"props":4936,"children":4937},{"style":1506},[4938],{"type":27,"value":2807},{"type":21,"tag":107,"props":4940,"children":4941},{"style":136},[4942],{"type":27,"value":4833},{"type":21,"tag":107,"props":4944,"children":4945},{"class":109,"line":303},[4946,4950,4954],{"type":21,"tag":107,"props":4947,"children":4948},{"style":124},[4949],{"type":27,"value":2820},{"type":21,"tag":107,"props":4951,"children":4952},{"style":1506},[4953],{"type":27,"value":2807},{"type":21,"tag":107,"props":4955,"children":4956},{"style":136},[4957],{"type":27,"value":4958},"\"100\"\n",{"type":21,"tag":107,"props":4960,"children":4961},{"class":109,"line":311},[4962,4966,4970],{"type":21,"tag":107,"props":4963,"children":4964},{"style":124},[4965],{"type":27,"value":2837},{"type":21,"tag":107,"props":4967,"children":4968},{"style":1506},[4969],{"type":27,"value":2807},{"type":21,"tag":107,"props":4971,"children":4972},{"style":136},[4973],{"type":27,"value":4865},{"type":21,"tag":107,"props":4975,"children":4976},{"class":109,"line":320},[4977,4981,4985],{"type":21,"tag":107,"props":4978,"children":4979},{"style":124},[4980],{"type":27,"value":3644},{"type":21,"tag":107,"props":4982,"children":4983},{"style":1506},[4984],{"type":27,"value":2807},{"type":21,"tag":107,"props":4986,"children":4987},{"style":136},[4988],{"type":27,"value":4989},"\"150\"\n",{"type":21,"tag":107,"props":4991,"children":4992},{"class":109,"line":339},[4993,4997,5001],{"type":21,"tag":107,"props":4994,"children":4995},{"style":124},[4996],{"type":27,"value":4001},{"type":21,"tag":107,"props":4998,"children":4999},{"style":1506},[5000],{"type":27,"value":2807},{"type":21,"tag":107,"props":5002,"children":5003},{"style":136},[5004],{"type":27,"value":4849},{"type":21,"tag":107,"props":5006,"children":5007},{"class":109,"line":1695},[5008,5012,5016],{"type":21,"tag":107,"props":5009,"children":5010},{"style":124},[5011],{"type":27,"value":4553},{"type":21,"tag":107,"props":5013,"children":5014},{"style":1506},[5015],{"type":27,"value":2807},{"type":21,"tag":107,"props":5017,"children":5018},{"style":136},[5019],{"type":27,"value":4900},{"type":21,"tag":107,"props":5021,"children":5022},{"class":109,"line":1703},[5023],{"type":21,"tag":107,"props":5024,"children":5025},{"emptyLinePlaceholder":5},[5026],{"type":27,"value":148},{"type":21,"tag":107,"props":5028,"children":5029},{"class":109,"line":1712},[5030],{"type":21,"tag":107,"props":5031,"children":5032},{"style":114},[5033],{"type":27,"value":5034},"# 統計z1中的100~200分數之間有幾個\n",{"type":21,"tag":107,"props":5036,"children":5037},{"class":109,"line":1725},[5038,5042],{"type":21,"tag":107,"props":5039,"children":5040},{"style":828},[5041],{"type":27,"value":1503},{"type":21,"tag":107,"props":5043,"children":5044},{"style":1506},[5045],{"type":27,"value":5046}," zcount z1 100 200\n",{"type":21,"tag":107,"props":5048,"children":5049},{"class":109,"line":2009},[5050,5054,5058],{"type":21,"tag":107,"props":5051,"children":5052},{"style":1506},[5053],{"type":27,"value":1606},{"type":21,"tag":107,"props":5055,"children":5056},{"style":124},[5057],{"type":27,"value":1611},{"type":21,"tag":107,"props":5059,"children":5060},{"style":1506},[5061],{"type":27,"value":1899},{"type":21,"tag":107,"props":5063,"children":5064},{"class":109,"line":2026},[5065],{"type":21,"tag":107,"props":5066,"children":5067},{"emptyLinePlaceholder":5},[5068],{"type":27,"value":148},{"type":21,"tag":107,"props":5070,"children":5071},{"class":109,"line":2034},[5072],{"type":21,"tag":107,"props":5073,"children":5074},{"style":114},[5075],{"type":27,"value":5076},"# 取得該\u003Ckey>集合中的排名，由0開始計算\n",{"type":21,"tag":107,"props":5078,"children":5079},{"class":109,"line":2043},[5080,5084],{"type":21,"tag":107,"props":5081,"children":5082},{"style":828},[5083],{"type":27,"value":1503},{"type":21,"tag":107,"props":5085,"children":5086},{"style":1506},[5087],{"type":27,"value":5088}," zrank z1 chen\n",{"type":21,"tag":107,"props":5090,"children":5091},{"class":109,"line":2056},[5092,5096,5100],{"type":21,"tag":107,"props":5093,"children":5094},{"style":1506},[5095],{"type":27,"value":1606},{"type":21,"tag":107,"props":5097,"children":5098},{"style":124},[5099],{"type":27,"value":1611},{"type":21,"tag":107,"props":5101,"children":5102},{"style":1506},[5103],{"type":27,"value":1857},{"type":21,"tag":107,"props":5105,"children":5106},{"class":109,"line":2065},[5107],{"type":21,"tag":107,"props":5108,"children":5109},{"emptyLinePlaceholder":5},[5110],{"type":27,"value":148},{"type":21,"tag":107,"props":5112,"children":5113},{"class":109,"line":2073},[5114],{"type":21,"tag":107,"props":5115,"children":5116},{"style":114},[5117],{"type":27,"value":5118},"# 取不到數值時，則回傳(nil)\n",{"type":21,"tag":107,"props":5120,"children":5121},{"class":109,"line":2082},[5122,5126],{"type":21,"tag":107,"props":5123,"children":5124},{"style":828},[5125],{"type":27,"value":1503},{"type":21,"tag":107,"props":5127,"children":5128},{"style":1506},[5129],{"type":27,"value":5130}," zrank z1 error\n",{"type":21,"tag":107,"props":5132,"children":5133},{"class":109,"line":2095},[5134,5138,5142],{"type":21,"tag":107,"props":5135,"children":5136},{"style":1506},[5137],{"type":27,"value":1606},{"type":21,"tag":107,"props":5139,"children":5140},{"style":124},[5141],{"type":27,"value":2626},{"type":21,"tag":107,"props":5143,"children":5144},{"style":1506},[5145],{"type":27,"value":2631},{"type":21,"tag":107,"props":5147,"children":5148},{"class":109,"line":2112},[5149],{"type":21,"tag":107,"props":5150,"children":5151},{"emptyLinePlaceholder":5},[5152],{"type":27,"value":148},{"type":21,"tag":107,"props":5154,"children":5155},{"class":109,"line":2120},[5156],{"type":21,"tag":107,"props":5157,"children":5158},{"style":114},[5159],{"type":27,"value":5160},"# 刪除該z1中的chen\n",{"type":21,"tag":107,"props":5162,"children":5163},{"class":109,"line":2129},[5164,5168],{"type":21,"tag":107,"props":5165,"children":5166},{"style":828},[5167],{"type":27,"value":1503},{"type":21,"tag":107,"props":5169,"children":5170},{"style":1506},[5171],{"type":27,"value":5172}," zrem z1 chen\n",{"type":21,"tag":107,"props":5174,"children":5175},{"class":109,"line":2142},[5176,5180,5184],{"type":21,"tag":107,"props":5177,"children":5178},{"style":1506},[5179],{"type":27,"value":1606},{"type":21,"tag":107,"props":5181,"children":5182},{"style":124},[5183],{"type":27,"value":1611},{"type":21,"tag":107,"props":5185,"children":5186},{"style":1506},[5187],{"type":27,"value":1857},{"type":21,"tag":91,"props":5189,"children":5191},{"id":5190},"使用情境-1",[5192],{"type":27,"value":4678},{"type":21,"tag":59,"props":5194,"children":5195},{},[5196,5201,5206],{"type":21,"tag":63,"props":5197,"children":5198},{},[5199],{"type":27,"value":5200},"實現一個文章的閱讀排行榜",{"type":21,"tag":63,"props":5202,"children":5203},{},[5204],{"type":27,"value":5205},"根據時間排序的新聞列表",{"type":21,"tag":63,"props":5207,"children":5208},{},[5209],{"type":27,"value":5210},"直播聊天室中的送禮排行榜",{"type":21,"tag":22,"props":5212,"children":5214},{"id":5213},"其他常用功能",[5215],{"type":27,"value":5213},{"type":21,"tag":53,"props":5217,"children":5219},{"id":5218},"transactions",[5220],{"type":27,"value":5221},"Transactions",{"type":21,"tag":91,"props":5223,"children":5225},{"id":5224},"介紹",[5226],{"type":27,"value":5224},{"type":21,"tag":59,"props":5228,"children":5229},{},[5230,5235],{"type":21,"tag":63,"props":5231,"children":5232},{},[5233],{"type":27,"value":5234},"Reids 事務是一個單獨的隔離操作，事務中的所有命令都會被序列化、按順序地執行。事務在執行的過程中，不會被其他客戶端發送來的命令請求給中斷。",{"type":21,"tag":63,"props":5236,"children":5237},{},[5238],{"type":27,"value":5239},"Redis 事務的主要作用就是串聯多個命令防止別的命令插隊",{"type":21,"tag":91,"props":5241,"children":5243},{"id":5242},"multi-exec-discard",[5244],{"type":27,"value":5245},"Multi / Exec / discard",{"type":21,"tag":59,"props":5247,"children":5248},{},[5249,5268],{"type":21,"tag":63,"props":5250,"children":5251},{},[5252,5254,5259,5261,5266],{"type":27,"value":5253},"從輸入",{"type":21,"tag":35,"props":5255,"children":5256},{"className":13},[5257],{"type":27,"value":5258},"Multi",{"type":27,"value":5260},"指令開始，輸入的命令都會依次進入命令柱列中，但不會執行，直到輸入",{"type":21,"tag":35,"props":5262,"children":5263},{"className":13},[5264],{"type":27,"value":5265},"Exec",{"type":27,"value":5267},"後，Redis 會將之前的命令柱列中的命令依序執行",{"type":21,"tag":63,"props":5269,"children":5270},{},[5271,5273,5278],{"type":27,"value":5272},"如果不想要這次的命令柱列，我們可以透過",{"type":21,"tag":35,"props":5274,"children":5275},{"className":13},[5276],{"type":27,"value":5277},"discard",{"type":27,"value":5279},"來進行放棄。",{"type":21,"tag":29,"props":5281,"children":5282},{},[5283,5285,5290,5291,5296],{"type":27,"value":5284},"使用一個",{"type":21,"tag":69,"props":5286,"children":5287},{},[5288],{"type":27,"value":5289},"Client A",{"type":27,"value":1272},{"type":21,"tag":69,"props":5292,"children":5293},{},[5294],{"type":27,"value":5295},"Client B",{"type":27,"value":5297},"來進行模擬操作",{"type":21,"tag":97,"props":5299,"children":5301},{"className":99,"code":5300,"language":101,"meta":13,"style":13},"# Client A 開啟事務\n> Multi\nOK\n\n# Client A執行操作\n(TX)> set k1 v1\nQUEUED\n\n# Client A執行操作\n(TX)> get k1\nQUEUED\n\n# Client B執行操作\n> set k1 v100\nOK\n\n# Client A執行操作，可以發現將一連串的動作執行操作，不受Client B客戶端的操作\n(TX)> Exec\n1) OK\n2) \"v1\"\n",[5302],{"type":21,"tag":35,"props":5303,"children":5304},{"__ignoreMap":13},[5305,5313,5325,5332,5339,5347,5372,5380,5387,5394,5417,5424,5431,5439,5451,5458,5465,5473,5497,5509],{"type":21,"tag":107,"props":5306,"children":5307},{"class":109,"line":110},[5308],{"type":21,"tag":107,"props":5309,"children":5310},{"style":114},[5311],{"type":27,"value":5312},"# Client A 開啟事務\n",{"type":21,"tag":107,"props":5314,"children":5315},{"class":109,"line":120},[5316,5320],{"type":21,"tag":107,"props":5317,"children":5318},{"style":828},[5319],{"type":27,"value":1503},{"type":21,"tag":107,"props":5321,"children":5322},{"style":1506},[5323],{"type":27,"value":5324}," Multi\n",{"type":21,"tag":107,"props":5326,"children":5327},{"class":109,"line":142},[5328],{"type":21,"tag":107,"props":5329,"children":5330},{"style":124},[5331],{"type":27,"value":2666},{"type":21,"tag":107,"props":5333,"children":5334},{"class":109,"line":151},[5335],{"type":21,"tag":107,"props":5336,"children":5337},{"emptyLinePlaceholder":5},[5338],{"type":27,"value":148},{"type":21,"tag":107,"props":5340,"children":5341},{"class":109,"line":160},[5342],{"type":21,"tag":107,"props":5343,"children":5344},{"style":114},[5345],{"type":27,"value":5346},"# Client A執行操作\n",{"type":21,"tag":107,"props":5348,"children":5349},{"class":109,"line":179},[5350,5354,5359,5364,5368],{"type":21,"tag":107,"props":5351,"children":5352},{"style":1506},[5353],{"type":27,"value":1606},{"type":21,"tag":107,"props":5355,"children":5356},{"style":124},[5357],{"type":27,"value":5358},"TX",{"type":21,"tag":107,"props":5360,"children":5361},{"style":1506},[5362],{"type":27,"value":5363},")",{"type":21,"tag":107,"props":5365,"children":5366},{"style":828},[5367],{"type":27,"value":1503},{"type":21,"tag":107,"props":5369,"children":5370},{"style":1506},[5371],{"type":27,"value":1509},{"type":21,"tag":107,"props":5373,"children":5374},{"class":109,"line":187},[5375],{"type":21,"tag":107,"props":5376,"children":5377},{"style":124},[5378],{"type":27,"value":5379},"QUEUED\n",{"type":21,"tag":107,"props":5381,"children":5382},{"class":109,"line":196},[5383],{"type":21,"tag":107,"props":5384,"children":5385},{"emptyLinePlaceholder":5},[5386],{"type":27,"value":148},{"type":21,"tag":107,"props":5388,"children":5389},{"class":109,"line":209},[5390],{"type":21,"tag":107,"props":5391,"children":5392},{"style":114},[5393],{"type":27,"value":5346},{"type":21,"tag":107,"props":5395,"children":5396},{"class":109,"line":217},[5397,5401,5405,5409,5413],{"type":21,"tag":107,"props":5398,"children":5399},{"style":1506},[5400],{"type":27,"value":1606},{"type":21,"tag":107,"props":5402,"children":5403},{"style":124},[5404],{"type":27,"value":5358},{"type":21,"tag":107,"props":5406,"children":5407},{"style":1506},[5408],{"type":27,"value":5363},{"type":21,"tag":107,"props":5410,"children":5411},{"style":828},[5412],{"type":27,"value":1503},{"type":21,"tag":107,"props":5414,"children":5415},{"style":1506},[5416],{"type":27,"value":1563},{"type":21,"tag":107,"props":5418,"children":5419},{"class":109,"line":226},[5420],{"type":21,"tag":107,"props":5421,"children":5422},{"style":124},[5423],{"type":27,"value":5379},{"type":21,"tag":107,"props":5425,"children":5426},{"class":109,"line":241},[5427],{"type":21,"tag":107,"props":5428,"children":5429},{"emptyLinePlaceholder":5},[5430],{"type":27,"value":148},{"type":21,"tag":107,"props":5432,"children":5433},{"class":109,"line":249},[5434],{"type":21,"tag":107,"props":5435,"children":5436},{"style":114},[5437],{"type":27,"value":5438},"# Client B執行操作\n",{"type":21,"tag":107,"props":5440,"children":5441},{"class":109,"line":258},[5442,5446],{"type":21,"tag":107,"props":5443,"children":5444},{"style":828},[5445],{"type":27,"value":1503},{"type":21,"tag":107,"props":5447,"children":5448},{"style":1506},[5449],{"type":27,"value":5450}," set k1 v100\n",{"type":21,"tag":107,"props":5452,"children":5453},{"class":109,"line":267},[5454],{"type":21,"tag":107,"props":5455,"children":5456},{"style":124},[5457],{"type":27,"value":2666},{"type":21,"tag":107,"props":5459,"children":5460},{"class":109,"line":275},[5461],{"type":21,"tag":107,"props":5462,"children":5463},{"emptyLinePlaceholder":5},[5464],{"type":27,"value":148},{"type":21,"tag":107,"props":5466,"children":5467},{"class":109,"line":284},[5468],{"type":21,"tag":107,"props":5469,"children":5470},{"style":114},[5471],{"type":27,"value":5472},"# Client A執行操作，可以發現將一連串的動作執行操作，不受Client B客戶端的操作\n",{"type":21,"tag":107,"props":5474,"children":5475},{"class":109,"line":303},[5476,5480,5484,5488,5492],{"type":21,"tag":107,"props":5477,"children":5478},{"style":1506},[5479],{"type":27,"value":1606},{"type":21,"tag":107,"props":5481,"children":5482},{"style":124},[5483],{"type":27,"value":5358},{"type":21,"tag":107,"props":5485,"children":5486},{"style":1506},[5487],{"type":27,"value":5363},{"type":21,"tag":107,"props":5489,"children":5490},{"style":828},[5491],{"type":27,"value":1503},{"type":21,"tag":107,"props":5493,"children":5494},{"style":1506},[5495],{"type":27,"value":5496}," Exec\n",{"type":21,"tag":107,"props":5498,"children":5499},{"class":109,"line":311},[5500,5504],{"type":21,"tag":107,"props":5501,"children":5502},{"style":124},[5503],{"type":27,"value":2802},{"type":21,"tag":107,"props":5505,"children":5506},{"style":1506},[5507],{"type":27,"value":5508},") OK\n",{"type":21,"tag":107,"props":5510,"children":5511},{"class":109,"line":320},[5512,5516,5520],{"type":21,"tag":107,"props":5513,"children":5514},{"style":124},[5515],{"type":27,"value":2820},{"type":21,"tag":107,"props":5517,"children":5518},{"style":1506},[5519],{"type":27,"value":2807},{"type":21,"tag":107,"props":5521,"children":5522},{"style":136},[5523],{"type":27,"value":3418},{"type":21,"tag":29,"props":5525,"children":5526},{},[5527],{"type":27,"value":5528},"將事務進行丟棄",{"type":21,"tag":97,"props":5530,"children":5532},{"className":99,"code":5531,"language":101,"meta":13,"style":13},"# 開啟事務\n> Multi\nOK\n\n# 設定k7數值，不小心打錯\n(TX)> set k7\n(error) ERR wrong number of arguments for 'set' command\n\n# 將本次事務進行丟棄\nlocalhost:6379(TX)> discard\nOK\n",[5533],{"type":21,"tag":35,"props":5534,"children":5535},{"__ignoreMap":13},[5536,5544,5555,5562,5569,5577,5601,5632,5639,5647,5668],{"type":21,"tag":107,"props":5537,"children":5538},{"class":109,"line":110},[5539],{"type":21,"tag":107,"props":5540,"children":5541},{"style":114},[5542],{"type":27,"value":5543},"# 開啟事務\n",{"type":21,"tag":107,"props":5545,"children":5546},{"class":109,"line":120},[5547,5551],{"type":21,"tag":107,"props":5548,"children":5549},{"style":828},[5550],{"type":27,"value":1503},{"type":21,"tag":107,"props":5552,"children":5553},{"style":1506},[5554],{"type":27,"value":5324},{"type":21,"tag":107,"props":5556,"children":5557},{"class":109,"line":142},[5558],{"type":21,"tag":107,"props":5559,"children":5560},{"style":124},[5561],{"type":27,"value":2666},{"type":21,"tag":107,"props":5563,"children":5564},{"class":109,"line":151},[5565],{"type":21,"tag":107,"props":5566,"children":5567},{"emptyLinePlaceholder":5},[5568],{"type":27,"value":148},{"type":21,"tag":107,"props":5570,"children":5571},{"class":109,"line":160},[5572],{"type":21,"tag":107,"props":5573,"children":5574},{"style":114},[5575],{"type":27,"value":5576},"# 設定k7數值，不小心打錯\n",{"type":21,"tag":107,"props":5578,"children":5579},{"class":109,"line":179},[5580,5584,5588,5592,5596],{"type":21,"tag":107,"props":5581,"children":5582},{"style":1506},[5583],{"type":27,"value":1606},{"type":21,"tag":107,"props":5585,"children":5586},{"style":124},[5587],{"type":27,"value":5358},{"type":21,"tag":107,"props":5589,"children":5590},{"style":1506},[5591],{"type":27,"value":5363},{"type":21,"tag":107,"props":5593,"children":5594},{"style":828},[5595],{"type":27,"value":1503},{"type":21,"tag":107,"props":5597,"children":5598},{"style":1506},[5599],{"type":27,"value":5600}," set k7\n",{"type":21,"tag":107,"props":5602,"children":5603},{"class":109,"line":187},[5604,5608,5612,5617,5622,5627],{"type":21,"tag":107,"props":5605,"children":5606},{"style":1506},[5607],{"type":27,"value":1606},{"type":21,"tag":107,"props":5609,"children":5610},{"style":124},[5611],{"type":27,"value":1809},{"type":21,"tag":107,"props":5613,"children":5614},{"style":1506},[5615],{"type":27,"value":5616},") ERR wrong number of arguments ",{"type":21,"tag":107,"props":5618,"children":5619},{"style":828},[5620],{"type":27,"value":5621},"for",{"type":21,"tag":107,"props":5623,"children":5624},{"style":136},[5625],{"type":27,"value":5626}," 'set'",{"type":21,"tag":107,"props":5628,"children":5629},{"style":1506},[5630],{"type":27,"value":5631}," command\n",{"type":21,"tag":107,"props":5633,"children":5634},{"class":109,"line":196},[5635],{"type":21,"tag":107,"props":5636,"children":5637},{"emptyLinePlaceholder":5},[5638],{"type":27,"value":148},{"type":21,"tag":107,"props":5640,"children":5641},{"class":109,"line":209},[5642],{"type":21,"tag":107,"props":5643,"children":5644},{"style":114},[5645],{"type":27,"value":5646},"# 將本次事務進行丟棄\n",{"type":21,"tag":107,"props":5648,"children":5649},{"class":109,"line":217},[5650,5655,5659,5663],{"type":21,"tag":107,"props":5651,"children":5652},{"style":124},[5653],{"type":27,"value":5654},"localhost:6379(TX",{"type":21,"tag":107,"props":5656,"children":5657},{"style":1506},[5658],{"type":27,"value":5363},{"type":21,"tag":107,"props":5660,"children":5661},{"style":828},[5662],{"type":27,"value":1503},{"type":21,"tag":107,"props":5664,"children":5665},{"style":1506},[5666],{"type":27,"value":5667}," discard\n",{"type":21,"tag":107,"props":5669,"children":5670},{"class":109,"line":226},[5671],{"type":21,"tag":107,"props":5672,"children":5673},{"style":124},[5674],{"type":27,"value":2666},{"type":21,"tag":91,"props":5676,"children":5678},{"id":5677},"使用-watch-unwatch-指令-樂觀鎖",[5679],{"type":27,"value":5680},"使用 watch / unwatch 指令 (樂觀鎖)",{"type":21,"tag":59,"props":5682,"children":5683},{},[5684,5721],{"type":21,"tag":63,"props":5685,"children":5686},{},[5687,5692],{"type":21,"tag":35,"props":5688,"children":5689},{"className":13},[5690],{"type":27,"value":5691},"watch",{"type":21,"tag":59,"props":5693,"children":5694},{},[5695],{"type":21,"tag":63,"props":5696,"children":5697},{},[5698,5700,5705,5707,5712,5714,5719],{"type":27,"value":5699},"在執行",{"type":21,"tag":35,"props":5701,"children":5702},{"className":13},[5703],{"type":27,"value":5704},"multi",{"type":27,"value":5706},"之前，先執行",{"type":21,"tag":35,"props":5708,"children":5709},{"className":13},[5710],{"type":27,"value":5711},"watch \u003Ckey1> \u003Ckey2>",{"type":27,"value":5713},"，可以監視一個或多個",{"type":21,"tag":35,"props":5715,"children":5716},{"className":13},[5717],{"type":27,"value":5718},"\u003Ckey>",{"type":27,"value":5720},"，如果事務執行之前，這個(或這些)key 的數值，被其他指令或他人改動過，那麼事務將被打斷。",{"type":21,"tag":63,"props":5722,"children":5723},{},[5724,5729],{"type":21,"tag":35,"props":5725,"children":5726},{"className":13},[5727],{"type":27,"value":5728},"unwatch",{"type":21,"tag":59,"props":5730,"children":5731},{},[5732,5744],{"type":21,"tag":63,"props":5733,"children":5734},{},[5735,5737,5742],{"type":27,"value":5736},"取消",{"type":21,"tag":35,"props":5738,"children":5739},{"className":13},[5740],{"type":27,"value":5741},"WATCH",{"type":27,"value":5743},"命令對所有 key 的監控",{"type":21,"tag":63,"props":5745,"children":5746},{},[5747,5749,5753,5755,5760,5761,5766,5768,5773],{"type":27,"value":5748},"如果在執行",{"type":21,"tag":35,"props":5750,"children":5751},{"className":13},[5752],{"type":27,"value":5741},{"type":27,"value":5754},"命令之後，",{"type":21,"tag":35,"props":5756,"children":5757},{"className":13},[5758],{"type":27,"value":5759},"EXEC",{"type":27,"value":3103},{"type":21,"tag":35,"props":5762,"children":5763},{"className":13},[5764],{"type":27,"value":5765},"DISCARD",{"type":27,"value":5767},"命令先被執行的話，就不需要在執行",{"type":21,"tag":35,"props":5769,"children":5770},{"className":13},[5771],{"type":27,"value":5772},"UNWATCH",{"type":27,"value":5774},"了",{"type":21,"tag":29,"props":5776,"children":5777},{},[5778,5780,5785,5787,5792],{"type":27,"value":5779},"使用 Redis 中",{"type":21,"tag":35,"props":5781,"children":5782},{"className":13},[5783],{"type":27,"value":5784},"Watch",{"type":27,"value":5786},"的功能，這種方式就是",{"type":21,"tag":35,"props":5788,"children":5789},{"className":13},[5790],{"type":27,"value":5791},"check-and-set",{"type":27,"value":5793},"機制",{"type":21,"tag":97,"props":5795,"children":5797},{"className":99,"code":5796,"language":101,"meta":13,"style":13},"# 初始化k1的數值為1 (Client A)\n> set k1 1\nOK\n\n# 啟用監看key k1功能 (Client A)\n> WATCH k1\nOK\n\n# 開啟事務交易 (Client A)\n> MULTI\nOK\n\n# 此時有人修改k1內的數值為4 (Client B)\n> set k1 4\nOK\n\n# 替k1的value進行+1 (Client A)\n(TX)> incr k1\nQUEUED\n\n# 替k1的value進行+1 (Client A)\n(TX)> incr k1\nQUEUED\n\n# 執行事務結果，可以發現執行是失敗的，沒有返回兩個結果 (Client A)\n(TX)> exec\n(nil)\n\n",[5798],{"type":21,"tag":35,"props":5799,"children":5800},{"__ignoreMap":13},[5801,5809,5821,5828,5835,5843,5855,5862,5869,5877,5889,5896,5903,5911,5923,5930,5937,5945,5968,5975,5982,5989,6012,6019,6026,6034,6058],{"type":21,"tag":107,"props":5802,"children":5803},{"class":109,"line":110},[5804],{"type":21,"tag":107,"props":5805,"children":5806},{"style":114},[5807],{"type":27,"value":5808},"# 初始化k1的數值為1 (Client A)\n",{"type":21,"tag":107,"props":5810,"children":5811},{"class":109,"line":120},[5812,5816],{"type":21,"tag":107,"props":5813,"children":5814},{"style":828},[5815],{"type":27,"value":1503},{"type":21,"tag":107,"props":5817,"children":5818},{"style":1506},[5819],{"type":27,"value":5820}," set k1 1\n",{"type":21,"tag":107,"props":5822,"children":5823},{"class":109,"line":142},[5824],{"type":21,"tag":107,"props":5825,"children":5826},{"style":124},[5827],{"type":27,"value":2666},{"type":21,"tag":107,"props":5829,"children":5830},{"class":109,"line":151},[5831],{"type":21,"tag":107,"props":5832,"children":5833},{"emptyLinePlaceholder":5},[5834],{"type":27,"value":148},{"type":21,"tag":107,"props":5836,"children":5837},{"class":109,"line":160},[5838],{"type":21,"tag":107,"props":5839,"children":5840},{"style":114},[5841],{"type":27,"value":5842},"# 啟用監看key k1功能 (Client A)\n",{"type":21,"tag":107,"props":5844,"children":5845},{"class":109,"line":179},[5846,5850],{"type":21,"tag":107,"props":5847,"children":5848},{"style":828},[5849],{"type":27,"value":1503},{"type":21,"tag":107,"props":5851,"children":5852},{"style":1506},[5853],{"type":27,"value":5854}," WATCH k1\n",{"type":21,"tag":107,"props":5856,"children":5857},{"class":109,"line":187},[5858],{"type":21,"tag":107,"props":5859,"children":5860},{"style":124},[5861],{"type":27,"value":2666},{"type":21,"tag":107,"props":5863,"children":5864},{"class":109,"line":196},[5865],{"type":21,"tag":107,"props":5866,"children":5867},{"emptyLinePlaceholder":5},[5868],{"type":27,"value":148},{"type":21,"tag":107,"props":5870,"children":5871},{"class":109,"line":209},[5872],{"type":21,"tag":107,"props":5873,"children":5874},{"style":114},[5875],{"type":27,"value":5876},"# 開啟事務交易 (Client A)\n",{"type":21,"tag":107,"props":5878,"children":5879},{"class":109,"line":217},[5880,5884],{"type":21,"tag":107,"props":5881,"children":5882},{"style":828},[5883],{"type":27,"value":1503},{"type":21,"tag":107,"props":5885,"children":5886},{"style":1506},[5887],{"type":27,"value":5888}," MULTI\n",{"type":21,"tag":107,"props":5890,"children":5891},{"class":109,"line":226},[5892],{"type":21,"tag":107,"props":5893,"children":5894},{"style":124},[5895],{"type":27,"value":2666},{"type":21,"tag":107,"props":5897,"children":5898},{"class":109,"line":241},[5899],{"type":21,"tag":107,"props":5900,"children":5901},{"emptyLinePlaceholder":5},[5902],{"type":27,"value":148},{"type":21,"tag":107,"props":5904,"children":5905},{"class":109,"line":249},[5906],{"type":21,"tag":107,"props":5907,"children":5908},{"style":114},[5909],{"type":27,"value":5910},"# 此時有人修改k1內的數值為4 (Client B)\n",{"type":21,"tag":107,"props":5912,"children":5913},{"class":109,"line":258},[5914,5918],{"type":21,"tag":107,"props":5915,"children":5916},{"style":828},[5917],{"type":27,"value":1503},{"type":21,"tag":107,"props":5919,"children":5920},{"style":1506},[5921],{"type":27,"value":5922}," set k1 4\n",{"type":21,"tag":107,"props":5924,"children":5925},{"class":109,"line":267},[5926],{"type":21,"tag":107,"props":5927,"children":5928},{"style":124},[5929],{"type":27,"value":2666},{"type":21,"tag":107,"props":5931,"children":5932},{"class":109,"line":275},[5933],{"type":21,"tag":107,"props":5934,"children":5935},{"emptyLinePlaceholder":5},[5936],{"type":27,"value":148},{"type":21,"tag":107,"props":5938,"children":5939},{"class":109,"line":284},[5940],{"type":21,"tag":107,"props":5941,"children":5942},{"style":114},[5943],{"type":27,"value":5944},"# 替k1的value進行+1 (Client A)\n",{"type":21,"tag":107,"props":5946,"children":5947},{"class":109,"line":303},[5948,5952,5956,5960,5964],{"type":21,"tag":107,"props":5949,"children":5950},{"style":1506},[5951],{"type":27,"value":1606},{"type":21,"tag":107,"props":5953,"children":5954},{"style":124},[5955],{"type":27,"value":5358},{"type":21,"tag":107,"props":5957,"children":5958},{"style":1506},[5959],{"type":27,"value":5363},{"type":21,"tag":107,"props":5961,"children":5962},{"style":828},[5963],{"type":27,"value":1503},{"type":21,"tag":107,"props":5965,"children":5966},{"style":1506},[5967],{"type":27,"value":1797},{"type":21,"tag":107,"props":5969,"children":5970},{"class":109,"line":311},[5971],{"type":21,"tag":107,"props":5972,"children":5973},{"style":124},[5974],{"type":27,"value":5379},{"type":21,"tag":107,"props":5976,"children":5977},{"class":109,"line":320},[5978],{"type":21,"tag":107,"props":5979,"children":5980},{"emptyLinePlaceholder":5},[5981],{"type":27,"value":148},{"type":21,"tag":107,"props":5983,"children":5984},{"class":109,"line":339},[5985],{"type":21,"tag":107,"props":5986,"children":5987},{"style":114},[5988],{"type":27,"value":5944},{"type":21,"tag":107,"props":5990,"children":5991},{"class":109,"line":1695},[5992,5996,6000,6004,6008],{"type":21,"tag":107,"props":5993,"children":5994},{"style":1506},[5995],{"type":27,"value":1606},{"type":21,"tag":107,"props":5997,"children":5998},{"style":124},[5999],{"type":27,"value":5358},{"type":21,"tag":107,"props":6001,"children":6002},{"style":1506},[6003],{"type":27,"value":5363},{"type":21,"tag":107,"props":6005,"children":6006},{"style":828},[6007],{"type":27,"value":1503},{"type":21,"tag":107,"props":6009,"children":6010},{"style":1506},[6011],{"type":27,"value":1797},{"type":21,"tag":107,"props":6013,"children":6014},{"class":109,"line":1703},[6015],{"type":21,"tag":107,"props":6016,"children":6017},{"style":124},[6018],{"type":27,"value":5379},{"type":21,"tag":107,"props":6020,"children":6021},{"class":109,"line":1712},[6022],{"type":21,"tag":107,"props":6023,"children":6024},{"emptyLinePlaceholder":5},[6025],{"type":27,"value":148},{"type":21,"tag":107,"props":6027,"children":6028},{"class":109,"line":1725},[6029],{"type":21,"tag":107,"props":6030,"children":6031},{"style":114},[6032],{"type":27,"value":6033},"# 執行事務結果，可以發現執行是失敗的，沒有返回兩個結果 (Client A)\n",{"type":21,"tag":107,"props":6035,"children":6036},{"class":109,"line":2009},[6037,6041,6045,6049,6053],{"type":21,"tag":107,"props":6038,"children":6039},{"style":1506},[6040],{"type":27,"value":1606},{"type":21,"tag":107,"props":6042,"children":6043},{"style":124},[6044],{"type":27,"value":5358},{"type":21,"tag":107,"props":6046,"children":6047},{"style":1506},[6048],{"type":27,"value":5363},{"type":21,"tag":107,"props":6050,"children":6051},{"style":828},[6052],{"type":27,"value":1503},{"type":21,"tag":107,"props":6054,"children":6055},{"style":1506},[6056],{"type":27,"value":6057}," exec\n",{"type":21,"tag":107,"props":6059,"children":6060},{"class":109,"line":2026},[6061,6065,6069],{"type":21,"tag":107,"props":6062,"children":6063},{"style":1506},[6064],{"type":27,"value":1606},{"type":21,"tag":107,"props":6066,"children":6067},{"style":124},[6068],{"type":27,"value":2626},{"type":21,"tag":107,"props":6070,"children":6071},{"style":1506},[6072],{"type":27,"value":2631},{"type":21,"tag":91,"props":6074,"children":6076},{"id":6075},"三大特性",[6077],{"type":27,"value":6075},{"type":21,"tag":59,"props":6079,"children":6080},{},[6081,6094,6107],{"type":21,"tag":63,"props":6082,"children":6083},{},[6084,6086],{"type":27,"value":6085},"單獨的隔離操作\n",{"type":21,"tag":59,"props":6087,"children":6088},{},[6089],{"type":21,"tag":63,"props":6090,"children":6091},{},[6092],{"type":27,"value":6093},"事務中所有命令都會序列化、按順序地執行。事務在執行的過程中，不會被其他客戶端發送來的命令請求打斷",{"type":21,"tag":63,"props":6095,"children":6096},{},[6097,6099],{"type":27,"value":6098},"沒有隔離級別的概念\n",{"type":21,"tag":59,"props":6100,"children":6101},{},[6102],{"type":21,"tag":63,"props":6103,"children":6104},{},[6105],{"type":27,"value":6106},"柱列中的命令沒有提交之前都不會實際的被執行，因為事務提交前任何指令都不會被實際執行",{"type":21,"tag":63,"props":6108,"children":6109},{},[6110,6112],{"type":27,"value":6111},"不保證原子性\n",{"type":21,"tag":59,"props":6113,"children":6114},{},[6115],{"type":21,"tag":63,"props":6116,"children":6117},{},[6118],{"type":27,"value":6119},"Redis 同一個事務中，如果有一條命令執行失敗了，其後面的命令仍然會被執行且沒有回滾(Rollback)",{"type":21,"tag":53,"props":6121,"children":6123},{"id":6122},"pubsub",[6124],{"type":27,"value":6125},"Pub/sub",{"type":21,"tag":91,"props":6127,"children":6129},{"id":6128},"使用上的限制",[6130],{"type":27,"value":6128},{"type":21,"tag":59,"props":6132,"children":6133},{},[6134,6139,6144,6149],{"type":21,"tag":63,"props":6135,"children":6136},{},[6137],{"type":27,"value":6138},"Pub/Sub 的內容，是不會用 Key 的方式去保存的，所以自然資料無法持久化，所以資料有可能會遺失。",{"type":21,"tag":63,"props":6140,"children":6141},{},[6142],{"type":27,"value":6143},"當發送者(Pub)有發送消息時且訂閱者(Sub)連線中斷，則訂閱者將無法接收到此筆訊息",{"type":21,"tag":63,"props":6145,"children":6146},{},[6147],{"type":27,"value":6148},"Redis Server 服務停止或當機，則資料會遺失",{"type":21,"tag":63,"props":6150,"children":6151},{},[6152,6154],{"type":27,"value":6153},"Redis 設定參數",{"type":21,"tag":97,"props":6155,"children":6157},{"className":99,"code":6156,"language":101,"meta":13,"style":13},"# 32mb：緩衝區(buffer)一旦超過 32MB，Redis 直接將訂閱者(Sub)會強制踢    下線\n# 8mb + 60：緩衝區超過 8MB，並且持續 60 秒，Redis 也會把訂閱(Sub)會    被踢下線。\nclient-output-buffer-limit pubsub 32mb 8mb 60\n",[6158],{"type":21,"tag":35,"props":6159,"children":6160},{"__ignoreMap":13},[6161,6169,6177],{"type":21,"tag":107,"props":6162,"children":6163},{"class":109,"line":110},[6164],{"type":21,"tag":107,"props":6165,"children":6166},{"style":114},[6167],{"type":27,"value":6168},"# 32mb：緩衝區(buffer)一旦超過 32MB，Redis 直接將訂閱者(Sub)會強制踢    下線\n",{"type":21,"tag":107,"props":6170,"children":6171},{"class":109,"line":120},[6172],{"type":21,"tag":107,"props":6173,"children":6174},{"style":114},[6175],{"type":27,"value":6176},"# 8mb + 60：緩衝區超過 8MB，並且持續 60 秒，Redis 也會把訂閱(Sub)會    被踢下線。\n",{"type":21,"tag":107,"props":6178,"children":6179},{"class":109,"line":142},[6180,6185,6190,6195,6200,6205,6209],{"type":21,"tag":107,"props":6181,"children":6182},{"style":124},[6183],{"type":27,"value":6184},"client-output-buffer-limit",{"type":21,"tag":107,"props":6186,"children":6187},{"style":136},[6188],{"type":27,"value":6189}," pubsub",{"type":21,"tag":107,"props":6191,"children":6192},{"style":130},[6193],{"type":27,"value":6194}," 32",{"type":21,"tag":107,"props":6196,"children":6197},{"style":136},[6198],{"type":27,"value":6199},"mb",{"type":21,"tag":107,"props":6201,"children":6202},{"style":130},[6203],{"type":27,"value":6204}," 8",{"type":21,"tag":107,"props":6206,"children":6207},{"style":136},[6208],{"type":27,"value":6199},{"type":21,"tag":107,"props":6210,"children":6211},{"style":130},[6212],{"type":27,"value":6213}," 60\n",{"type":21,"tag":91,"props":6215,"children":6217},{"id":6216},"使用上的限制-1",[6218],{"type":27,"value":6128},{"type":21,"tag":91,"props":6220,"children":6222},{"id":6221},"使用上的考量",[6223],{"type":27,"value":6221},{"type":21,"tag":59,"props":6225,"children":6226},{},[6227,6232,6237,6242],{"type":21,"tag":63,"props":6228,"children":6229},{},[6230],{"type":27,"value":6231},"由於 Pub/Sub 的內容，是不會進行保存的，所以重要的資料不建議使用此方式來傳遞",{"type":21,"tag":63,"props":6233,"children":6234},{},[6235],{"type":27,"value":6236},"發佈者(Pub)發布消息後，並不會管訂閱者(Sub)是否有接收到消息，也沒有 ACK 機制，所以無法確定訂閱者(Sub)是否有接收到訊息，因此在可靠訊息的場合中不建議使用",{"type":21,"tag":63,"props":6238,"children":6239},{},[6240],{"type":27,"value":6241},"訂閱者(Sub)會占用一個 Redis Server 的連線，所以要注意是否有佔用過多的連線",{"type":21,"tag":63,"props":6243,"children":6244},{},[6245],{"type":27,"value":6246},"當發佈者(Pub)發送”大量”訊息，若訂閱者(Sub)來不及消化，資料會阻塞在通道(channel)中，阻塞時間越長，資料丟失的風險就越高，當訊息量過大時，會造成緩衝區(buffer)溢出，就會導致資流失",{"type":21,"tag":91,"props":6248,"children":6250},{"id":6249},"常用指令-5",[6251],{"type":27,"value":1471},{"type":21,"tag":97,"props":6253,"children":6255},{"className":99,"code":6254,"language":101,"meta":13,"style":13},"# 查看全部的channel\n> PUBSUB CHANNELS\n> PUBSUB CHANNELS *\n\n# 查看channel使用wild card\n> PUBSUB CHANNELS sss*\n\n# 訂閱listen:something的頻道\nSUBSCRIBE listen:something\n\n# 發送資料給listen:something的頻道\nPUBLISH listen:something hello\n\n# 解除訂閱listen:something的頻道\nUNSUBSCRIBE listen:something\n\n# 使用MONITOR來Debug模式查看目前送出狀態\nMONITOR\n",[6256],{"type":21,"tag":35,"props":6257,"children":6258},{"__ignoreMap":13},[6259,6267,6279,6296,6303,6311,6327,6334,6342,6355,6362,6370,6388,6395,6403,6415,6422,6430],{"type":21,"tag":107,"props":6260,"children":6261},{"class":109,"line":110},[6262],{"type":21,"tag":107,"props":6263,"children":6264},{"style":114},[6265],{"type":27,"value":6266},"# 查看全部的channel\n",{"type":21,"tag":107,"props":6268,"children":6269},{"class":109,"line":120},[6270,6274],{"type":21,"tag":107,"props":6271,"children":6272},{"style":828},[6273],{"type":27,"value":1503},{"type":21,"tag":107,"props":6275,"children":6276},{"style":1506},[6277],{"type":27,"value":6278}," PUBSUB CHANNELS\n",{"type":21,"tag":107,"props":6280,"children":6281},{"class":109,"line":142},[6282,6286,6291],{"type":21,"tag":107,"props":6283,"children":6284},{"style":828},[6285],{"type":27,"value":1503},{"type":21,"tag":107,"props":6287,"children":6288},{"style":1506},[6289],{"type":27,"value":6290}," PUBSUB CHANNELS ",{"type":21,"tag":107,"props":6292,"children":6293},{"style":828},[6294],{"type":27,"value":6295},"*\n",{"type":21,"tag":107,"props":6297,"children":6298},{"class":109,"line":151},[6299],{"type":21,"tag":107,"props":6300,"children":6301},{"emptyLinePlaceholder":5},[6302],{"type":27,"value":148},{"type":21,"tag":107,"props":6304,"children":6305},{"class":109,"line":160},[6306],{"type":21,"tag":107,"props":6307,"children":6308},{"style":114},[6309],{"type":27,"value":6310},"# 查看channel使用wild card\n",{"type":21,"tag":107,"props":6312,"children":6313},{"class":109,"line":179},[6314,6318,6323],{"type":21,"tag":107,"props":6315,"children":6316},{"style":828},[6317],{"type":27,"value":1503},{"type":21,"tag":107,"props":6319,"children":6320},{"style":1506},[6321],{"type":27,"value":6322}," PUBSUB CHANNELS sss",{"type":21,"tag":107,"props":6324,"children":6325},{"style":828},[6326],{"type":27,"value":6295},{"type":21,"tag":107,"props":6328,"children":6329},{"class":109,"line":187},[6330],{"type":21,"tag":107,"props":6331,"children":6332},{"emptyLinePlaceholder":5},[6333],{"type":27,"value":148},{"type":21,"tag":107,"props":6335,"children":6336},{"class":109,"line":196},[6337],{"type":21,"tag":107,"props":6338,"children":6339},{"style":114},[6340],{"type":27,"value":6341},"# 訂閱listen:something的頻道\n",{"type":21,"tag":107,"props":6343,"children":6344},{"class":109,"line":209},[6345,6350],{"type":21,"tag":107,"props":6346,"children":6347},{"style":124},[6348],{"type":27,"value":6349},"SUBSCRIBE",{"type":21,"tag":107,"props":6351,"children":6352},{"style":136},[6353],{"type":27,"value":6354}," listen:something\n",{"type":21,"tag":107,"props":6356,"children":6357},{"class":109,"line":217},[6358],{"type":21,"tag":107,"props":6359,"children":6360},{"emptyLinePlaceholder":5},[6361],{"type":27,"value":148},{"type":21,"tag":107,"props":6363,"children":6364},{"class":109,"line":226},[6365],{"type":21,"tag":107,"props":6366,"children":6367},{"style":114},[6368],{"type":27,"value":6369},"# 發送資料給listen:something的頻道\n",{"type":21,"tag":107,"props":6371,"children":6372},{"class":109,"line":241},[6373,6378,6383],{"type":21,"tag":107,"props":6374,"children":6375},{"style":124},[6376],{"type":27,"value":6377},"PUBLISH",{"type":21,"tag":107,"props":6379,"children":6380},{"style":136},[6381],{"type":27,"value":6382}," listen:something",{"type":21,"tag":107,"props":6384,"children":6385},{"style":136},[6386],{"type":27,"value":6387}," hello\n",{"type":21,"tag":107,"props":6389,"children":6390},{"class":109,"line":249},[6391],{"type":21,"tag":107,"props":6392,"children":6393},{"emptyLinePlaceholder":5},[6394],{"type":27,"value":148},{"type":21,"tag":107,"props":6396,"children":6397},{"class":109,"line":258},[6398],{"type":21,"tag":107,"props":6399,"children":6400},{"style":114},[6401],{"type":27,"value":6402},"# 解除訂閱listen:something的頻道\n",{"type":21,"tag":107,"props":6404,"children":6405},{"class":109,"line":267},[6406,6411],{"type":21,"tag":107,"props":6407,"children":6408},{"style":124},[6409],{"type":27,"value":6410},"UNSUBSCRIBE",{"type":21,"tag":107,"props":6412,"children":6413},{"style":136},[6414],{"type":27,"value":6354},{"type":21,"tag":107,"props":6416,"children":6417},{"class":109,"line":275},[6418],{"type":21,"tag":107,"props":6419,"children":6420},{"emptyLinePlaceholder":5},[6421],{"type":27,"value":148},{"type":21,"tag":107,"props":6423,"children":6424},{"class":109,"line":284},[6425],{"type":21,"tag":107,"props":6426,"children":6427},{"style":114},[6428],{"type":27,"value":6429},"# 使用MONITOR來Debug模式查看目前送出狀態\n",{"type":21,"tag":107,"props":6431,"children":6432},{"class":109,"line":303},[6433],{"type":21,"tag":107,"props":6434,"children":6435},{"style":124},[6436],{"type":27,"value":6437},"MONITOR\n",{"type":21,"tag":91,"props":6439,"children":6441},{"id":6440},"使用情境-2",[6442],{"type":27,"value":4678},{"type":21,"tag":59,"props":6444,"children":6445},{},[6446,6458],{"type":21,"tag":63,"props":6447,"children":6448},{},[6449,6451],{"type":27,"value":6450},"SignalR / WebSocket 在 K8s 底下多個 Pod 的廣播應用，",{"type":21,"tag":1057,"props":6452,"children":6455},{"href":6453,"rel":6454},"https://learn.microsoft.com/zh-tw/aspnet/core/signalr/scale?view=aspnetcore-7.0",[1061],[6456],{"type":27,"value":6457},"Redis backplane",{"type":21,"tag":63,"props":6459,"children":6460},{},[6461],{"type":27,"value":6462},"在網頁應用程序中實現的即時聊天室。例如: 當有一個用戶在聊天室中發布了一條消息時，所有訂閱該消息的用戶都會收到通知。",{"type":21,"tag":22,"props":6464,"children":6466},{"id":6465},"常見的三大問題",[6467],{"type":27,"value":6465},{"type":21,"tag":53,"props":6469,"children":6471},{"id":6470},"cache-penetration-快取穿透",[6472],{"type":27,"value":6473},"Cache Penetration (快取穿透)",{"type":21,"tag":29,"props":6475,"children":6476},{},[6477,6479,6484,6486,6491],{"type":27,"value":6478},"在高併發的情況下，查詢一個不存在的數值時會發生。例如: id 為 ",{"type":21,"tag":69,"props":6480,"children":6481},{},[6482],{"type":27,"value":6483},"-1",{"type":27,"value":6485}," 或",{"type":21,"tag":69,"props":6487,"children":6488},{},[6489],{"type":27,"value":6490},"特別大不存在的資料時",{"type":27,"value":6492},"，會造成 Cache 內的資料是找不到的，既然從 Cache 中找不到數值，因此大量的 Request 皆會落到資料庫上，造成資料庫負擔。",{"type":21,"tag":29,"props":6494,"children":6495},{},[6496],{"type":27,"value":6497},"💡 請求未命中的 Cache，直接存取資料庫，這就是快取穿透。",{"type":21,"tag":29,"props":6499,"children":6500},{},[6501],{"type":27,"value":6502},"✅ 解決方式",{"type":21,"tag":6504,"props":6505,"children":6506},"ol",{},[6507,6526,6536],{"type":21,"tag":63,"props":6508,"children":6509},{},[6510,6512,6517,6519,6524],{"type":27,"value":6511},"在 Interface 層",{"type":21,"tag":35,"props":6513,"children":6514},{"className":13},[6515],{"type":27,"value":6516},"增加驗證",{"type":27,"value":6518},"，比如使用者權限驗證、參數驗證，不合法的參數就直接 Return，比如: id 做基本的驗證，id ≤ 0 直接",{"type":21,"tag":35,"props":6520,"children":6521},{"className":13},[6522],{"type":27,"value":6523},"return",{"type":27,"value":6525},"。",{"type":21,"tag":63,"props":6527,"children":6528},{},[6529,6534],{"type":21,"tag":35,"props":6530,"children":6531},{"className":13},[6532],{"type":27,"value":6533},"快取NULL數值",{"type":27,"value":6535},"，但是 Cache NULL 的時間不能太長，否則 NULL 資料長時間得不到更新，也不能太短，否則達不到防止 Cache Penetration(快取穿透)",{"type":21,"tag":63,"props":6537,"children":6538},{},[6539],{"type":27,"value":6540},"布隆過濾器(Bloom Filter) 類似 Hash table 的演算法，將所有可能的查詢生成一個 bitmap，在進行資料庫查詢之前會使用這個 bitmap 進行過濾，如果不在其中則直接過濾，從而減輕資料庫層面的壓力。",{"type":21,"tag":53,"props":6542,"children":6544},{"id":6543},"cache-breakdown-hotspot-invalid-快取擊穿",[6545],{"type":27,"value":6546},"Cache Breakdown / Hotspot Invalid (快取擊穿)",{"type":21,"tag":29,"props":6548,"children":6549},{},[6550],{"type":27,"value":6551},"在 Cache 中的一個 Key(比如一個促銷商品)，在某個時間點過期的時候，恰好這個時間點對這個 Key 有大量的高併發請求，這些請求發現 Cache 過期了，因此都從資料庫加載資料回 Cache，如果這個時間點有高併發請求則可能會瞬間造成資料庫壓垮。",{"type":21,"tag":29,"props":6553,"children":6554},{},[6555],{"type":27,"value":6556},"💡 熱點 Key，Cache 過期，直接攻擊資料庫",{"type":21,"tag":29,"props":6558,"children":6559},{},[6560],{"type":27,"value":6502},{"type":21,"tag":6504,"props":6562,"children":6563},{},[6564,6574],{"type":21,"tag":63,"props":6565,"children":6566},{},[6567,6569],{"type":27,"value":6568},"設置熱資料(Hot data)永遠",{"type":21,"tag":69,"props":6570,"children":6571},{},[6572],{"type":27,"value":6573},"不過期",{"type":21,"tag":63,"props":6575,"children":6576},{},[6577],{"type":27,"value":6578},"使用加互斥鎖，對 Cache 查詢時加鎖，如果 Key 不存在就加鎖，然後查 DB 進入到 Cache 中，然後解鎖，其他執行緒發現有鎖就必須等待，然後解鎖後返回資料或到資料庫查詢",{"type":21,"tag":53,"props":6580,"children":6582},{"id":6581},"cache-avalanche-快取雪崩",[6583],{"type":27,"value":6584},"Cache Avalanche (快取雪崩)",{"type":21,"tag":29,"props":6586,"children":6587},{},[6588],{"type":27,"value":6589},"大量的 Cache Key 在同一時間失效，導致大量的請求都落在資料庫上，如活動系統裡面同時進行著非常多的活動，但在某個時間點所有的 Cache 皆過期。",{"type":21,"tag":6504,"props":6591,"children":6592},{},[6593,6601],{"type":21,"tag":63,"props":6594,"children":6595},{},[6596,6597],{"type":27,"value":6568},{"type":21,"tag":69,"props":6598,"children":6599},{},[6600],{"type":27,"value":6573},{"type":21,"tag":63,"props":6602,"children":6603},{},[6604],{"type":27,"value":6605},"Cache 資料的過期時間設置為隨機，防止同一時間大量資料過期現象發生。",{"type":21,"tag":22,"props":6607,"children":6609},{"id":6608},"參考",[6610],{"type":27,"value":6608},{"type":21,"tag":59,"props":6612,"children":6613},{},[6614,6624,6634],{"type":21,"tag":63,"props":6615,"children":6616},{},[6617],{"type":21,"tag":1057,"props":6618,"children":6621},{"href":6619,"rel":6620},"https://blog.yowko.com/redis-persistence/",[1061],[6622],{"type":27,"value":6623},"關於 Redis Persistence - 資料持久化",{"type":21,"tag":63,"props":6625,"children":6626},{},[6627],{"type":21,"tag":1057,"props":6628,"children":6631},{"href":6629,"rel":6630},"https://medium.com/jerrynotes/redis-pub-sub-%E6%98%AF%E4%BB%80%E9%BA%BC-%E6%9C%83%E9%80%A0%E6%88%90%E4%BB%80%E9%BA%BC%E5%95%8F%E9%A1%8C%E5%91%A2-ab5be1e5328d",[1061],[6632],{"type":27,"value":6633},"Redis Pub/Sub",{"type":21,"tag":63,"props":6635,"children":6636},{},[6637],{"type":21,"tag":1057,"props":6638,"children":6641},{"href":6639,"rel":6640},"https://wuqian.blog.csdn.net/article/details/105812464",[1061],[6642],{"type":27,"value":6643},"一分鐘學習 Redis 常見的三大問題",{"type":21,"tag":6645,"props":6646,"children":6647},"style",{},[6648],{"type":27,"value":6649},"html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":13,"searchDepth":120,"depth":120,"links":6651},[6652,6653,6660,6667,6671,6676],{"id":24,"depth":120,"text":24},{"id":49,"depth":120,"text":49,"children":6654},[6655,6656,6657,6658,6659],{"id":55,"depth":142,"text":55},{"id":86,"depth":142,"text":89},{"id":1041,"depth":142,"text":1044},{"id":1081,"depth":142,"text":1084},{"id":1236,"depth":142,"text":1236},{"id":1346,"depth":120,"text":1346,"children":6661},[6662,6663,6664,6665,6666],{"id":1351,"depth":142,"text":1354},{"id":2427,"depth":142,"text":2430},{"id":3077,"depth":142,"text":3080},{"id":3805,"depth":142,"text":3808},{"id":4701,"depth":142,"text":4704},{"id":5213,"depth":120,"text":5213,"children":6668},[6669,6670],{"id":5218,"depth":142,"text":5221},{"id":6122,"depth":142,"text":6125},{"id":6465,"depth":120,"text":6465,"children":6672},[6673,6674,6675],{"id":6470,"depth":142,"text":6473},{"id":6543,"depth":142,"text":6546},{"id":6581,"depth":142,"text":6584},{"id":6608,"depth":120,"text":6608},"markdown","content:2.workshop:redis.md","content","2.workshop/redis.md","md","default",["ShallowRef",6684],["ShallowReactive",6685],{"/workshop/redis":6686},[6687,6694],{"_path":6688,"_dir":12,"_draft":6,"_partial":6,"_locale":13,"title":6689,"description":13,"pageTitle":6689,"contributors":6690,"_type":6677,"_id":6692,"_source":6679,"_file":6693,"_extension":6681},"/workshop/redis-ring","Redis Ring",[6691],"frank30941","content:2.workshop:redis-ring.md","2.workshop/redis-ring.md",{"_path":6695,"_dir":12,"_draft":6,"_partial":6,"_locale":13,"title":6696,"description":6697,"pageTitle":6696,"contributors":6698,"_type":6677,"_id":6700,"_source":6679,"_file":6701,"_extension":6681},"/workshop/tdd_part1","TDD技術分享 - Part1 灌輸","TDD為軟體開發一種手法，核心思維在於釐清功能情境後，從測試程式碼開始開發。與一般開發習慣有很大的不同。",[6699],"spyua","content:2.workshop:tdd_part1.md","2.workshop/tdd_part1.md",["ShallowRef",6703],{},[6705,6719,6736,6750,6782,6801,6881],{"title":6706,"_path":6707,"children":6708,"icon":6718},"API","/api",[6709,6712,6715],{"title":6710,"_path":6711},"Components","/api/components",{"title":6713,"_path":6714},"Composables","/api/composables",{"title":6716,"_path":6717},"Layouts","/api/layouts","🛡️",{"title":6720,"_path":6721,"children":6722,"icon":6735},"技術分享","/workshop",[6723,6726,6729,6732,6733,6734],{"title":6724,"_path":6725},"使用Gitlab做CI/CD","/workshop/gitlab-cicd",{"title":6727,"_path":6728},"gRPC快速入門","/workshop/grpc",{"title":6730,"_path":6731},"Liquibase快速入門","/workshop/liquibase",{"title":6689,"_path":6688},{"title":14,"_path":11},{"title":6696,"_path":6695},"⚒️",{"title":6737,"_path":6738,"children":6739,"icon":6749},"Web API的設計與開發","/web-api",[6740,6743,6746],{"title":6741,"_path":6742},"第2章 EndPoint設計與請求形式","/web-api/chapter2",{"title":6744,"_path":6745},"第5章 開發方便更改設計的API","/web-api/chapter5",{"title":6747,"_path":6748},"第6章 開發牢固的WebAPI","/web-api/chapter6","📗",{"title":6751,"_path":6752,"children":6753,"icon":6781},"持續交付2.0：實務導向的DevOps","/cicd-2.0",[6754,6757,6760,6763,6766,6769,6772,6775,6778],{"title":6755,"_path":6756},"05 持續交付的軟體系統架構","/cicd-2.0/chapter5",{"title":6758,"_path":6759},"07 部署流水線原則與工具設計","/cicd-2.0/chapter7",{"title":6761,"_path":6762},"08 利於集成的分支策略","/cicd-2.0/chapter8",{"title":6764,"_path":6765},"09 持續整合","/cicd-2.0/chapter9",{"title":6767,"_path":6768},"10 自動化測試策略與方法","/cicd-2.0/chapter10",{"title":6770,"_path":6771},"11 軟件配置管理","/cicd-2.0/chapter11",{"title":6773,"_path":6774},"12 低風險發佈","/cicd-2.0/chapter12",{"title":6776,"_path":6777},"13 監測與決策","/cicd-2.0/chapter13",{"title":6779,"_path":6780},"16 研發推動的DevOps","/cicd-2.0/chapter16","🏷️",{"title":39,"_path":6783,"children":6784,"icon":6800},"/ddia",[6785,6788,6791,6794,6797],{"title":6786,"_path":6787},"01 可靠性、可伸縮性和可維護性","/ddia/chapter1",{"title":6789,"_path":6790},"03 數據儲存與檢索","/ddia/chapter3",{"title":6792,"_path":6793},"04 編碼與演化","/ddia/chapter4",{"title":6795,"_path":6796},"05 複製","/ddia/chapter5",{"title":6798,"_path":6799},"09 一致性與共識","/ddia/chapter9","📕",{"title":6802,"_path":6803,"children":6804,"icon":6880},"Clean Architecture - 無瑕的程式碼","/clean-arch",[6805,6808,6811,6814,6817,6820,6823,6826,6829,6832,6835,6838,6841,6844,6847,6850,6853,6856,6859,6862,6865,6868,6871,6874,6877],{"title":6806,"_path":6807},"01 什麼是設計與結構","/clean-arch/chapter1",{"title":6809,"_path":6810},"02 兩種價值觀的故事","/clean-arch/chapter2",{"title":6812,"_path":6813},"03 範式概述","/clean-arch/chapter3",{"title":6815,"_path":6816},"04 結構化程式設計","/clean-arch/chapter4",{"title":6818,"_path":6819},"05 物件導向程式設計","/clean-arch/chapter5",{"title":6821,"_path":6822},"06 函數式程式設計","/clean-arch/chapter6",{"title":6824,"_path":6825},"12 元件","/clean-arch/chapter12",{"title":6827,"_path":6828},"13 元件內聚性","/clean-arch/chapter13",{"title":6830,"_path":6831},"14 元件耦合性","/clean-arch/chapter14",{"title":6833,"_path":6834},"15 什麼是架構","/clean-arch/chapter15",{"title":6836,"_path":6837},"16 獨立性","/clean-arch/chapter16",{"title":6839,"_path":6840},"18 邊界剖析","/clean-arch/chapter18",{"title":6842,"_path":6843},"19 POLICY AND LEVEL 策略與層次","/clean-arch/chapter19",{"title":6845,"_path":6846},"20 BUSINESS RULES 業務邏輯","/clean-arch/chapter20",{"title":6848,"_path":6849},"21 會尖叫的架構","/clean-arch/chapter21",{"title":6851,"_path":6852},"22 整潔的架構","/clean-arch/chapter22",{"title":6854,"_path":6855},"23 Presenter與Humble Object","/clean-arch/chapter23",{"title":6857,"_path":6858},"24 不完全邊界","/clean-arch/chapter24",{"title":6860,"_path":6861},"25 層與邊界","/clean-arch/chapter25",{"title":6863,"_path":6864},"30 資料庫細節","/clean-arch/chapter30",{"title":6866,"_path":6867},"31 WEB是細節","/clean-arch/chapter31",{"title":6869,"_path":6870},"32 框架也只是細節","/clean-arch/chapter32",{"title":6872,"_path":6873},"33 影片銷售系統案例研究","/clean-arch/chapter33",{"title":6875,"_path":6876},"Clean Architecture 第34章：The Missing Chapter","/clean-arch/chapter34",{"title":6878,"_path":6879},"99 來自於網路世界的書評","/clean-arch/chapter99","📘",{"title":6882,"_path":6883,"children":6884,"icon":6903},"System Design Interview: An Insider’s Guide","/sdi-aig",[6885,6888,6891,6894,6897,6900],{"title":6886,"_path":6887},"01 從 0 到百萬用戶","/sdi-aig/chapter1",{"title":6889,"_path":6890},"04 設計網路限速器","/sdi-aig/chapter4",{"title":6892,"_path":6893},"06 設計鍵值儲存系統","/sdi-aig/chapter6",{"title":6895,"_path":6896},"07 設計可用於分散式系統的唯一ID生成器","/sdi-aig/chapter7",{"title":6898,"_path":6899},"08 設計短網址生成器","/sdi-aig/chapter8",{"title":6901,"_path":6902},"09 設計網路爬蟲","/sdi-aig/chapter9","📖",{"📖":-1,"📘":-1,"📕":-1,"🏷️":-1,"📗":-1,"⚒️":-1,"🛡️":-1,"heroicons-outline:menu":6905,"el:group":6908,"mdi:github":6911,"lucide:chevrons-up-down":6913,"uil:edit":6915,"heroicons-outline:arrow-sm-left":6917,"heroicons-outline:arrow-sm-right":6919,"heroicons-outline:chevron-right":6921,"heroicons-outline:book-open":6923,"ph:copy":6925,"heroicons-outline:search":6928},{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6907},0,"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"/>",{"left":6906,"top":6906,"width":6909,"height":6909,"rotate":6906,"vFlip":6,"hFlip":6,"body":6910},1200,"\u003Cpath fill=\"currentColor\" d=\"M596.847 188.488c-103.344 0-187.12 97.81-187.12 218.465c0 83.678 40.296 156.352 99.468 193.047l-68.617 31.801l-182.599 84.688c-17.64 8.821-26.444 23.778-26.444 44.947v201.102c1.451 25.143 16.537 48.577 40.996 48.974h649.62c27.924-2.428 42.05-24.92 42.325-48.974V761.436c0-21.169-8.804-36.126-26.443-44.947l-175.988-84.688l-73.138-34.65c56.744-37.521 95.061-108.624 95.061-190.197c-.001-120.656-83.778-218.466-187.121-218.466m-301.824 76.824c-44.473 1.689-79.719 20.933-106.497 51.596c-29.62 36.918-44.06 80.75-44.339 124.354c1.819 64.478 30.669 125.518 82.029 157.446L21.163 693.997C7.05 699.289 0 711.636 0 731.041v161.398c1.102 21.405 12.216 39.395 33.055 39.703h136.284V761.436c2.255-45.639 23.687-82.529 62.196-100.531l136.247-64.817c10.584-6.175 20.731-14.568 30.433-25.152c-56.176-86.676-63.977-190.491-27.773-281.801c-23.547-14.411-50.01-23.672-75.419-23.823m608.586 0c-29.083.609-55.96 11.319-78.039 26.444c35.217 92.137 25.503 196.016-26.482 276.52c11.467 13.23 23.404 23.377 35.753 30.434l130.965 62.195c39.897 21.881 60.47 59.098 60.866 100.532v170.707h140.235c23.063-1.991 32.893-20.387 33.093-39.704V731.042c0-17.641-7.05-29.987-21.163-37.045l-202.431-96.618c52.498-38.708 78.859-96.72 79.369-156.117c-1.396-47.012-15.757-90.664-44.339-124.354c-29.866-32.399-66.91-51.253-107.827-51.596\"/>",{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6912},"\u003Cpath fill=\"currentColor\" d=\"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2\"/>",{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6914},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m7 15l5 5l5-5M7 9l5-5l5 5\"/>",{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6916},"\u003Cpath fill=\"currentColor\" d=\"M21 12a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1m-15 .76V17a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .71-.29l6.92-6.93L21.71 8a1 1 0 0 0 0-1.42l-4.24-4.29a1 1 0 0 0-1.42 0l-2.82 2.83l-6.94 6.93a1 1 0 0 0-.29.71m10.76-8.35l2.83 2.83l-1.42 1.42l-2.83-2.83ZM8 13.17l5.93-5.93l2.83 2.83L10.83 16H8Z\"/>",{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6918},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m11 17l-5-5m0 0l5-5m-5 5h12\"/>",{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6920},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m13 7l5 5m0 0l-5 5m5-5H6\"/>",{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6922},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m9 5l7 7l-7 7\"/>",{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6924},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18s-3.332.477-4.5 1.253\"/>",{"left":6906,"top":6906,"width":6926,"height":6926,"rotate":6906,"vFlip":6,"hFlip":6,"body":6927},256,"\u003Cpath fill=\"currentColor\" d=\"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z\"/>",{"left":6906,"top":6906,"width":1712,"height":1712,"rotate":6906,"vFlip":6,"hFlip":6,"body":6929},"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m21 21l-6-6m2-5a7 7 0 1 1-14 0a7 7 0 0 1 14 0\"/>",{"parentPath":6721,"scrollTop":6906},{},{},{},{},{},{},{},{},["Reactive",6940],{"search-api":6941},null,1760091522320]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{baseURL:"/code-study",mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1760091465909,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:["icon","titleTemplate","header","main","aside","footer","layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:{dark:"github-dark",default:"github-light",sepia:"monokai"},preload:["c","cpp","java","bash","xml","powershell","csharp","c#","go","kotlin","proto","sh","shell","zsh","graphql","groovy","json","js","ts","html","css","vue","diff","shell","markdown","yaml","bash","ini"]},wsUrl:"",documentDriven:{page:true,navigation:true,surround:true,globals:{},layoutFallbacks:["theme"],injectPage:true},host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}},studio:{apiURL:"https://api.nuxt.studio"}},app:{baseURL:"/code-study",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>